var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function i(t){return t()}function s(){return Object.create(null)}function o(t){t.forEach(i)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function c(t,e,n){t.$$.on_destroy.push(a(e,n))}function d(t){return null==t?"":t}const u="undefined"!=typeof window;let h=u?()=>window.performance.now():()=>Date.now(),f=u?t=>requestAnimationFrame(t):t;const p=new Set;function g(t){p.forEach(e=>{e.c(t)||(p.delete(e),e.f())}),0!==p.size&&f(g)}function m(t){let e;return 0===p.size&&f(g),{promise:new Promise(n=>{p.add(e={c:t,f:n})}),abort(){p.delete(e)}}}function b(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function x(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function w(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function C(t){return document.createTextNode(t)}function _(){return C(" ")}function I(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function L(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}function P(t,e){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e)return void(i.selected=!0)}}function k(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function F(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=document.createElement("object");let i;return n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.type="text/html",n.tabIndex=-1,n.onload=()=>{i=n.contentDocument.defaultView,i.addEventListener("resize",e)},/Trident/.test(navigator.userAgent)?(t.appendChild(n),n.data="about:blank"):(n.data="about:blank",t.appendChild(n)),{cancel:()=>{i&&i.removeEventListener&&i.removeEventListener("resize",e),t.removeChild(n)}}}let S;function T(t){S=t}function X(){if(!S)throw new Error("Function called outside component initialization");return S}const A=[],E=[],j=[],q=[],B=Promise.resolve();let H=!1;function z(t){j.push(t)}let D=!1;const O=new Set;function V(){if(!D){D=!0;do{for(let t=0;t<A.length;t+=1){const e=A[t];T(e),N(e.$$)}for(A.length=0;E.length;)E.pop()();for(let t=0;t<j.length;t+=1){const e=j[t];O.has(e)||(O.add(e),e())}j.length=0}while(A.length);for(;q.length;)q.pop()();H=!1,D=!1,O.clear()}}function N(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const R=new Set;let W;function Z(){W={r:0,c:[],p:W}}function G(){W.r||o(W.c),W=W.p}function U(t,e){t&&t.i&&(R.delete(t),t.i(e))}function Y(t,e,n,i){if(t&&t.o){if(R.has(t))return;R.add(t),W.c.push(()=>{R.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}function K(t){t&&t.c()}function J(t,e,n){const{fragment:s,on_mount:l,on_destroy:a,after_update:c}=t.$$;s&&s.m(e,n),z(()=>{const e=l.map(i).filter(r);a?a.push(...e):o(e),t.$$.on_mount=[]}),c.forEach(z)}function Q(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(t,e){-1===t.$$.dirty[0]&&(A.push(t),H||(H=!0,B.then(V)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(e,n,i,r,l,a,c=[-1]){const d=S;T(e);const u=n.props||{},h=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:s(),dirty:c};let f=!1;if(h.ctx=i?i(e,u,(t,n,...i)=>{const s=i.length?i[0]:n;return h.ctx&&l(h.ctx[t],h.ctx[t]=s)&&(h.bound[t]&&h.bound[t](s),f&&tt(e,t)),n}):[],h.update(),f=!0,o(h.before_update),h.fragment=!!r&&r(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach($)}else h.fragment&&h.fragment.c();n.intro&&U(e.$$.fragment),J(e,n.target,n.anchor),V()}T(d)}class nt{$destroy(){Q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const it=[];function st(e,n=t){let i;const s=[];function o(t){if(l(e,t)&&(e=t,i)){const t=!it.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),it.push(n,e)}if(t){for(let t=0;t<it.length;t+=2)it[t][0](it[t+1]);it.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(r,l=t){const a=[r,l];return s.push(a),1===s.length&&(i=n(o)||t),r(e),()=>{const t=s.indexOf(a);-1!==t&&s.splice(t,1),0===s.length&&(i(),i=null)}}}}const ot=st(!1),rt=st(!1),lt=st(!1),at=st(null),ct=st(1200),dt=st(675),ut=st({x:0,y:0}),ht=st({x:0,y:0}),ft=st(!1),pt=st(0),gt=st(!0),mt=st("Sine"),bt=st("Eb3"),yt=st("Blues"),$t=st([]),xt=st(2),vt=st(null);function wt(t){const e=1.70158;return--t*t*((e+1)*t+e)+1}function Ct(t){return"[object Date]"===Object.prototype.toString.call(t)}function _t(t,e={}){const n=st(t),{stiffness:i=.15,damping:s=.8,precision:o=.01}=e;let r,l,a,c=t,d=t,u=1,f=0,p=!1;function g(e,i={}){d=e;const s=a={};if(null==t||i.hard||b.stiffness>=1&&b.damping>=1)return p=!0,r=h(),c=e,n.set(t=d),Promise.resolve();if(i.soft){const t=!0===i.soft?.5:+i.soft;f=1/(60*t),u=0}return l||(r=h(),p=!1,l=m(e=>{if(p)return p=!1,l=null,!1;u=Math.min(u+f,1);const i={inv_mass:u,opts:b,settled:!0,dt:60*(e-r)/1e3},s=function t(e,n,i,s){if("number"==typeof i||Ct(i)){const t=s-i,o=(i-n)/(e.dt||1/60),r=(o+(e.opts.stiffness*t-e.opts.damping*o)*e.inv_mass)*e.dt;return Math.abs(r)<e.opts.precision&&Math.abs(t)<e.opts.precision?s:(e.settled=!1,Ct(i)?new Date(i.getTime()+r):i+r)}if(Array.isArray(i))return i.map((o,r)=>t(e,n[r],i[r],s[r]));if("object"==typeof i){const o={};for(const r in i)o[r]=t(e,n[r],i[r],s[r]);return o}throw new Error(`Cannot spring ${typeof i} values`)}(i,c,t,d);return r=e,c=t,n.set(t=s),i.settled&&(l=null),!i.settled})),new Promise(t=>{l.promise.then(()=>{s===a&&t()})})}const b={set:g,update:(e,n)=>g(e(d,t),n),subscribe:n.subscribe,stiffness:i,damping:s,precision:o};return b}function It(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map((e,n)=>It(t[n],e));return t=>n.map(e=>e(t))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Ct(t)&&Ct(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),i={};return n.forEach(n=>{i[n]=It(t[n],e[n])}),t=>{const e={};return n.forEach(n=>{e[n]=i[n](t)}),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function Mt(t,i={}){const s=st(t);let o,r=t;function l(l,a){if(null==t)return s.set(t=l),Promise.resolve();r=l;let c=o,d=!1,{delay:u=0,duration:f=400,easing:p=e,interpolate:g=It}=n(n({},i),a);const b=h()+u;let y;return o=m(e=>{if(e<b)return!0;d||(y=g(t,l),"function"==typeof f&&(f=f(t,l)),d=!0),c&&(c.abort(),c=null);const n=e-b;return n>f?(s.set(t=l),!1):(s.set(t=y(p(n/f))),!0)}),o.promise}return{set:l,update:(e,n)=>l(e(r,t),n),subscribe:s.subscribe}}const Lt=new PIXI.Application(800,450),Pt=Lt.stage=new PIXI.display.Stage;Pt.addChild(new PIXI.display.Layer(PIXI.lights.diffuseGroup)),Pt.addChild(new PIXI.display.Layer(PIXI.lights.normalGroup)),Pt.addChild(new PIXI.display.Layer(PIXI.lights.lightGroup));const kt=PIXI.loader.add("static_bg","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FStatic_BG.png?v=1584933516627").add("bg_normal","https://cdn.glitch.com/e352d3ca-2e03-47f1-acfd-675dff041f5f%2FNormalMap.png?v=1573974228592").add("machine_right","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FMachine_Right.png?v=1584933516896").add("machine_right_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FMachine_Right_normal.jpg?v=1584933515948").add("machine_left","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FMachine_Left.png?v=1584933517080").add("machine_left_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FMachine_Left_Normal.jpg?v=1584933516036").add("table","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTable_normal.jpg?v=1584933515769").add("table_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTable_normal.jpg?v=1584933515769").add("theremin_null","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2Ftheremin_null.jpg?v=1585345680882").add("theremin_body_bottom","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTheremin_Body_Bottom.png?v=1585100297444").add("theremin_body_bottom_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTheremin_Body_Bottom_Normal.jpg?v=1585100297564").add("theremin_body_top","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTheremin_Body_Top.png?v=1585101187057").add("theremin_body_top_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTheremin_Body_Top_Normal.jpg?v=1585100297463").add("right_antenna","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FAntenna_Right.png?v=1585236174151").add("right_antenna_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FAntenna_Right_Normal.jpg?v=1585236174117").add("left_antenna1","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FAntenna_Left1.png?v=1584933516264").add("left_antenna1_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FAntenna_Left1_Normal.jpg?v=1584933515645").add("left_antenna2","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FAntenna_Left2.png?v=1584933516405").add("left_antenna2_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FAntenna_Left2_normal.jpg?v=1584933515750").add("knob","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FKnob.png?v=1584933515187").add("knob_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FKnob_normal.jpg?v=1584933515376").add("solid2x2","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FSolid2X2.png?v=1585365268924").add("gradient2x2","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FGradient2X2.png?v=1585365268893").add("normal2x2","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2F2X2_Normal.png?v=1585365268937"),Ft=new Promise((t,e)=>kt.load((e,n)=>{t(n)})),St=(t,e)=>{if(e){return((t,e)=>{var n=new PIXI.Container,i=new PIXI.Sprite(t);i.parentGroup=PIXI.lights.diffuseGroup;var s=new PIXI.Sprite(e);return s.parentGroup=PIXI.lights.normalGroup,n.addChild(i),n.addChild(s),n})(t,e)}return new PIXI.Sprite(t)};function Tt(t,e,n){const i=(e+1)*n;t*=n,e*=n;const s=document.createElement("canvas"),o=s.getContext("2d");s.width=s.height=2*i;const r=o.createRadialGradient(i,i,t,i,i,e);return r.addColorStop(0,"rgba(255,255,255,1)"),r.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=r,o.fillRect(0,0,s.width,s.height),PIXI.Texture.fromCanvas(s)}const Xt=(t,e)=>{const n=e.getBounds();return t.x>n.x&&t.x<n.x+n.width&&t.y>n.y&&t.y<n.y+n.height};function At(t,e,n){let i,s,o;c(t,ct,t=>n(5,i=t)),c(t,dt,t=>n(6,s=t)),c(t,ht,t=>n(7,o=t));let{textures:r=null}=e,{stage:l=null}=e;const a=Mt(0,{duration:700,easing:wt}),d=new PIXI.Container,u=St(r.static_bg.texture,r.bg_normal.texture);u.children[0].tint=15025734;const h=r.static_bg.texture.width/r.static_bg.texture.height,f=St(r.machine_left.texture,r.machine_left_normal.texture),p=St(r.machine_right.texture,r.machine_right_normal.texture);return d.addChild(u,p,f),l.addChild(d),a.set(1),t.$set=t=>{"textures"in t&&n(0,r=t.textures),"stage"in t&&n(1,l=t.stage)},t.$$.update=()=>{if(252&t.$$.dirty){if(i/s>h?(n(2,u.width=i,u),n(2,u.scale.y=u.scale.x,u)):(n(2,u.height=s,u),n(2,u.scale.x=u.scale.y,u)),u.position.set(.5*i-.5*u.width,.5*s-.5*u.height),n(3,f.width=.6*i<s?.6*i:.9*s,f),n(3,f.scale.y=f.scale.x,f),n(3,f.position.x=.6*i<s?.1*i-.15*f.width:.1*i-.1*f.width,f),n(3,f.position.y=.1*s,f),n(4,p.width=.6*i<s?.55*i:.85*s,p),n(4,p.scale.y=f.scale.x,p),n(4,p.position.x=.6*i<s?.9*i-.48*p.width:.9*i-.45*p.width,p),n(4,p.position.y=1.3*f.position.y,p),i>=900&&n(4,p.visible=!0,p),i>=600&&i<900){n(3,f.width=i-160,f),n(3,f.scale.y=f.scale.x,f),n(3,f.position.x=80,f);let t=o.y+.85*o.height-f.height;n(3,f.position.y=t>20?t:20,f),n(4,p.visible=!1,p)}if(i<600){n(3,f.width=i-30,f),n(3,f.scale.y=f.scale.x,f),n(3,f.position.x=15,f);let t=o.y+.85*o.height-f.height;n(3,f.position.y=t>20?t:20,f),n(4,p.visible=!1,p)}}},[r,l]}class Et extends nt{constructor(t){super(),et(this,t,At,null,l,{textures:0,stage:1})}}function jt(t,e,n){let i,s,o;c(t,dt,t=>n(3,i=t)),c(t,ct,t=>n(4,s=t)),c(t,ht,t=>n(5,o=t));let{textures:r=null}=e,{stage:l=null}=e;const a=St(r.solid2x2.texture,r.normal2x2.texture);return a.children[0].tint=10066329,l.addChild(a),t.$set=t=>{"textures"in t&&n(0,r=t.textures),"stage"in t&&n(1,l=t.stage)},t.$$.update=()=>{60&t.$$.dirty&&(n(2,a.height=i,a),n(2,a.width=s,a),n(2,a.x=.5*(s-a.width),a),n(2,a.y=o.y+.75*o.height,a))},[r,l]}class qt extends nt{constructor(t){super(),et(this,t,jt,null,l,{textures:0,stage:1})}}function Bt(t,e,n){let i,s,o,r,l;c(t,ct,t=>n(13,s=t)),c(t,dt,t=>n(14,o=t)),c(t,ot,t=>n(15,r=t)),c(t,ut,t=>n(16,l=t));let{textures:a=null}=e,{stage:d=null}=e;const u=Mt(0,{duration:700,easing:wt});c(t,u,t=>n(12,i=t));const h=new PIXI.Container,f=(new PIXI.lights.DirectionalLight(16744192,2,h),St(a.theremin_null.texture));f.alpha=0;const p=St(a.theremin_body_bottom.texture,a.theremin_body_bottom_normal.texture),g=St(a.theremin_body_top.texture,a.theremin_body_top_normal.texture),m=St(a.right_antenna.texture,a.right_antenna_normal.texture);m.children[0].tint=6697830;const b=new PIXI.lights.PointLight(16744192,1.2),y=St(a.left_antenna1.texture,a.left_antenna1_normal.texture);y.children[0].tint=3355494;const $=St(a.left_antenna2.texture,a.left_antenna2_normal.texture);$.children[0].tint=6697830;const x=new PIXI.lights.PointLight(16744192,1.2);return h.addChild(f,p,y,$,m,g,x,b),d.addChild(h),rt.set(!0),t.$set=t=>{"textures"in t&&n(1,a=t.textures),"stage"in t&&n(2,d=t.stage)},t.$$.update=()=>{30458&t.$$.dirty&&(n(5,p.y=f.height-p.height,p),n(5,p.x=.17*f.width,p),n(6,g.y=.913*f.height-g.height,g),n(6,g.x=.17*f.width,g),n(9,y.scale=new PIXI.Point(1.5,1.5),y),n(9,y.x=f.width*(.19-.05*i),y),n(9,y.y=.911*f.height-y.height,y),n(10,$.scale=new PIXI.Point(1.8,1.8),$),n(10,$.x=f.width*(.055-.05*i),$),n(10,$.y=.925*f.height-$.height,$),x.x=f.width*(.1-.05*i),x.y=.85*f.height,x.brightness=.5+.7*Math.min(Math.max(s/1200,0),1),n(7,m.scale.y=.61+.28*i,m),n(7,m.x=.9145*f.width,m),n(7,m.y=.81*f.height-m.height,m),b.x=.9145*f.width,b.y=f.height*(.3-.1*i),b.brightness=.5+.7*Math.min(Math.max(s/1200,0),1),a.theremin_null.texture.width/a.theremin_null.texture.height>s/o?(n(3,h.width=.88*s,h),n(3,h.scale.y=h.scale.x,h)):(n(3,h.height=.88*o,h),n(3,h.scale.x=h.scale.y,h)),s<600&&(n(3,h.width=s-30,h),n(3,h.x=.48*(s-h.width),h),n(3,h.scale.y=h.scale.x,h)),n(3,h.x=.48*(s-h.width),h),n(3,h.y=.4*(o-h.height),h),ht.set({x:h.x,y:h.y,width:h.width,height:h.height})),103552&t.$$.dirty&&(!0===r?(0===i&&u.set(1),Xt(l,$)&&16777215!==$.children[0].tint&&n(10,$.children[0].tint=16777215,$),Xt(l,$)||6697830===$.children[0].tint||n(10,$.children[0].tint=6697830,$),Xt(l,m)&&16777215!==m.children[0].tint&&n(7,m.children[0].tint=16777215,m),Xt(l,m)||6697830===m.children[0].tint||n(7,m.children[0].tint=6697830,m)):1===i&&u.set(0))},[u,a,d]}class Ht extends nt{constructor(t){super(),et(this,t,Bt,null,l,{textures:1,stage:2})}}function zt(t,e,n){let i,s,o,r;c(t,ot,t=>n(2,i=t)),c(t,ht,t=>n(4,o=t)),c(t,ct,t=>n(5,r=t));let{stage:l=null}=e;const a=Mt(0,{duration:700,easing:wt});c(t,a,t=>n(3,s=t));const d=new PIXI.lights.AmbientLight(null,.3),u=new PIXI.Container,h=[{x:0,y:.2,color:16744192}];return h.forEach(t=>{let e=new PIXI.lights.PointLight(t.color,0);u.addChild(e)}),l.addChild(d,u),t.$set=t=>{"stage"in t&&n(1,l=t.stage)},t.$$.update=()=>{60&t.$$.dirty&&(!0===i?0===s&&a.set(1):1===s&&a.set(0),u.children.forEach((t,e)=>{t.position.x=o.x+o.width/2+h[e].x*o.width,t.position.y=o.y+o.height/2+h[e].y*o.height,t.brightness=(.4+Math.min(Math.max(r,0),400)/400)*s}))},[a,l]}class Dt extends nt{constructor(t){super(),et(this,t,zt,null,l,{stage:1})}}function Ot(e){let n,i;return{c(){n=v("container"),i=v("div"),i.innerHTML='<span class="svelte-ytjumz">2</span>',M(i,"class","svelte-ytjumz"),L(n,"opacity",e[1]?1:0),L(n,"transform","translate("+(e[4].x-26)+"px, "+(e[4].y-26)+"px)"),M(n,"class","svelte-ytjumz")},m(t,s){y(t,n,s),b(n,i),e[22](n)},p(t,[e]){2&e&&L(n,"opacity",t[1]?1:0),16&e&&L(n,"transform","translate("+(t[4].x-26)+"px, "+(t[4].y-26)+"px)")},i:t,o:t,d(t){t&&$(n),e[22](null)}}}function Vt(e,n,i){let s,o,r,l,d,u,h,f,p,g=t,m=()=>(g(),g=a(T,t=>i(14,l=t)),T),b=t,y=()=>(b(),b=a(X,t=>i(17,h=t)),X),$=t,x=()=>($(),$=a(S,t=>i(18,p=t)),S);c(e,ht,t=>i(11,s=t)),c(e,vt,t=>i(12,o=t)),c(e,at,t=>i(13,r=t)),c(e,ct,t=>i(15,d=t)),c(e,dt,t=>i(16,u=t)),c(e,ut,t=>i(4,f=t)),e.$$.on_destroy.push(()=>g()),e.$$.on_destroy.push(()=>b()),e.$$.on_destroy.push(()=>$());let v,{stage:w=null}=n,{app:C=null}=n;const _=new PIXI.lights.PointLight(16744192,3),I=Tt(0,12,C.renderer.resolution),M=Tt(0,24,C.renderer.resolution),L=new PIXI.particles.ParticleContainer(5e3,{scale:!0,position:!0,rotation:!1,uvs:!1,tint:!0}),P=new PIXI.particles.Emitter(L,[I],{autoUpdate:!0,emit:!1,alpha:{start:.8,end:.15},scale:{start:1,end:.2,minimumScaleMultiplier:1},color:{start:"#FFFF33",end:"#ff7f00"},speed:{start:0,end:0,minimumSpeedMultiplier:1},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:0,max:0},noRotation:!0,rotationSpeed:{min:0,max:0},lifetime:{min:2,max:2},blendMode:"normal",frequency:8e-4,emitterLifetime:-1,maxParticles:5e3,pos:{x:0,y:0},addAtBack:!1,spawnType:"point"}),k=new PIXI.particles.Emitter(L,[M],{autoUpdate:!0,emit:!1,alpha:{start:.8,end:.15},scale:{start:1,end:.2,minimumScaleMultiplier:1},color:{start:"#E54646",end:"#8D1A6D"},speed:{start:0,end:0,minimumSpeedMultiplier:1},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:0,max:0},noRotation:!0,rotationSpeed:{min:0,max:0},lifetime:{min:1,max:1},blendMode:"normal",frequency:8e-4,emitterLifetime:-1,maxParticles:5e3,pos:{x:0,y:0},addAtBack:!1,spawnType:"point"}),F=new PIXI.particles.Emitter(L,[M],{autoUpdate:!0,emit:!1,alpha:{start:.8,end:.15},scale:{start:1,end:.2,minimumScaleMultiplier:1},color:{start:"#E54646",end:"#8D1A6D"},speed:{start:0,end:0,minimumSpeedMultiplier:1},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:0,max:0},noRotation:!0,rotationSpeed:{min:0,max:0},lifetime:{min:1,max:1},blendMode:"normal",frequency:8e-4,emitterLifetime:-1,maxParticles:5e3,pos:{x:0,y:0},addAtBack:!1,spawnType:"point"});let S=null;x();let T=null;m();let X=null;return y(),w.addChild(_,L),e.$set=t=>{"stage"in t&&i(5,w=t.stage),"app"in t&&i(6,C=t.app)},e.$$.update=()=>{if(2050&e.$$.dirty&&s.x>0&&!S&&(ut.set({x:s.x+.12*s.width,y:s.y+.7*s.height}),x(i(1,S=_t({x:s.x+.12*s.width,y:s.y+.7*s.height},{stiffness:.3,damping:.8}))),m(i(2,T=_t({x:s.x+.12*s.width,y:s.y+.7*s.height},{stiffness:.05,damping:.65}))),y(i(3,X=_t({x:s.x+.88*s.width,y:s.y+.7*s.height},{stiffness:.05,damping:.65})))),522142&e.$$.dirty&&S&&T&&X){if(o&&r){if(i(8,P.emit=!1,P),o[9].score>.3){i(10,F.emit=!0,F),T.set(o[9].position);let t=l.x/r.videoWidth*d,e=l.y/r.videoHeight*u;F.updateOwnerPos(t,e)}else i(10,F.emit=!1,F);if(o[10].score>.3){i(9,k.emit=!0,k),X.set(o[10].position);let t=h.x/r.videoWidth*d,e=h.y/r.videoHeight*u;k.updateOwnerPos(t,e)}else i(9,k.emit=!1,k)}else i(8,P.emit=!0,P),i(9,k.emit=!1,k),i(10,F.emit=!1,F);S.set(f),P.updateOwnerPos(p.x,p.y),_.position.set(p.x,p.y),i(7,_.brightness=.5+2*Math.min(Math.max(d/1200,0),1),_)}},[v,S,T,X,f,w,C,_,P,k,F,s,o,r,l,d,u,h,p,I,M,L,function(t){E[t?"unshift":"push"](()=>{i(0,v=t)})}]}class Nt extends nt{constructor(t){super(),et(this,t,Vt,Ot,l,{stage:5,app:6})}}function Rt(t,e,n){let i,s,o;c(t,ht,t=>n(3,i=t)),c(t,at,t=>n(4,s=t)),c(t,vt,t=>n(5,o=t));let{stage:r=null}=e;const l=new Tone.Analyser("waveform",256);Tone.Master.chain(l);var a=new PIXI.Graphics;a.alpha=.7;var d=new PIXI.Graphics;d.alpha=.7;let u=new PIXI.Graphics;u.lineStyle(0),d.mask=u,r.addChild(a,d,u);const h=(t,e,n,o)=>{let r=.25*i.width/s.videoWidth;t.score>=.3&&e.score>=.3?(n.moveTo(t.position.x*r,t.position.y*r),n.lineTo(e.position.x*r,e.position.y*r)):t.score>=.3&&o&&(n.moveTo(t.position.x*r,t.position.y*r),n.lineTo(t.position.x*r,s.videoHeight*r))},f=t=>{setTimeout((function(){if(l){const t=(t=>{let e=[];for(let n=0;n<t.length;n++){const s=t[n],o=.215*i.width/(t.length-1)*n,r=s*i.height*.05;e.push({x:o,y:r})}return e})(l.getValue());a.clear(),a.lineStyle(2,15025734),t.forEach((t,e)=>{0===e&&a.moveTo(t.x,t.y),a.lineTo(t.x,t.y)})}o&&s?(d.clear(),((t,e)=>{let n=.25*i.width/s.videoWidth;d.lineStyle(2,16744192),console.log(t),d.drawEllipse(t[0].position.x*n,t[0].position.y*n,Math.abs(t[1].position.x-t[2].position.x)*n*1.2,Math.abs(t[1].position.x-t[2].position.x)*n*1.6),h(t[5],t[6],d),h(t[11],t[12],d),h(t[6],t[12],d,!0),h(t[5],t[7],d),h(t[5],t[11],d,!0),h(t[7],t[9],d),h(t[6],t[8],d),h(t[8],t[10],d),t.forEach((t,e)=>{let n=.25*i.width/s.videoWidth;if(e>4&&e<13&&t.score>.3){let i=9===e||10===e?16711680:16744192,s=9===e||10===e?8:4,o=9===e||10===e?2:0,r=16777215;d.beginFill(i,1),d.lineStyle(o,r),d.drawCircle(t.position.x*n,t.position.y*n,s)}})})(o),d.x=i.x+.25*i.width/2,d.y=i.y):d.clear(),requestAnimationFrame(f)}),1e3/14)};return f(),t.$set=t=>{"stage"in t&&n(0,r=t.stage)},t.$$.update=()=>{if(24&t.$$.dirty&&(a.x=i.x+.45*i.width,a.y=i.y+.78*i.height+0,d.x=i.x+.25*i.width/2,d.y=i.y,u.clear(),u.beginFill(16777215,1),s)){let t=.25*i.width/s.videoWidth;u.drawRect(i.x+.25*i.width/2,i.y,s.videoWidth*t,s.videoHeight*t)}},[r]}class Wt extends nt{constructor(t){super(),et(this,t,Rt,null,l,{stage:0})}}function Zt(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Gt(t){let e,n,i,s,o,r;const l=new Et({props:{stage:Pt,textures:t[13]}}),a=new qt({props:{stage:Pt,textures:t[13]}}),c=new Ht({props:{stage:Pt,textures:t[13]}}),d=new Wt({props:{stage:Pt}}),u=new Dt({props:{stage:Pt}}),h=new Nt({props:{app:Lt,stage:Pt}});return{c(){K(l.$$.fragment),e=_(),K(a.$$.fragment),n=_(),K(c.$$.fragment),i=_(),K(d.$$.fragment),s=_(),K(u.$$.fragment),o=_(),K(h.$$.fragment)},m(t,f){J(l,t,f),y(t,e,f),J(a,t,f),y(t,n,f),J(c,t,f),y(t,i,f),J(d,t,f),y(t,s,f),J(u,t,f),y(t,o,f),J(h,t,f),r=!0},p(t,e){const n={};0&e&&(n.stage=Pt),l.$set(n);const i={};0&e&&(i.stage=Pt),a.$set(i);const s={};0&e&&(s.stage=Pt),c.$set(s);const o={};0&e&&(o.stage=Pt),d.$set(o);const r={};0&e&&(r.stage=Pt),u.$set(r);const f={};0&e&&(f.app=Lt),0&e&&(f.stage=Pt),h.$set(f)},i(t){r||(U(l.$$.fragment,t),U(a.$$.fragment,t),U(c.$$.fragment,t),U(d.$$.fragment,t),U(u.$$.fragment,t),U(h.$$.fragment,t),r=!0)},o(t){Y(l.$$.fragment,t),Y(a.$$.fragment,t),Y(c.$$.fragment,t),Y(d.$$.fragment,t),Y(u.$$.fragment,t),Y(h.$$.fragment,t),r=!1},d(t){Q(l,t),t&&$(e),Q(a,t),t&&$(n),Q(c,t),t&&$(i),Q(d,t),t&&$(s),Q(u,t),t&&$(o),Q(h,t)}}}function Ut(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Yt(t){let e,n,i,s,o,r={ctx:t,current:null,token:null,pending:Ut,then:Gt,catch:Zt,value:13,error:14,blocks:[,,,]};return function(t,e){const n=e.token={};function i(t,i,s,o){if(e.token!==n)return;e.resolved=o;let r=e.ctx;void 0!==s&&(r=r.slice(),r[s]=o);const l=t&&(e.current=t)(r);let a=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==i&&t&&(Z(),Y(t,1,1,()=>{e.blocks[n]=null}),G())}):e.block.d(1),l.c(),U(l,1),l.m(e.mount(),e.anchor),a=!0),e.block=l,e.blocks&&(e.blocks[i]=l),a&&V()}if((s=t)&&"object"==typeof s&&"function"==typeof s.then){const n=X();if(t.then(t=>{T(n),i(e.then,1,e.value,t),T(null)},t=>{T(n),i(e.catch,2,e.error,t),T(null)}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}var s}(n=Ft,r),{c(){e=v("div"),r.block.c(),M(e,"class","canvasContainer svelte-186xmar"),z(()=>t[12].call(e))},m(n,l,a){y(n,e,l),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,t[11](e),i=F(e,t[12].bind(e)),s=!0,a&&o(),o=I(e,"pointerdown",t[4])},p(e,[n]){{const i=(t=e).slice();i[13]=r.resolved,r.block.p(i,n)}},i(t){s||(U(r.block),s=!0)},o(t){for(let t=0;t<3;t+=1){Y(r.blocks[t])}s=!1},d(n){n&&$(e),r.block.d(),r.token=null,r=null,t[11](null),i.cancel(),o()}}}function Kt(t,e,n){let i,s,o,r,l,a,d;c(t,ct,t=>n(6,i=t)),c(t,dt,t=>n(7,s=t)),c(t,ft,t=>n(8,o=t));let u=new PIXI.filters.NoiseFilter(.2,.19294618),h=new PIXI.filters.BlurFilter;h.blur=0,h.quality=1,h.enabled=!1,Pt.filterArea=Lt.screen,Pt.filters=[h,u];const f=Mt(0,{duration:700,easing:wt});c(t,f,t=>n(9,r=t));var p;return p=async()=>{a.appendChild(Lt.view)},X().$$.on_mount.push(p),t.$$.update=()=>{965&t.$$.dirty&&(ct.set(l),dt.set(d),Lt.view.width=i,Lt.view.height=s,Lt.renderer.resize(i,s),Lt.render(),o&&0===r&&f.set(1),o||1!==r||f.set(0),h.blur=0+5*r,h.enabled=r>0)},[l,a,d,f,t=>{ut.set({x:t.clientX,y:t.clientY})},h,i,s,o,r,u,function(t){E[t?"unshift":"push"](()=>{n(1,a=t)})},function(){l=this.clientWidth,d=this.clientHeight,n(0,l),n(2,d)}]}class Jt extends nt{constructor(t){super(),et(this,t,Kt,Yt,l,{})}}function Qt(t){let e,n;var i=t[0];if(i)var s=new i({});return{c(){e=v("div"),s&&K(s.$$.fragment),M(e,"class","icon svelte-7rsvn9")},m(t,i){y(t,e,i),s&&J(s,e,null),n=!0},p(t,n){if(i!==(i=t[0])){if(s){Z();const t=s;Y(t.$$.fragment,1,0,()=>{Q(t,1)}),G()}i?(K((s=new i({})).$$.fragment),U(s.$$.fragment,1),J(s,e,null)):s=null}},i(t){n||(s&&U(s.$$.fragment,t),n=!0)},o(t){s&&Y(s.$$.fragment,t),n=!1},d(t){t&&$(e),s&&Q(s)}}}function te(t){let e,n,i,s,o,r,l,a,c,d,u,h,f,p,g=t[0]&&Qt(t);return{c(){e=v("container"),n=v("div"),i=v("label"),i.textContent="On",s=_(),o=v("div"),g&&g.c(),r=_(),l=w("svg"),a=w("path"),c=w("animate"),d=_(),u=v("label"),u.textContent="Off",M(i,"class","svelte-7rsvn9"),M(c,"attributeName","d"),M(c,"begin","0s"),M(c,"dur","400ms"),M(c,"fill","freeze"),M(c,"keyTimes","0;0.25;1"),M(c,"values",t[5]),M(a,"fill","#FFC52F"),M(a,"d","M11 23C11 29.8746 12.8755 34.4024 17.7365 39.2635C22.5976 44.1245 27.1254 46 34 46C40.8746 46 45.4024 44.1245 50.2635 39.2635C55.1245 34.4024 57 29.8746 57 23C57 16.1254 55.1245 11.5976 50.2635 6.73654C45.4024 1.87549 40.8746 2.85048e-07 34 0C27.1254 -2.85048e-07 22.5976 1.87549 17.7365 6.73654C12.8755 11.5976 11 16.1254 11 23Z"),M(a,"class","svelte-7rsvn9"),M(l,"class","liquidCircle svelte-7rsvn9"),M(l,"width","69"),M(l,"height","46"),M(l,"viewBox","0 0 69 46"),M(l,"fill","none"),M(l,"xmlns","http://www.w3.org/2000/svg"),M(o,"class","toggleButton svelte-7rsvn9"),M(u,"class","svelte-7rsvn9"),M(n,"class","track svelte-7rsvn9"),M(e,"class",h=(t[6]?"toggled":"")+" \n    "+(t[2]?"hide":"")+" \n    "+t[3]+" svelte-7rsvn9")},m(h,m,$){y(h,e,m),b(e,n),b(n,i),b(n,s),b(n,o),g&&g.m(o,null),b(o,r),b(o,l),b(l,a),b(a,c),b(n,d),b(n,u),t[8](e),f=!0,$&&p(),p=I(e,"pointerup",t[7])},p(t,[n]){t[0]?g?(g.p(t,n),U(g,1)):(g=Qt(t),g.c(),U(g,1),g.m(o,r)):g&&(Z(),Y(g,1,1,()=>{g=null}),G()),(!f||32&n)&&M(c,"values",t[5]),(!f||76&n&&h!==(h=(t[6]?"toggled":"")+" \n    "+(t[2]?"hide":"")+" \n    "+t[3]+" svelte-7rsvn9"))&&M(e,"class",h)},i(t){f||(U(g),f=!0)},o(t){Y(g),f=!1},d(n){n&&$(e),g&&g.d(),t[8](null),p()}}}function ee(e,n,i){let s,o=t,r=()=>(o(),o=a(c,t=>i(6,s=t)),c);e.$$.on_destroy.push(()=>o());let{icon:l}=n,{setting:c}=n;r();let d,u,{hide:h=!0}=n,{styles:f=""}=n;return e.$set=t=>{"icon"in t&&i(0,l=t.icon),"setting"in t&&r(i(1,c=t.setting)),"hide"in t&&i(2,h=t.hide),"styles"in t&&i(3,f=t.styles)},e.$$.update=()=>{64&e.$$.dirty&&i(5,u=s?"M11 23C11 29.8746 12.8755 34.4024 17.7365 39.2635C22.5976 44.1245 27.1254 46 34 46C40.8746 46 45.4024 44.1245 50.2635 39.2635C55.1245 34.4024 57 29.8746 57 23C57 16.1254 55.1245 11.5976 50.2635 6.73654C45.4024 1.87549 40.8746 2.85048e-07 34 0C27.1254 -2.85048e-07 22.5976 1.87549 17.7365 6.73654C12.8755 11.5976 11 16.1254 11 23Z;  M0 23C0 32 8.5 38.7678 14.5 41.5C20.5 44.2322 27.9 46 34 46C40.1 46 45.9501 43.5768 50.2635 39.2635C54.5768 34.9501 57 29.1 57 23C57 16.9 54.5768 11.0499 50.2635 6.73654C45.9501 2.42321 40.1 0 34 0C27.9 0 20 2.5 14.5 5C9 7.5 0 14 0 23Z; M11 23C11 29.8746 12.8755 34.4024 17.7365 39.2635C22.5976 44.1245 27.1254 46 34 46C40.8746 46 45.4024 44.1245 50.2635 39.2635C55.1245 34.4024 57 29.8746 57 23C57 16.1254 55.1245 11.5976 50.2635 6.73654C45.4024 1.87549 40.8746 2.85048e-07 34 0C27.1254 -2.85048e-07 22.5976 1.87549 17.7365 6.73654C12.8755 11.5976 11 16.1254 11 23Z":"M11 23C11 29.8746 12.8755 34.4024 17.7365 39.2635C22.5976 44.1245 27.1254 46 34 46C40.8746 46 45.4024 44.1245 50.2635 39.2635C55.1245 34.4024 57 29.8746 57 23C57 16.1254 55.1245 11.5976 50.2635 6.73654C45.4024 1.87549 40.8746 2.85048e-07 34 0C27.1254 -2.85048e-07 22.5976 1.87549 17.7365 6.73654C12.8755 11.5976 11 16.1254 11 23Z; M11 23C11 29.1 13.4232 34.9501 17.7365 39.2635C22.0499 43.5768 27.9 46 34 46C40.1 46 50.5 43 54.5 40.5C58.5 38 68 31.5 68 23C68 14.5 60 9 54.5 6C49 3 40.1 0 34 0C27.9 0 22.0499 2.42321 17.7365 6.73654C13.4232 11.0499 11 16.9 11 23Z; M11 23C11 29.8746 12.8755 34.4024 17.7365 39.2635C22.5976 44.1245 27.1254 46 34 46C40.8746 46 45.4024 44.1245 50.2635 39.2635C55.1245 34.4024 57 29.8746 57 23C57 16.1254 55.1245 11.5976 50.2635 6.73654C45.4024 1.87549 40.8746 2.85048e-07 34 0C27.1254 -2.85048e-07 22.5976 1.87549 17.7365 6.73654C12.8755 11.5976 11 16.1254 11 23Z")},[l,c,h,f,d,u,s,()=>{c.set(!s),d&&d.querySelector("animate").beginElement()},function(t){E[t?"unshift":"push"](()=>{i(4,d=t)})}]}class ne extends nt{constructor(t){super(),et(this,t,ee,te,l,{icon:0,setting:1,hide:2,styles:3})}}function ie(t){let e,n;var i=t[0];if(i)var s=new i({});return{c(){s&&K(s.$$.fragment),e=C("")},m(t,i){s&&J(s,t,i),y(t,e,i),n=!0},p(t,n){if(i!==(i=t[0])){if(s){Z();const t=s;Y(t.$$.fragment,1,0,()=>{Q(t,1)}),G()}i?(K((s=new i({})).$$.fragment),U(s.$$.fragment,1),J(s,e.parentNode,e)):s=null}},i(t){n||(s&&U(s.$$.fragment,t),n=!0)},o(t){s&&Y(s.$$.fragment,t),n=!1},d(t){t&&$(e),s&&Q(s,t)}}}function se(t){let e,n,i,s,o=t[0]&&ie(t);return{c(){e=v("container"),o&&o.c(),M(e,"class",n=(t[2]?"hide":"")+" "+(t[4]?"selected":"")+" svelte-1s2xdcn"),M(e,"style",t[3])},m(n,r,l){y(n,e,r),o&&o.m(e,null),i=!0,l&&s(),s=I(e,"pointerup",t[5])},p(t,[s]){t[0]?o?(o.p(t,s),U(o,1)):(o=ie(t),o.c(),U(o,1),o.m(e,null)):o&&(Z(),Y(o,1,1,()=>{o=null}),G()),(!i||20&s&&n!==(n=(t[2]?"hide":"")+" "+(t[4]?"selected":"")+" svelte-1s2xdcn"))&&M(e,"class",n),(!i||8&s)&&M(e,"style",t[3])},i(t){i||(U(o),i=!0)},o(t){Y(o),i=!1},d(t){t&&$(e),o&&o.d(),s()}}}function oe(e,n,i){let s,o=t,r=()=>(o(),o=a(c,t=>i(6,s=t)),c);e.$$.on_destroy.push(()=>o());let{icon:l}=n,{setting:c}=n;r();let{hide:d=!0}=n,{styles:u=""}=n,{selected:h=!1}=n;return e.$set=t=>{"icon"in t&&i(0,l=t.icon),"setting"in t&&r(i(1,c=t.setting)),"hide"in t&&i(2,d=t.hide),"styles"in t&&i(3,u=t.styles),"selected"in t&&i(4,h=t.selected)},[l,c,d,u,h,()=>{c.set(!s)}]}class re extends nt{constructor(t){super(),et(this,t,oe,se,l,{icon:0,setting:1,hide:2,styles:3,selected:4})}}function le(e){let n,i,s,o,r,l,a,c,u;return{c(){n=v("div"),i=w("svg"),s=w("path"),o=w("path"),r=_(),l=v("section"),l.innerHTML='<p class="svelte-d7z3ng">Celebrating 100 Years <span class="svelte-d7z3ng">O</span></p>',M(s,"class","inner svelte-d7z3ng"),M(s,"d","M38.7005 4.67073L301.955 123.55C313.067 128.568 312.9 144.406 301.684 149.188L38.198 261.538C21.0468 268.851 2 256.267 2 237.622V28.3667C2 9.48487 21.492 -3.10026 38.7005 4.67073Z"),M(o,"class","outer svelte-d7z3ng"),M(o,"d","M38.7005 4.67073L301.955 123.55C313.067 128.568 312.9 144.406 301.684 149.188L38.198 261.538C21.0468 268.851 2 256.267 2 237.622V28.3667C2 9.48487 21.492 -3.10026 38.7005 4.67073Z"),M(i,"width","313"),M(i,"height","266"),M(i,"viewBox","0 0 313 266"),M(i,"fill","none"),M(i,"xmlns","http://www.w3.org/2000/svg"),M(i,"class","svelte-d7z3ng"),M(l,"class","svelte-d7z3ng"),M(n,"class",a=d(e[4]&&e[5]?"active loaded":e[5]?"active":e[4]?"loaded":"")+" svelte-d7z3ng"),L(n,"top",e[3].top+"px"),L(n,"left",e[3].left+"px"),z(()=>e[10].call(n))},m(t,a,d){y(t,n,a),b(n,i),b(i,s),b(i,o),b(n,r),b(n,l),e[9](n),c=F(n,e[10].bind(n)),d&&u(),u=I(n,"pointerup",e[6])},p(t,[e]){48&e&&a!==(a=d(t[4]&&t[5]?"active loaded":t[5]?"active":t[4]?"loaded":"")+" svelte-d7z3ng")&&M(n,"class",a),8&e&&L(n,"top",t[3].top+"px"),8&e&&L(n,"left",t[3].left+"px")},i:t,o:t,d(t){t&&$(n),e[9](null),c.cancel(),u()}}}function ae(t,e,n){let i,s,o,r,l;c(t,ct,t=>n(7,i=t)),c(t,ht,t=>n(8,s=t)),c(t,rt,t=>n(4,o=t)),c(t,ot,t=>n(5,r=t));let a=0,d=0,u={top:0,left:0};return t.$$.update=()=>{390&t.$$.dirty&&n(3,u={top:s.y+.6*s.height-d,left:s.x+.525*s.width-.5*a})},[l,a,d,u,o,r,()=>{ot.set(!0)},i,s,function(t){E[t?"unshift":"push"](()=>{n(0,l=t)})},function(){a=this.clientWidth,d=this.clientHeight,n(1,a),n(2,d)}]}class ce extends nt{constructor(t){super(),et(this,t,ae,le,l,{})}}function de(e){let n,i;return{c(){n=w("svg"),i=w("path"),M(i,"opacity","0.7"),M(i,"d","M13.7773 17.0371C12.6728 17.0371 11.7773 17.9325 11.7773 19.0371V28.6667C11.7773 29.7713 12.6728 30.6667 13.7773 30.6667H27.6662C28.7708 30.6667 29.6662 29.7713 29.6662 28.6667V24.9678L35.2037 28.1649V17.8368L29.6662 21.0338V19.0371C29.6662 17.9325 28.7708 17.0371 27.6662 17.0371H13.7773Z"),M(i,"fill","black"),M(n,"width","46"),M(n,"height","46"),M(n,"viewBox","0 0 46 46"),M(n,"fill","none"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"class","svelte-1b2706j")},m(t,e){y(t,n,e),b(n,i)},p:t,i:t,o:t,d(t){t&&$(n)}}}class ue extends nt{constructor(t){super(),et(this,t,null,de,l,{})}}function he(e){let n,i;return{c(){n=w("svg"),i=w("path"),M(i,"opacity","0.7"),M(i,"d","M17 30H21V16H17V30ZM25 16V30H29V16H25Z"),M(i,"fill","black"),M(n,"width","46"),M(n,"height","46"),M(n,"viewBox","0 0 46 46"),M(n,"fill","none"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"class","svelte-1b2706j")},m(t,e){y(t,n,e),b(n,i)},p:t,i:t,o:t,d(t){t&&$(n)}}}class fe extends nt{constructor(t){super(),et(this,t,null,he,l,{})}}function pe(e){let n,i;return{c(){n=w("svg"),i=w("path"),M(i,"opacity","0.7"),M(i,"d","M31.4152 24.6212C31.4576 24.2619 31.4859 23.8881 31.4859 23.5C31.4859 23.1119 31.4576 22.7381 31.4011 22.3788L33.7913 20.4813C34.0034 20.3088 34.06 19.9925 33.9327 19.7481L31.6698 15.7662C31.5283 15.5075 31.2313 15.4213 30.9768 15.5075L28.1623 16.6575C27.5683 16.1975 26.946 15.8238 26.2529 15.5363L25.8286 12.4887C25.7862 12.2012 25.5458 12 25.2629 12H20.7371C20.4542 12 20.2279 12.2012 20.1855 12.4887L19.7612 15.5363C19.0682 15.8238 18.4318 16.2119 17.8519 16.6575L15.0374 15.5075C14.7828 15.4069 14.4858 15.5075 14.3444 15.7662L12.0815 19.7481C11.94 20.0069 11.9966 20.3088 12.2229 20.4813L14.6131 22.3788C14.5565 22.7381 14.5141 23.1263 14.5141 23.5C14.5141 23.8737 14.5424 24.2619 14.5989 24.6212L12.2087 26.5188C11.9966 26.6913 11.94 27.0075 12.0673 27.2519L14.3302 31.2338C14.4717 31.4925 14.7687 31.5788 15.0232 31.4925L17.8377 30.3425C18.4318 30.8025 19.0541 31.1762 19.7471 31.4637L20.1714 34.5112C20.2279 34.7987 20.4542 35 20.7371 35H25.2629C25.5458 35 25.7862 34.7987 25.8145 34.5112L26.2388 31.4637C26.9318 31.1762 27.5683 30.7881 28.1481 30.3425L30.9626 31.4925C31.2172 31.5931 31.5142 31.4925 31.6556 31.2338L33.9185 27.2519C34.06 26.9931 34.0034 26.6913 33.7771 26.5188L31.4152 24.6212V24.6212ZM23 27.8125C20.6664 27.8125 18.757 25.8719 18.757 23.5C18.757 21.1281 20.6664 19.1875 23 19.1875C25.3336 19.1875 27.243 21.1281 27.243 23.5C27.243 25.8719 25.3336 27.8125 23 27.8125Z"),M(i,"fill","black"),M(n,"width","46"),M(n,"height","46"),M(n,"viewBox","0 0 46 46"),M(n,"fill","none"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"class","svelte-1b2706j")},m(t,e){y(t,n,e),b(n,i)},p:t,i:t,o:t,d(t){t&&$(n)}}}class ge extends nt{constructor(t){super(),et(this,t,null,pe,l,{})}}function me(e){let n,i;return{c(){n=w("svg"),i=w("path"),M(i,"opacity","0.7"),M(i,"fill-rule","evenodd"),M(i,"clip-rule","evenodd"),M(i,"d","M29.9482 15.4062C29.5577 15.0156 28.9245 15.0157 28.534 15.4062L22.9377 21.0025L17.4661 15.5309C17.0756 15.1404 16.4424 15.1404 16.0519 15.5309L15.4101 16.1727C15.0196 16.5632 15.0196 17.1964 15.4101 17.5869L20.8817 23.0585L15.5562 28.384C15.1657 28.7745 15.1657 29.4077 15.5562 29.7982L16.198 30.44C16.5885 30.8305 17.2217 30.8305 17.6122 30.44L22.9377 25.1145L28.3879 30.5647C28.7784 30.9552 29.4116 30.9552 29.8021 30.5647L30.4439 29.9229C30.8344 29.5324 30.8344 28.8992 30.4439 28.5087L24.9937 23.0585L30.59 17.4622C30.9805 17.0717 30.9805 16.4385 30.59 16.048L29.9482 15.4062Z"),M(i,"fill","black"),M(n,"width","46"),M(n,"height","46"),M(n,"viewBox","0 0 46 46"),M(n,"fill","none"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"class","svelte-1b2706j")},m(t,e){y(t,n,e),b(n,i)},p:t,i:t,o:t,d(t){t&&$(n)}}}class be extends nt{constructor(t){super(),et(this,t,null,me,l,{})}}function ye(t){let e,n,i,s,o,r;const l=new ce({}),a=new re({props:{icon:fe,setting:ot,hide:!(!t[0]&&t[1]),styles:"margin-right:16px"}}),c=new ne({props:{icon:ue,setting:lt,hide:!(!t[0]&&t[1])}}),d=new re({props:{icon:t[0]?be:ge,selected:!!t[0],setting:ft,hide:!t[1]}});return{c(){K(l.$$.fragment),e=_(),n=v("nav"),K(a.$$.fragment),i=_(),K(c.$$.fragment),s=_(),o=v("div"),K(d.$$.fragment),M(o,"class","svelte-1la6hhb"),M(n,"class","svelte-1la6hhb")},m(t,u){J(l,t,u),y(t,e,u),y(t,n,u),J(a,n,null),b(n,i),J(c,n,null),b(n,s),b(n,o),J(d,o,null),r=!0},p(t,[e]){const n={};3&e&&(n.hide=!(!t[0]&&t[1])),a.$set(n);const i={};3&e&&(i.hide=!(!t[0]&&t[1])),c.$set(i);const s={};1&e&&(s.icon=t[0]?be:ge),1&e&&(s.selected=!!t[0]),2&e&&(s.hide=!t[1]),d.$set(s)},i(t){r||(U(l.$$.fragment,t),U(a.$$.fragment,t),U(c.$$.fragment,t),U(d.$$.fragment,t),r=!0)},o(t){Y(l.$$.fragment,t),Y(a.$$.fragment,t),Y(c.$$.fragment,t),Y(d.$$.fragment,t),r=!1},d(t){Q(l,t),t&&$(e),t&&$(n),Q(a),Q(c),Q(d)}}}function $e(t,e,n){let i,s;return c(t,ft,t=>n(0,i=t)),c(t,ot,t=>n(1,s=t)),[i,s]}class xe extends nt{constructor(t){super(),et(this,t,$e,ye,l,{})}}function ve(t,e,n){let i,s,o,r,l,a,d,u,h,f;c(t,bt,t=>n(3,i=t)),c(t,yt,t=>n(4,s=t)),c(t,xt,t=>n(5,o=t)),c(t,pt,t=>n(6,r=t)),c(t,mt,t=>n(7,l=t)),c(t,ot,t=>n(8,a=t)),c(t,$t,t=>n(9,d=t)),c(t,ut,t=>n(10,u=t)),c(t,ht,t=>n(11,h=t)),c(t,gt,t=>n(12,f=t));const p=new Tone.Volume(r),g=new Tone.Gain(.1),m=new Tone.OmniOscillator({frequency:440,detune:0,phase:0,spread:20,count:3,modulationIndex:2,modulationType:"square",harmonicity:1,partialCount:0});let b=new Tone.Vibrato({maxDelay:.005,frequency:5,depth:.1,type:"sine"});return m.chain(b,g,p,Tone.Master),t.$$.update=()=>{if(56&t.$$.dirty&&$t.set(((t,e,n)=>{let i=teoria.scale(t,e),s=[];for(let t=0;t<n;t++)i.notes().forEach(e=>{let n=e.scientific(),i=n.slice(0,-1),o=parseInt(n.match(/(\d+)/)[0])+t;s.push(i+o)});return s})(i,s.toLowerCase().replace(/\s/g,""),o)),128&t.$$.dirty&&n(1,m.type=l.toLowerCase().replace(/\s/g,""),m),8066&t.$$.dirty)if(a){let t=Tone.Frequency(d[d.length-1]),e=Tone.Frequency(d[0]),i=Math.max(Math.min((u.y-h.y)/h.height,1),0),s=Math.max(Math.min((u.x-h.x)/h.width,1),0);"stopped"===m.state&&m.start(),"running"!==Tone.context.state&&Tone.context.resume();let o="sine"===l?.5:"sine"===l?.1:.5;if(g.gain.value=i*o,b.frequency.value=10*i,f){let t=Math.min(~~(s/(1/d.length)),d.length-1);n(1,m.frequency.value=m.frequency.value!==d[t]?d[t]:m.frequency.value,m)}else{let i=s*(t-e)+e;n(1,m.frequency.value=m.frequency.value!==i?i:m.frequency.value,m)}}else"started"===m.state&&m.stop(),"running"===Tone.context.state&&Tone.context.suspend()},[]}class we extends nt{constructor(t){super(),et(this,t,ve,null,l,{})}}function Ce(e){let n,i,s;return{c(){n=v("video"),n.autoplay=!0,n.muted=!0,n.playsInline=!0,M(n,"width",i=e[1]?e[1].videoWidth:0),M(n,"height",s=e[1]?e[1].videoHeight:0),M(n,"class","svelte-mjdre8")},m(t,i){y(t,n,i),e[9](n)},p(t,[e]){2&e&&i!==(i=t[1]?t[1].videoWidth:0)&&M(n,"width",i),2&e&&s!==(s=t[1]?t[1].videoHeight:0)&&M(n,"height",s)},i:t,o:t,d(t){t&&$(n),e[9](null)}}}function _e(t,e,n){let i,s,o,r,l;c(t,ot,t=>n(4,i=t)),c(t,lt,t=>n(5,s=t)),c(t,at,t=>n(1,o=t));const a=()=>{const t={video:{facingMode:"user"},audio:!1};navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(r&&!1!==r.active?h():navigator.mediaDevices.getUserMedia(t).then(t=>{r=t,u(t)}).catch(t=>{alert(t),setTimeout(()=>{lt.set(!1),at.set(null)},1e3)}))};let d;const u=t=>{n(0,l.srcObject=t,l),console.log("Webcam On"),d=setInterval(()=>{l.readyState>=3&&(at.set(l),console.log(l),clearInterval(d))},500)},h=()=>{r&&(r.getTracks().forEach(t=>t.stop()),console.log("Webcam Off")),at.set(null),clearInterval(d)};return t.$$.update=()=>{48&t.$$.dirty&&(i&&s?a():h())},[l,o,r,d,i,s,a,u,h,function(t){E[t?"unshift":"push"](()=>{n(0,l=t)})}]}class Ie extends nt{constructor(t){super(),et(this,t,_e,Ce,l,{})}}function Me(t,e,n){let i;c(t,at,t=>n(1,i=t));const s={architecture:"MobileNetV1",imageScaleFactor:.3,outputStride:16,flipHorizontal:!0,minConfidence:.8,maxPoseDetections:1,scoreThreshold:.5,nmsRadius:20,detectionType:"single",inputResolution:513,multiplier:.5,quantBytes:2};let o;async function r(){if(i){const t=await o.estimateSinglePose(i,s);t.score>0?vt.set(t.keypoints):vt.set(null),requestAnimationFrame(r)}else vt.set(null)}return posenet.load().then(t=>{n(0,o=t)}),t.$$.update=()=>{3&t.$$.dirty&&i&&o&&r()},[]}class Le extends nt{constructor(t){super(),et(this,t,Me,null,l,{})}}const Pe=["Sine","Square","Triangle","Sawtooth","FM Sine","FM Square","FM Triangle","FM Sawtooth","AM Sine","AM Square","AM Triangle","AM Sawtooth","Fat Sine","Fat Square","Fat Triangle","Fat Sawtooth","PWM","Pulse"],ke=["Major","Minor","Ionian","Dorian","Phrygian","Lydian","Mixolydian","Aeolian","Locrian","Majorpentatonic","Minorpentatonic","Chromatic","Harmonicchromatic","Blues","Doubleharmonic","Flamenco","Harmonicminor","Melodicminor","Wholetone"];function Fe(t,e,n){const i=t.slice();return i[9]=e[n],i}function Se(t,e,n){const i=t.slice();return i[12]=e[n],i}function Te(t){let e,n,i,s,o,r=t[12].replace(/-/g," ")+"";return{c(){e=v("option"),n=C(r),i=_(),e.__value=s=t[12],e.value=e.__value,e.selected=o=t[12]===t[3],M(e,"class","svelte-1kiy8yl")},m(t,s){y(t,e,s),b(e,n),b(e,i)},p(t,n){8&n&&o!==(o=t[12]===t[3])&&(e.selected=o)},d(t){t&&$(e)}}}function Xe(t){let e,n,i,s,o,r=t[9].replace(/-/g," ")+"";return{c(){e=v("option"),n=C(r),i=_(),e.__value=s=t[9],e.value=e.__value,e.selected=o=t[9]===t[4],M(e,"class","svelte-1kiy8yl")},m(t,s){y(t,e,s),b(e,n),b(e,i)},p(t,n){16&n&&o!==(o=t[9]===t[4])&&(e.selected=o)},d(t){t&&$(e)}}}function Ae(e){let n,i,s,r,l,a,c,u,h,f,p,g,m=ke,w=[];for(let t=0;t<m.length;t+=1)w[t]=Te(Se(e,m,t));let C=Pe,L=[];for(let t=0;t<C.length;t+=1)L[t]=Xe(Fe(e,C,t));return{c(){n=v("section"),i=v("div"),s=v("select");for(let t=0;t<w.length;t+=1)w[t].c();r=_(),l=v("div"),a=_(),c=v("div"),u=v("select");for(let t=0;t<L.length;t+=1)L[t].c();h=_(),f=v("div"),M(s,"class","scales svelte-1kiy8yl"),void 0===e[0]&&z(()=>e[5].call(s)),M(l,"class","select_arrow svelte-1kiy8yl"),M(i,"class","select svelte-1kiy8yl"),M(u,"class","oscillators svelte-1kiy8yl"),void 0===e[1]&&z(()=>e[7].call(u)),M(f,"class","select_arrow svelte-1kiy8yl"),M(c,"class","select svelte-1kiy8yl"),M(n,"class",p=d(e[2]?"":"hide")+" svelte-1kiy8yl")},m(t,d,p){y(t,n,d),b(n,i),b(i,s);for(let t=0;t<w.length;t+=1)w[t].m(s,null);P(s,e[0]),b(i,r),b(i,l),b(n,a),b(n,c),b(c,u);for(let t=0;t<L.length;t+=1)L[t].m(u,null);P(u,e[1]),b(c,h),b(c,f),p&&o(g),g=[I(s,"change",e[5]),I(s,"change",e[6]),I(u,"change",e[7]),I(u,"change",e[8])]},p(t,[e]){if(8&e){let n;for(m=ke,n=0;n<m.length;n+=1){const i=Se(t,m,n);w[n]?w[n].p(i,e):(w[n]=Te(i),w[n].c(),w[n].m(s,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=m.length}if(1&e&&P(s,t[0]),16&e){let n;for(C=Pe,n=0;n<C.length;n+=1){const i=Fe(t,C,n);L[n]?L[n].p(i,e):(L[n]=Xe(i),L[n].c(),L[n].m(u,null))}for(;n<L.length;n+=1)L[n].d(1);L.length=C.length}2&e&&P(u,t[1]),4&e&&p!==(p=d(t[2]?"":"hide")+" svelte-1kiy8yl")&&M(n,"class",p)},i:t,o:t,d(t){t&&$(n),x(w,t),x(L,t),o(g)}}}function Ee(t,e,n){let i,s,o,r,l;c(t,ft,t=>n(2,i=t)),c(t,yt,t=>n(3,s=t)),c(t,mt,t=>n(4,o=t));return[r,l,i,s,o,function(){r=k(this),n(0,r)},()=>yt.set(r),function(){l=k(this),n(1,l)},()=>mt.set(l)]}class je extends nt{constructor(t){super(),et(this,t,Ee,Ae,l,{})}}function qe(e){let n,i,s,o,r,l,a,c;const d=new Jt({}),u=new je({}),h=new xe({}),f=new we({}),p=new Ie({}),g=new Le({});return{c(){n=v("main"),K(d.$$.fragment),i=_(),K(u.$$.fragment),s=_(),K(h.$$.fragment),o=_(),K(f.$$.fragment),r=_(),K(p.$$.fragment),l=_(),K(g.$$.fragment),M(n,"class","svelte-ifk0og")},m(t,m,$){y(t,n,m),J(d,n,null),b(n,i),J(u,n,null),b(n,s),J(h,n,null),b(n,o),J(f,n,null),b(n,r),J(p,n,null),b(n,l),J(g,n,null),a=!0,$&&c(),c=I(window,"pointermove",e[0])},p:t,i(t){a||(U(d.$$.fragment,t),U(u.$$.fragment,t),U(h.$$.fragment,t),U(f.$$.fragment,t),U(p.$$.fragment,t),U(g.$$.fragment,t),a=!0)},o(t){Y(d.$$.fragment,t),Y(u.$$.fragment,t),Y(h.$$.fragment,t),Y(f.$$.fragment,t),Y(p.$$.fragment,t),Y(g.$$.fragment,t),a=!1},d(t){t&&$(n),Q(d),Q(u),Q(h),Q(f),Q(p),Q(g),c()}}}function Be(t){return[t=>{ut.set({x:t.clientX,y:t.clientY})}]}return new class extends nt{constructor(t){super(),et(this,t,Be,qe,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
