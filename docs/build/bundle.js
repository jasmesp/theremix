var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function i(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(i)}function c(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,i){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}(n,i))}function l(t){return null==t?"":t}const d="undefined"!=typeof window;let u=d?()=>window.performance.now():()=>Date.now(),f=d?t=>requestAnimationFrame(t):t;const h=new Set;function p(t){h.forEach(e=>{e.c(t)||(h.delete(e),e.f())}),0!==h.size&&f(p)}function g(t){let e;return 0===h.size&&f(p),{promise:new Promise(n=>{h.add(e={c:t,f:n})}),abort(){h.delete(e)}}}function m(t,e){t.appendChild(e)}function b(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode.removeChild(t)}function y(t){return document.createElement(t)}function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(){return t=" ",document.createTextNode(t);var t}function _(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function I(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}function P(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=document.createElement("object");let i;return n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.type="text/html",n.tabIndex=-1,n.onload=()=>{i=n.contentDocument.defaultView,i.addEventListener("resize",e)},/Trident/.test(navigator.userAgent)?(t.appendChild(n),n.data="about:blank"):(n.data="about:blank",t.appendChild(n)),{cancel:()=>{i&&i.removeEventListener&&i.removeEventListener("resize",e),t.removeChild(n)}}}let C;function X(t){C=t}function F(){if(!C)throw new Error("Function called outside component initialization");return C}function k(t){F().$$.on_mount.push(t)}const A=[],L=[],E=[],M=[],j=Promise.resolve();let S=!1;function T(t){E.push(t)}let B=!1;const N=new Set;function G(){if(!B){B=!0;do{for(let t=0;t<A.length;t+=1){const e=A[t];X(e),R(e.$$)}for(A.length=0;L.length;)L.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];N.has(e)||(N.add(e),e())}E.length=0}while(A.length);for(;M.length;)M.pop()();S=!1,B=!1,N.clear()}}function R(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(T)}}const z=new Set;let O;function D(t,e){t&&t.i&&(z.delete(t),t.i(e))}function q(t,e,n,i){if(t&&t.o){if(z.has(t))return;z.add(t),O.c.push(()=>{z.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}function H(t,e){const n=e.token={};function i(t,i,r,c){if(e.token!==n)return;e.resolved=c;let a=e.ctx;void 0!==r&&(a=a.slice(),a[r]=c);const s=t&&(e.current=t)(a);let l=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==i&&t&&(O={r:0,c:[],p:O},q(t,1,1,()=>{e.blocks[n]=null}),O.r||o(O.c),O=O.p)}):e.block.d(1),s.c(),D(s,1),s.m(e.mount(),e.anchor),l=!0),e.block=s,e.blocks&&(e.blocks[i]=s),l&&G()}if((r=t)&&"object"==typeof r&&"function"==typeof r.then){const n=F();if(t.then(t=>{X(n),i(e.then,1,e.value,t),X(null)},t=>{X(n),i(e.catch,2,e.error,t),X(null)}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}var r}function V(t){t&&t.c()}function K(t,e,n){const{fragment:r,on_mount:a,on_destroy:s,after_update:l}=t.$$;r&&r.m(e,n),T(()=>{const e=a.map(i).filter(c);s?s.push(...e):o(e),t.$$.on_mount=[]}),l.forEach(T)}function W(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(t,e){-1===t.$$.dirty[0]&&(A.push(t),S||(S=!0,j.then(G)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function U(e,n,i,c,a,s,l=[-1]){const d=C;X(e);const u=n.props||{},f=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:r(),dirty:l};let h=!1;f.ctx=i?i(e,u,(t,n,...i)=>{const r=i.length?i[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=r)&&(f.bound[t]&&f.bound[t](r),h&&Z(e,t)),n}):[],f.update(),h=!0,o(f.before_update),f.fragment=!!c&&c(f.ctx),n.target&&(n.hydrate?f.fragment&&f.fragment.l(function(t){return Array.from(t.childNodes)}(n.target)):f.fragment&&f.fragment.c(),n.intro&&D(e.$$.fragment),K(e,n.target,n.anchor),G()),X(d)}class Y{$destroy(){W(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const J=[];function Q(e,n=t){let i;const r=[];function o(t){if(a(e,t)&&(e=t,i)){const t=!J.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),J.push(n,e)}if(t){for(let t=0;t<J.length;t+=2)J[t][0](J[t+1]);J.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(c,a=t){const s=[c,a];return r.push(s),1===r.length&&(i=n(o)||t),c(e),()=>{const t=r.indexOf(s);-1!==t&&r.splice(t,1),0===r.length&&(i(),i=null)}}}}const tt=Q(!1),et=Q(!1),nt=Q(1200),it=Q(675),rt=Q(0),ot=Q({x:0,y:0}),ct=Q({x:0,y:0}),at=Q({x:0,y:0,height:0,width:0}),st=new PIXI.Application(800,450),lt=st.stage=new PIXI.display.Stage;lt.addChild(new PIXI.display.Layer(PIXI.lights.diffuseGroup)),lt.addChild(new PIXI.display.Layer(PIXI.lights.normalGroup)),lt.addChild(new PIXI.display.Layer(PIXI.lights.lightGroup));const dt=PIXI.loader.add("static_bg","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FStatic_BG.png?v=1584933516627").add("bg_normal","https://cdn.glitch.com/e352d3ca-2e03-47f1-acfd-675dff041f5f%2FNormalMap.png?v=1573974228592").add("machine_right","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FMachine_Right.png?v=1584933516896").add("machine_right_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FMachine_Right_normal.jpg?v=1584933515948").add("machine_left","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FMachine_Left.png?v=1584933517080").add("machine_left_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FMachine_Left_Normal.jpg?v=1584933516036").add("table","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTable_normal.jpg?v=1584933515769").add("table_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTable_normal.jpg?v=1584933515769").add("theremin_null","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2Ftheremin_null.jpg?v=1585345680882").add("theremin_body_bottom","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTheremin_Body_Bottom.png?v=1585100297444").add("theremin_body_bottom_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTheremin_Body_Bottom_Normal.jpg?v=1585100297564").add("theremin_body_top","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTheremin_Body_Top.png?v=1585101187057").add("theremin_body_top_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTheremin_Body_Top_Normal.jpg?v=1585100297463").add("right_antenna","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FAntenna_Right.png?v=1585236174151").add("right_antenna_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FAntenna_Right_Normal.jpg?v=1585236174117").add("left_antenna1","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FAntenna_Left1.png?v=1584933516264").add("left_antenna1_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FAntenna_Left1_Normal.jpg?v=1584933515645").add("left_antenna2","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FAntenna_Left2.png?v=1584933516405").add("left_antenna2_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FAntenna_Left2_normal.jpg?v=1584933515750").add("knob","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FKnob.png?v=1584933515187").add("knob_normal","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FKnob_normal.jpg?v=1584933515376").add("solid2x2","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FSolid2X2.png?v=1585365268924").add("gradient2x2","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FGradient2X2.png?v=1585365268893").add("normal2x2","https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2F2X2_Normal.png?v=1585365268937"),ut=new Promise((t,e)=>dt.load((e,n)=>{t(n)})),ft=(t,e)=>{if(e){return((t,e)=>{var n=new PIXI.Container,i=new PIXI.Sprite(t);i.parentGroup=PIXI.lights.diffuseGroup;var r=new PIXI.Sprite(e);return r.parentGroup=PIXI.lights.normalGroup,n.addChild(i),n.addChild(r),n})(t,e)}return new PIXI.Sprite(t)};function ht(t,e,n){let i,r,o;s(t,nt,t=>n(2,i=t)),s(t,it,t=>n(3,r=t)),s(t,et,t=>n(4,o=t));let{stage:c=null}=e,a=new PIXI.Sprite;return a.interactive=!0,a.on("pointermove",t=>{o&&ct.set({x:t.data.global.x,y:t.data.global.y})}),a.on("pointerdown",t=>{o&&ct.set({x:t.data.global.x,y:t.data.global.y})}),c.addChild(a),t.$set=t=>{"stage"in t&&n(0,c=t.stage)},t.$$.update=()=>{12&t.$$.dirty&&(a.width=i,a.height=r)},[c]}class pt extends Y{constructor(t){super(),U(this,t,ht,null,a,{stage:0})}}function gt(t){const e=1.70158;return--t*t*((e+1)*t+e)+1}function mt(t){return"[object Date]"===Object.prototype.toString.call(t)}function bt(t,e={}){const n=Q(t),{stiffness:i=.15,damping:r=.8,precision:o=.01}=e;let c,a,s,l=t,d=t,f=1,h=0,p=!1;function m(e,i={}){d=e;const r=s={};if(null==t||i.hard||b.stiffness>=1&&b.damping>=1)return p=!0,c=u(),l=e,n.set(t=d),Promise.resolve();if(i.soft){const t=!0===i.soft?.5:+i.soft;h=1/(60*t),f=0}return a||(c=u(),p=!1,a=g(e=>{if(p)return p=!1,a=null,!1;f=Math.min(f+h,1);const i={inv_mass:f,opts:b,settled:!0,dt:60*(e-c)/1e3},r=function t(e,n,i,r){if("number"==typeof i||mt(i)){const t=r-i,o=(i-n)/(e.dt||1/60),c=(o+(e.opts.stiffness*t-e.opts.damping*o)*e.inv_mass)*e.dt;return Math.abs(c)<e.opts.precision&&Math.abs(t)<e.opts.precision?r:(e.settled=!1,mt(i)?new Date(i.getTime()+c):i+c)}if(Array.isArray(i))return i.map((o,c)=>t(e,n[c],i[c],r[c]));if("object"==typeof i){const o={};for(const c in i)o[c]=t(e,n[c],i[c],r[c]);return o}throw new Error(`Cannot spring ${typeof i} values`)}(i,l,t,d);return c=e,l=t,n.set(t=r),i.settled&&(a=null),!i.settled})),new Promise(t=>{a.promise.then(()=>{r===s&&t()})})}const b={set:m,update:(e,n)=>m(e(d,t),n),subscribe:n.subscribe,stiffness:i,damping:r,precision:o};return b}function xt(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map((e,n)=>xt(t[n],e));return t=>n.map(e=>e(t))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(mt(t)&&mt(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),i={};return n.forEach(n=>{i[n]=xt(t[n],e[n])}),t=>{const e={};return n.forEach(n=>{e[n]=i[n](t)}),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function yt(t,i={}){const r=Q(t);let o,c=t;function a(a,s){if(null==t)return r.set(t=a),Promise.resolve();c=a;let l=o,d=!1,{delay:f=0,duration:h=400,easing:p=e,interpolate:m=xt}=n(n({},i),s);const b=u()+f;let x;return o=g(e=>{if(e<b)return!0;d||(x=m(t,a),"function"==typeof h&&(h=h(t,a)),d=!0),l&&(l.abort(),l=null);const n=e-b;return n>h?(r.set(t=a),!1):(r.set(t=x(p(n/h))),!0)}),o.promise}return{set:a,update:(e,n)=>a(e(c,t),n),subscribe:r.subscribe}}function $t(t,e,n){let i,r;s(t,nt,t=>n(5,i=t)),s(t,it,t=>n(6,r=t));let{textures:o=null}=e,{stage:c=null}=e;const a=yt(0,{duration:700,easing:gt}),l=new PIXI.Container,d=ft(o.static_bg.texture,o.bg_normal.texture);d.children[0].tint=4200564;const u=o.static_bg.texture.width/o.static_bg.texture.height,f=(new PIXI.lights.DirectionalLight(null,1,d),ft(o.machine_left.texture,o.machine_left_normal.texture)),h=ft(o.machine_right.texture,o.machine_right_normal.texture);return l.addChild(d,h,f),c.addChild(l),a.set(1),t.$set=t=>{"textures"in t&&n(0,o=t.textures),"stage"in t&&n(1,c=t.stage)},t.$$.update=()=>{124&t.$$.dirty&&(i/r>u?(n(2,d.width=i,d),n(2,d.scale.y=d.scale.x,d)):(n(2,d.height=r,d),n(2,d.scale.x=d.scale.y,d)),d.position.set(.5*i-.5*d.width,.5*r-.5*d.height),n(3,f.width=.6*i<r?.6*i:.9*r,f),n(3,f.scale.y=f.scale.x,f),n(3,f.position.x=.6*i<r?.1*i-.15*f.width:.1*i-.1*f.width,f),n(3,f.position.y=.1*r,f),n(4,h.width=.6*i<r?.55*i:.85*r,h),n(4,h.scale.y=f.scale.x,h),n(4,h.position.x=.6*i<r?.9*i-.48*h.width:.9*i-.45*h.width,h),n(4,h.position.y=1.3*f.position.y,h),i>=600&&n(4,h.visible=!0,h),i<600&&(n(3,f.width=i-30,f),n(3,f.scale.y=f.scale.x,f),n(3,f.position.x=15,f),n(4,h.visible=!1,h)))},[o,c]}class wt extends Y{constructor(t){super(),U(this,t,$t,null,a,{textures:0,stage:1})}}function _t(t,e,n){let i,r,o;s(t,it,t=>n(3,i=t)),s(t,nt,t=>n(4,r=t)),s(t,at,t=>n(5,o=t));let{textures:c=null}=e,{stage:a=null}=e;const l=ft(c.solid2x2.texture,c.normal2x2.texture);return l.children[0].tint=10066329,a.addChild(l),t.$set=t=>{"textures"in t&&n(0,c=t.textures),"stage"in t&&n(1,a=t.stage)},t.$$.update=()=>{60&t.$$.dirty&&(n(2,l.height=i,l),n(2,l.width=r,l),n(2,l.x=.5*(r-l.width),l),n(2,l.y=o.y+.75*o.height,l))},[c,a]}class vt extends Y{constructor(t){super(),U(this,t,_t,null,a,{textures:0,stage:1})}}function It(t,e,n){let i,r,o,c,a;s(t,nt,t=>n(13,r=t)),s(t,it,t=>n(14,o=t)),s(t,tt,t=>n(15,c=t)),s(t,ct,t=>n(16,a=t));let{textures:l=null}=e,{stage:d=null}=e;const u=yt(0,{duration:700,easing:gt});s(t,u,t=>n(12,i=t));const f=new PIXI.Container,h=ft(l.theremin_null.texture);h.alpha=0;const p=ft(l.theremin_body_bottom.texture,l.theremin_body_bottom_normal.texture),g=ft(l.theremin_body_top.texture,l.theremin_body_top_normal.texture),m=ft(l.right_antenna.texture,l.right_antenna_normal.texture);m.children[0].tint=6697830;const b=new PIXI.lights.PointLight(16744192,1.2),x=ft(l.left_antenna1.texture,l.left_antenna1_normal.texture);x.children[0].tint=3355494;const y=ft(l.left_antenna2.texture,l.left_antenna2_normal.texture);y.children[0].tint=6697830;const $=new PIXI.lights.PointLight(16744192,1.2);f.addChild(h,p,x,y,m,g,$,b),d.addChild(f);const w=(t,e)=>{const n=e.getBounds();return t.x>n.x&&t.x<n.x+n.width&&t.y>n.y&&t.y<n.y+n.height};return k(async()=>{ct.set({x:r>600?f.x+.2*f.width:f.x+.1*f.width,y:f.y+.7*f.height})}),t.$set=t=>{"textures"in t&&n(1,l=t.textures),"stage"in t&&n(2,d=t.stage)},t.$$.update=()=>{if(30462&t.$$.dirty){n(5,p.y=h.height-p.height,p),n(5,p.x=.17*h.width,p),n(6,g.y=.913*h.height-g.height,g),n(6,g.x=.17*h.width,g),n(9,x.scale=new PIXI.Point(1.5,1.5),x),n(9,x.x=h.width*(.19-.05*i),x),n(9,x.y=.911*h.height-x.height,x),n(10,y.scale=new PIXI.Point(1.8,1.8),y),n(10,y.x=h.width*(.055-.05*i),y),n(10,y.y=.925*h.height-y.height,y),$.x=.1*h.width,$.y=.85*h.height,$.brightness=.5+.7*Math.min(Math.max(r/1200,0),1),n(7,m.scale.y=.61+.29*i,m),n(7,m.x=.9145*h.width,m),n(7,m.y=.81*h.height-m.height,m),b.x=.9145*h.width,b.y=.4*h.height,b.brightness=.5+.7*Math.min(Math.max(r/1200,0),1),l.theremin_null.texture.width/l.theremin_null.texture.height>r/o?(n(3,f.width=.88*r,f),n(3,f.scale.y=f.scale.x,f)):(n(3,f.height=.88*o,f),n(3,f.scale.x=f.scale.y,f)),r<600&&(n(3,f.width=r-30,f),n(3,f.x=.48*(r-f.width),f),n(3,f.scale.y=f.scale.x,f)),n(3,f.x=.48*(r-f.width),f),n(3,f.y=.3*(o-f.height),f),at.set({x:f.x,y:f.y,width:f.width,height:f.height});let t=d.filters[0];t.blur=0+4*i,t.enabled=t.blur>0}103552&t.$$.dirty&&!0===c&&(0===i&&u.set(1),w(a,y)&&16777215!==y.children[0].tint&&n(10,y.children[0].tint=16777215,y),w(a,y)||6697830===y.children[0].tint||n(10,y.children[0].tint=6697830,y),w(a,m)&&16777215!==m.children[0].tint&&n(7,m.children[0].tint=16777215,m),w(a,m)||6697830===m.children[0].tint||n(7,m.children[0].tint=6697830,m))},[u,l,d]}class Pt extends Y{constructor(t){super(),U(this,t,It,null,a,{textures:1,stage:2})}}function Ct(t,e,n){let i,r;s(t,nt,t=>n(1,i=t)),s(t,it,t=>n(2,r=t));let{stage:o=null}=e;const c=new PIXI.lights.AmbientLight(null,.2),a=new PIXI.Container,l=[{x:.13039276123046875,y:.4809034459731158,color:16711680},{x:.40115692138671877,y:.3336615169749541,color:16711680},{x:.9425523885091146,y:.5915714039522059,color:16711680},{x:.7425523885091146,y:.1915714039522059,color:16711680},{x:.8194022623697916,y:.7614661721622242,color:16744192},{x:.8256411743164063,y:.0489926955279182,color:16744192},{x:.11977320353190105,y:.8508505428538603,color:16744192},{x:.33254694620768227,y:.9263327205882353,color:16744192},{x:.7407407633463542,y:.9326670927159927,color:16744192},{x:.6591830444335938,y:.7735333610983456,color:16744192},{x:.39131688435872397,y:.789508954216,color:16744192}];return l.forEach(t=>{let e=new PIXI.lights.PointLight(t.color,1.2);a.addChild(e)}),o.addChild(c),t.$set=t=>{"stage"in t&&n(0,o=t.stage)},t.$$.update=()=>{6&t.$$.dirty&&a.children.forEach((t,e)=>{t.position.x=l[e].x*i,t.position.y=l[e].y*r,t.intensity=.8+.4*Math.min(Math.max(i,0),400)})},[o]}class Xt extends Y{constructor(t){super(),U(this,t,Ct,null,a,{stage:0})}}function Ft(t,e,n){let i,r,o,c;s(t,ct,t=>n(7,i=t)),s(t,nt,t=>n(10,c=t));let{stage:a=null}=e,{app:l=null}=e;const d=yt(0,{duration:1400,easing:gt});s(t,d,t=>n(9,o=t));const u=bt({x:0,y:0},{stiffness:.3,damping:.8});s(t,u,t=>n(8,r=t));const f=new PIXI.lights.PointLight(16744192,3),h=function(t,e,n){const i=(e+1)*n;t*=n,e*=n;const r=document.createElement("canvas"),o=r.getContext("2d");r.width=r.height=2*i;const c=o.createRadialGradient(i,i,t,i,i,e);return c.addColorStop(0,"rgba(255,255,255,1)"),c.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=c,o.fillRect(0,0,r.width,r.height),PIXI.Texture.fromCanvas(r)}(0,12,l.renderer.resolution),p=new PIXI.particles.ParticleContainer(5e3,{scale:!0,position:!0,rotation:!1,uvs:!1,tint:!0}),g=new PIXI.particles.Emitter(p,[h],{autoUpdate:!0,alpha:{start:.8,end:.15},scale:{start:1,end:.2,minimumScaleMultiplier:1},color:{start:"#FFFF33",end:"#ff7f00"},speed:{start:0,end:0,minimumSpeedMultiplier:1},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:0,max:0},noRotation:!0,rotationSpeed:{min:0,max:0},lifetime:{min:1,max:1},blendMode:"normal",frequency:8e-4,emitterLifetime:-1,maxParticles:5e3,pos:{x:0,y:0},addAtBack:!1,spawnType:"point"});return a.addChild(f,p),window.setTimeout(()=>{d.set(1),et.set(!0)},1200),t.$set=t=>{"stage"in t&&n(2,a=t.stage),"app"in t&&n(3,l=t.app)},t.$$.update=()=>{2e3&t.$$.dirty&&(u.set(i),f.position.set(r.x,r.y),p.alpha=o,g.updateOwnerPos(r.x,r.y),n(6,g.emit=!0,g),n(4,f.brightness=(.5+2*Math.min(Math.max(c/1200,0),1))*o,f))},[d,u,a,l]}class kt extends Y{constructor(t){super(),U(this,t,Ft,null,a,{stage:2,app:3})}}function At(e){let n,i,r,o,c,a,s,d,u;return{c(){n=y("div"),i=$("svg"),r=$("path"),o=$("path"),c=w(),a=y("section"),a.innerHTML='<p class="svelte-1fxi4ne">Play Theremin <span class="svelte-1fxi4ne">9</span></p>',v(r,"class","inner svelte-1fxi4ne"),v(r,"d","M38.7005 4.67073L301.955 123.55C313.067 128.568 312.9 144.406 301.684 149.188L38.198 261.538C21.0468 268.851 2 256.267 2 237.622V28.3667C2 9.48487 21.492 -3.10026 38.7005 4.67073Z"),v(o,"class","outer svelte-1fxi4ne"),v(o,"d","M38.7005 4.67073L301.955 123.55C313.067 128.568 312.9 144.406 301.684 149.188L38.198 261.538C21.0468 268.851 2 256.267 2 237.622V28.3667C2 9.48487 21.492 -3.10026 38.7005 4.67073Z"),v(i,"width","313"),v(i,"height","266"),v(i,"viewBox","0 0 313 266"),v(i,"fill","none"),v(i,"xmlns","http://www.w3.org/2000/svg"),v(i,"class","svelte-1fxi4ne"),v(a,"class","svelte-1fxi4ne"),v(n,"class",s=l(e[4]&&e[5]?"active loaded":e[5]?"active":e[4]?"loaded":"")+" svelte-1fxi4ne"),I(n,"top",e[3].top+"px"),I(n,"left",e[3].left+"px"),T(()=>e[10].call(n))},m(t,s){b(t,n,s),m(n,i),m(i,r),m(i,o),m(n,c),m(n,a),e[9](n),d=P(n,e[10].bind(n)),u=_(n,"pointerdown",e[6])},p(t,[e]){48&e&&s!==(s=l(t[4]&&t[5]?"active loaded":t[5]?"active":t[4]?"loaded":"")+" svelte-1fxi4ne")&&v(n,"class",s),8&e&&I(n,"top",t[3].top+"px"),8&e&&I(n,"left",t[3].left+"px")},i:t,o:t,d(t){t&&x(n),e[9](null),d.cancel(),u()}}}function Lt(t,e,n){let i,r,o,c,a;s(t,nt,t=>n(7,i=t)),s(t,at,t=>n(8,r=t)),s(t,et,t=>n(4,o=t)),s(t,tt,t=>n(5,c=t));let l=0,d=0,u={top:0,left:0};return t.$$.update=()=>{390&t.$$.dirty&&n(3,u={top:i>600?r.y+.5*r.height-.5*d:r.y+.2*r.height-.5*d,left:r.x+.525*r.width-.5*l})},[a,l,d,u,o,c,()=>{tt.set(!0)},i,r,function(t){L[t?"unshift":"push"](()=>{n(0,a=t)})},function(){l=this.clientWidth,d=this.clientHeight,n(1,l),n(2,d)}]}class Et extends Y{constructor(t){super(),U(this,t,Lt,At,a,{})}}function Mt(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function jt(t){let e,n,i,r,o,c,a;const s=new pt({props:{stage:lt}}),l=new wt({props:{stage:lt,textures:t[9]}}),d=new vt({props:{stage:lt,textures:t[9]}}),u=new Pt({props:{stage:lt,textures:t[9]}}),f=new Xt({props:{stage:lt}}),h=new kt({props:{app:st,stage:lt}}),p=new Et({});return{c(){V(s.$$.fragment),e=w(),V(l.$$.fragment),n=w(),V(d.$$.fragment),i=w(),V(u.$$.fragment),r=w(),V(f.$$.fragment),o=w(),V(h.$$.fragment),c=w(),V(p.$$.fragment)},m(t,g){K(s,t,g),b(t,e,g),K(l,t,g),b(t,n,g),K(d,t,g),b(t,i,g),K(u,t,g),b(t,r,g),K(f,t,g),b(t,o,g),K(h,t,g),b(t,c,g),K(p,t,g),a=!0},p(t,e){const n={};0&e&&(n.stage=lt),s.$set(n);const i={};0&e&&(i.stage=lt),l.$set(i);const r={};0&e&&(r.stage=lt),d.$set(r);const o={};0&e&&(o.stage=lt),u.$set(o);const c={};0&e&&(c.stage=lt),f.$set(c);const a={};0&e&&(a.app=st),0&e&&(a.stage=lt),h.$set(a)},i(t){a||(D(s.$$.fragment,t),D(l.$$.fragment,t),D(d.$$.fragment,t),D(u.$$.fragment,t),D(f.$$.fragment,t),D(h.$$.fragment,t),D(p.$$.fragment,t),a=!0)},o(t){q(s.$$.fragment,t),q(l.$$.fragment,t),q(d.$$.fragment,t),q(u.$$.fragment,t),q(f.$$.fragment,t),q(h.$$.fragment,t),q(p.$$.fragment,t),a=!1},d(t){W(s,t),t&&x(e),W(l,t),t&&x(n),W(d,t),t&&x(i),W(u,t),t&&x(r),W(f,t),t&&x(o),W(h,t),t&&x(c),W(p,t)}}}function St(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Tt(t){let e,n,i,r,o={ctx:t,current:null,token:null,pending:St,then:jt,catch:Mt,value:9,error:10,blocks:[,,,]};return H(n=ut,o),{c(){e=y("div"),o.block.c(),v(e,"class","canvasContainer svelte-186xmar"),T(()=>t[8].call(e))},m(n,c){b(n,e,c),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,t[7](e),i=P(e,t[8].bind(e)),r=!0},p(e,[n]){{const i=(t=e).slice();i[9]=o.resolved,o.block.p(i,n)}},i(t){r||(D(o.block),r=!0)},o(t){for(let t=0;t<3;t+=1){q(o.blocks[t])}r=!1},d(n){n&&x(e),o.block.d(),o.token=null,o=null,t[7](null),i.cancel()}}}function Bt(t,e,n){let i,r,o,c,a;s(t,nt,t=>n(4,i=t)),s(t,it,t=>n(5,r=t));let l=new PIXI.filters.NoiseFilter(.15,.19294618),d=new PIXI.filters.BlurFilter;return d.blur=0,d.quality=1,d.enabled=!1,console.log(d),lt.filterArea=st.screen,lt.filters=[d,l],k(async()=>{c.appendChild(st.view)}),t.$$.update=()=>{53&t.$$.dirty&&(nt.set(o),it.set(a),st.view.width=i,st.view.height=r,st.renderer.resize(i,r))},[o,c,a,d,i,r,l,function(t){L[t?"unshift":"push"](()=>{n(1,c=t)})},function(){o=this.clientWidth,a=this.clientHeight,n(0,o),n(2,a)}]}class Nt extends Y{constructor(t){super(),U(this,t,Bt,Tt,a,{})}}function Gt(e){let n,i,r;const c=new Nt({});return{c(){n=y("main"),V(c.$$.fragment),v(n,"class","svelte-t234nl")},m(t,o){b(t,n,o),K(c,n,null),i=!0,r=[_(window,"scroll",e[0]),_(window,"mousemove",e[1])]},p:t,i(t){i||(D(c.$$.fragment,t),i=!0)},o(t){q(c.$$.fragment,t),i=!1},d(t){t&&x(n),W(c),o(r)}}}function Rt(t){return[t=>{rt.set(t.target.documentElement.scrollTop)},t=>{ot.set({x:t.clientX,y:t.clientY})}]}return new class extends Y{constructor(t){super(),U(this,t,Rt,Gt,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
