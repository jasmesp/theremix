{"version":3,"file":"bundle.js","sources":["../../../rbd/pnpm-volume/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849/node_modules/.registry.npmjs.org/svelte/3.20.1/node_modules/svelte/internal/index.mjs","../../../rbd/pnpm-volume/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849/node_modules/.registry.npmjs.org/svelte/3.20.1/node_modules/svelte/store/index.mjs","../../src/components/stores.js","../../../rbd/pnpm-volume/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849/node_modules/.registry.npmjs.org/svelte/3.20.1/node_modules/svelte/easing/index.mjs","../../../rbd/pnpm-volume/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849/node_modules/.registry.npmjs.org/svelte/3.20.1/node_modules/svelte/motion/index.mjs","../../src/components/helpers.js","../../src/components/pixiApp.js","../../src/components/PIXI.Sprite.bg.svelte","../../src/components/PIXI.Sprite.table.svelte","../../src/components/PIXI.Sprite.video.svelte","../../src/components/config.js","../../src/components/PIXI.Sprite.theremin.svelte","../../src/components/PIXI.Sprite.theremin.mobile.svelte","../../src/components/PIXI.Light.ambient.svelte","../../src/components/PIXI.Light.cursor.svelte","../../src/components/PIXI.graphics.svelte","../../src/components/PIXI.text.svelte","../../src/components/icons/logo.svelte","../../src/components/icons/play.svelte","../../src/components/UI.title.svelte","../../src/components/Canvas.svelte","../../src/components/UI.toggle.svelte","../../src/components/UI.buttoncircle.svelte","../../src/components/UI.svelte","../../src/components/Tone.svelte","../../src/components/Video.webcam.svelte","../../src/components/Video.posenet.svelte","../../src/components/UI.settingsexpanded.svelte","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value' || descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j];\n                if (attributes[attribute.name]) {\n                    j++;\n                }\n                else {\n                    node.removeAttribute(attribute.name);\n                }\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    if (value != null || input.value) {\n        input.value = value;\n    }\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\nfunction add_resize_listener(element, fn) {\n    if (getComputedStyle(element).position === 'static') {\n        element.style.position = 'relative';\n    }\n    const object = document.createElement('object');\n    object.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n    object.setAttribute('aria-hidden', 'true');\n    object.type = 'text/html';\n    object.tabIndex = -1;\n    let win;\n    object.onload = () => {\n        win = object.contentDocument.defaultView;\n        win.addEventListener('resize', fn);\n    };\n    if (/Trident/.test(navigator.userAgent)) {\n        element.appendChild(object);\n        object.data = 'about:blank';\n    }\n    else {\n        object.data = 'about:blank';\n        element.appendChild(object);\n    }\n    return {\n        cancel: () => {\n            win && win.removeEventListener && win.removeEventListener('resize', fn);\n            element.removeChild(object);\n        }\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(html, anchor = null) {\n        this.e = element('div');\n        this.a = anchor;\n        this.u(html);\n    }\n    m(target, anchor = null) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(target, this.n[i], anchor);\n        }\n        this.t = target;\n    }\n    u(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    p(html) {\n        this.d();\n        this.u(html);\n        this.m(this.t, this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined' ? window : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next, lookup.has(block.key));\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if ($$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.20.1' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe,\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","import { writable } from 'svelte/store';\nexport const active = writable(false);\nexport const loaded = writable(false);\nexport const camera = writable(false);\nexport const videoReady = writable(null);\nexport const WIDTH = writable(2400/2);\nexport const HEIGHT = writable(1350/2);\nexport const SCALE = writable(1)\nexport const TIME = writable(0)\nexport const CANVASWIDTH = writable(2400/2);\nexport const CANVASHEIGHT = writable(1350/2);\nexport const globalPointerUp = writable(true);\nexport const mousePos = writable({x:0,y:0})\nexport const canvasMousePos = writable({x:0,y:0})\nexport const mouseOverride = writable(0)\nexport const audioControls = writable({x:0,y:0})\nexport const thereminPos = writable({x:0,y:0})\nexport const machineLeftPos = writable({x:0,y:0})\nexport const thereminMobilePos = writable({x:0,y:0})\nexport const videoPos = writable({x:0,y:0})\n\nexport const expandSettings = writable(false)\nexport const volumeVal = writable(-16)\nexport const gain1Val = writable(0.1)\nexport const FFT = writable([])\nexport const glide = writable(true)\nexport const toneOutput = writable({\n    glide:true,\n    freq:0,\n    note:'Eb3'\n})\nexport const oscillatorType = writable('Sine')\nexport const analyser = writable(null)\nexport const tonic = writable('Eb3')\nexport const scaleType = writable('Blues')\nexport const scaleNotes = writable([])\nexport const octaves = writable(4)\nexport const poseNetRes = writable(null)\n\nexport const dragged = writable(null)\nexport const hovered = writable(null)\n\n\n","export { identity as linear } from '../internal';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { writable } from '../store';\nimport { now, loop, assign } from '../internal';\nimport { linear } from '../easing';\n\nfunction is_date(obj) {\n    return Object.prototype.toString.call(obj) === '[object Date]';\n}\n\nfunction tick_spring(ctx, last_value, current_value, target_value) {\n    if (typeof current_value === 'number' || is_date(current_value)) {\n        // @ts-ignore\n        const delta = target_value - current_value;\n        // @ts-ignore\n        const velocity = (current_value - last_value) / (ctx.dt || 1 / 60); // guard div by 0\n        const spring = ctx.opts.stiffness * delta;\n        const damper = ctx.opts.damping * velocity;\n        const acceleration = (spring - damper) * ctx.inv_mass;\n        const d = (velocity + acceleration) * ctx.dt;\n        if (Math.abs(d) < ctx.opts.precision && Math.abs(delta) < ctx.opts.precision) {\n            return target_value; // settled\n        }\n        else {\n            ctx.settled = false; // signal loop to keep ticking\n            // @ts-ignore\n            return is_date(current_value) ?\n                new Date(current_value.getTime() + d) : current_value + d;\n        }\n    }\n    else if (Array.isArray(current_value)) {\n        // @ts-ignore\n        return current_value.map((_, i) => tick_spring(ctx, last_value[i], current_value[i], target_value[i]));\n    }\n    else if (typeof current_value === 'object') {\n        const next_value = {};\n        for (const k in current_value)\n            // @ts-ignore\n            next_value[k] = tick_spring(ctx, last_value[k], current_value[k], target_value[k]);\n        // @ts-ignore\n        return next_value;\n    }\n    else {\n        throw new Error(`Cannot spring ${typeof current_value} values`);\n    }\n}\nfunction spring(value, opts = {}) {\n    const store = writable(value);\n    const { stiffness = 0.15, damping = 0.8, precision = 0.01 } = opts;\n    let last_time;\n    let task;\n    let current_token;\n    let last_value = value;\n    let target_value = value;\n    let inv_mass = 1;\n    let inv_mass_recovery_rate = 0;\n    let cancel_task = false;\n    function set(new_value, opts = {}) {\n        target_value = new_value;\n        const token = current_token = {};\n        if (value == null || opts.hard || (spring.stiffness >= 1 && spring.damping >= 1)) {\n            cancel_task = true; // cancel any running animation\n            last_time = now();\n            last_value = new_value;\n            store.set(value = target_value);\n            return Promise.resolve();\n        }\n        else if (opts.soft) {\n            const rate = opts.soft === true ? .5 : +opts.soft;\n            inv_mass_recovery_rate = 1 / (rate * 60);\n            inv_mass = 0; // infinite mass, unaffected by spring forces\n        }\n        if (!task) {\n            last_time = now();\n            cancel_task = false;\n            task = loop(now => {\n                if (cancel_task) {\n                    cancel_task = false;\n                    task = null;\n                    return false;\n                }\n                inv_mass = Math.min(inv_mass + inv_mass_recovery_rate, 1);\n                const ctx = {\n                    inv_mass,\n                    opts: spring,\n                    settled: true,\n                    dt: (now - last_time) * 60 / 1000\n                };\n                const next_value = tick_spring(ctx, last_value, value, target_value);\n                last_time = now;\n                last_value = value;\n                store.set(value = next_value);\n                if (ctx.settled)\n                    task = null;\n                return !ctx.settled;\n            });\n        }\n        return new Promise(fulfil => {\n            task.promise.then(() => {\n                if (token === current_token)\n                    fulfil();\n            });\n        });\n    }\n    const spring = {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe,\n        stiffness,\n        damping,\n        precision\n    };\n    return spring;\n}\n\nfunction get_interpolator(a, b) {\n    if (a === b || a !== a)\n        return () => a;\n    const type = typeof a;\n    if (type !== typeof b || Array.isArray(a) !== Array.isArray(b)) {\n        throw new Error('Cannot interpolate values of different type');\n    }\n    if (Array.isArray(a)) {\n        const arr = b.map((bi, i) => {\n            return get_interpolator(a[i], bi);\n        });\n        return t => arr.map(fn => fn(t));\n    }\n    if (type === 'object') {\n        if (!a || !b)\n            throw new Error('Object cannot be null');\n        if (is_date(a) && is_date(b)) {\n            a = a.getTime();\n            b = b.getTime();\n            const delta = b - a;\n            return t => new Date(a + t * delta);\n        }\n        const keys = Object.keys(b);\n        const interpolators = {};\n        keys.forEach(key => {\n            interpolators[key] = get_interpolator(a[key], b[key]);\n        });\n        return t => {\n            const result = {};\n            keys.forEach(key => {\n                result[key] = interpolators[key](t);\n            });\n            return result;\n        };\n    }\n    if (type === 'number') {\n        const delta = b - a;\n        return t => a + t * delta;\n    }\n    throw new Error(`Cannot interpolate ${type} values`);\n}\nfunction tweened(value, defaults = {}) {\n    const store = writable(value);\n    let task;\n    let target_value = value;\n    function set(new_value, opts) {\n        if (value == null) {\n            store.set(value = new_value);\n            return Promise.resolve();\n        }\n        target_value = new_value;\n        let previous_task = task;\n        let started = false;\n        let { delay = 0, duration = 400, easing = linear, interpolate = get_interpolator } = assign(assign({}, defaults), opts);\n        const start = now() + delay;\n        let fn;\n        task = loop(now => {\n            if (now < start)\n                return true;\n            if (!started) {\n                fn = interpolate(value, new_value);\n                if (typeof duration === 'function')\n                    duration = duration(value, new_value);\n                started = true;\n            }\n            if (previous_task) {\n                previous_task.abort();\n                previous_task = null;\n            }\n            const elapsed = now - start;\n            if (elapsed > duration) {\n                store.set(value = new_value);\n                return false;\n            }\n            // @ts-ignore\n            store.set(value = fn(easing(elapsed / duration)));\n            return true;\n        });\n        return task.promise;\n    }\n    return {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe\n    };\n}\n\nexport { spring, tweened };\n","let config = {\n    \"smoothing\": {\n        \"jumpDetection\": false,\n        \"smoothing\": 0.67,\n        \"maxJumpRatio\": 0.3,\n        \"jumpResetTime\": 1000,\n        \"speedSmoothing\": 0.8\n    }\n}\n  \nexport function constrain(value, constraints) {\n    return Math.max(Math.min(value, constraints.max), constraints.min);\n  }\n  \nexport function getDistance(a, b) {\n    const distX = a.x - b.x;\n    const distY = a.y - b.y;\n    return Math.sqrt(distX**2 + distY**2);\n  }\n  \nexport function getMidpoint(a, b, axis) {\n    const x1 = a.position[axis];\n    const x2 = b.position[axis];\n    return (x1 + x2) / 2;\n  }\n  \nfunction getKeypoint(pose, part) {\n    return pose.keypoints.filter((keypoint) => keypoint.part === part )[0];\n  }\n  \n  /* Returns a dictionary where keys = name of keypoint, value = keypoint object */\nfunction getKeypoints(pose, parts) {\n    const keypoints = {};\n    if (parts) {\n      parts.forEach((part) => {\n        keypoints[part] = getKeypoint(pose, part);\n      })\n    } else {\n      pose.keypoints.forEach((keypoint) => {\n        keypoints[keypoint.part] = getKeypoint(pose, keypoint.part);\n      });\n    }\n    return keypoints;\n  }\n  \nfunction getPoseFromKeypoints(keypoints) {\n    const pose = { keypoints: [] };\n    Object.keys(keypoints).forEach((part) => {\n      pose.keypoints.push(keypoints[part]);\n    });\n    return pose;\n  }\n\n\n  const smoothing = config.smoothing.smoothing;\n  let smoothPrevPose;  \n\nexport function smooth(pose, armspan) {\n    if (config.smoothing.jumpDetection) pose = unjump(pose, armspan);\n    if (!smoothPrevPose) { smoothPrevPose = pose; return pose; }\n    \n    const keypoints = getKeypoints(pose);\n    const prevKeypoints = getKeypoints(smoothPrevPose);\n    const smoothKeypoints = keypoints;\n  \n    Object.keys(keypoints).forEach((part) => {\n      const prevPos = prevKeypoints[part].position;\n      const smoothPos = smoothKeypoints[part].position;\n      const pos = keypoints[part].position;\n      \n      smoothPos.x = (prevPos.x - pos.x) * (smoothing) + pos.x;\n      smoothPos.y = (prevPos.y - pos.y) * (smoothing) + pos.y;\n    });\n  \n    const smoothPose = getPoseFromKeypoints(smoothKeypoints);\n    smoothPose.score = pose.score;\n    smoothPrevPose = smoothPose;\n    return smoothPose;\n  }\n  \n  /* If joints move too fast (they jump unrealistically) it's probably\n     a glitch. So ignore those movements. */\n  let jumpPrevPose;\n  let jumpReset = [];\n  let jumpResetPose;\n  function unjump(pose, armspan) {\n    if (!jumpPrevPose) {\n      jumpPrevPose = pose;\n      return pose;\n    }\n  \n    // Maximum valid movement distance (smaller = more agressive smoothing)\n    const maxDistance = config.smoothing.maxJumpRatio * armspan;\n    const smoothedKeypoints = [];\n  \n    // Go over each keypoint, see if it's moved an unrealistic amount in one frame,\n    // and if so revert to previous position\n    pose.keypoints.forEach((keypoint) => {\n      const prevKeypoint = getKeypoint(jumpPrevPose, keypoint.part);\n      const distance = getDistance(keypoint.position, prevKeypoint.position);\n  \n      if (distance > maxDistance) {\n        smoothedKeypoints.push(prevKeypoint);\n      } else {\n        smoothedKeypoints.push(keypoint);\n      }\n    });\n  \n    const originalPose = Object.assign({}, pose);\n    pose.keypoints = smoothedKeypoints;\n  \n    // Reset any parts that have been stuck\n    jumpReset.forEach((part) => {\n      const prevKeypoint = getKeypoint(jumpPrevPose, part);\n      pose.keypoints.forEach((keypoint) => {\n        if (keypoint.part === part) {\n          keypoint.position.x = getKeypoint(originalPose, part).position.x;\n          keypoint.position.y = getKeypoint(originalPose, part).position.y;\n        }\n      });\n      jumpReset.splice(jumpReset.indexOf(part), 1);\n    });\n  \n    jumpPrevPose = pose;\n    return pose;\n  }\n  \n  /* Sometimes the joints get stuck (legitimate fast movements,\n     or where joints get lost). Reset every x seconds in case of this. */\n  if (config.smoothing.jumpDetection) setUnjumpInterval();\n  function setUnjumpInterval() {\n    setInterval(() => {\n      const prevPose = jumpResetPose;\n      const pose = jumpPrevPose;\n  \n      if (typeof prevPose != 'undefined' && prevPose.keypoints && typeof pose != 'undefined' && pose.keypoints) {\n        pose.keypoints.forEach((keypoint) => {\n          const prevKeypoint = getKeypoint(prevPose, keypoint.part)\n          const distance = getDistance(keypoint.position, prevKeypoint.position);\n  \n          if (distance === 0) {\n            jumpReset.push(keypoint.part);\n          }\n        });\n      }\n  \n      jumpResetPose = Object.assign({}, jumpPrevPose);\n    }, config.smoothing.jumpResetTime)\n  }","import {constrain} from './helpers.js';\n\n//PIXI Global Variables & Helper Functions\nexport const App = new PIXI.Application()\nexport const Stage = (App.stage = new PIXI.display.Stage());\n\nexport const diffuseLayer = new PIXI.display.Layer(PIXI.lights.diffuseGroup)\nexport const normalLayer = new PIXI.display.Layer(PIXI.lights.normalGroup)\nexport const lightLayer = new PIXI.display.Layer(PIXI.lights.lightGroup)\nexport const graphicsGroup = new PIXI.display.Group(1,true)\nexport const graphicsLayer = new PIXI.display.Layer(graphicsGroup)\nexport const cursorGroup = new PIXI.display.Group(2,true)\nexport const cursorLayer = new PIXI.display.Layer(cursorGroup)\n\nStage.addChild(\n    diffuseLayer,\n    normalLayer,\n    lightLayer,\n    graphicsLayer,\n    cursorLayer);\n\nexport const Loader = PIXI.loader\n    .add(\n        \"table\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2Fstatic_light.png?v=1588712825397\"\n    )\n    .add(\n        \"static_dark\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2Fbg_flat.png?v=1588451420532\"\n    )\n    .add(\n        \"bg_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2Fstatic_light_normal.png?v=1588480563148\"\n    )\n    .add(\n        \"table_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2Fstatic_light_normal.png?v=1588486193784\"\n    )\n    .add(\n        \"machine_right\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FMachine_Right.png?v=1584933516896\"\n    )\n    .add(\n        \"machine_right_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FMachine_Right_normal.jpg?v=1584933515948\"\n    )\n    .add(\n        \"machine_left\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FMachine_Left.png?v=1588391938150\"\n    )\n    .add(\n        \"machine_left_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FMachine_Left_Normal.jpg?v=1584933516036\"\n    )\n    .add(\n        \"theremin_null\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2Ftheremin_null.jpg?v=1585345680882\"\n    )\n    .add(\n        \"theremin_body_bottom\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTheremin_Body_Bottom.png?v=1585100297444\"\n    )\n    .add(\n        \"theremin_body_bottom_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTheremin_Body_Bottom_Normal.png?v=1587842945032\"\n    )\n    .add(\n        \"theremin_body_top\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTheremin%20Body.png?v=1588528060866\"\n    )\n    .add(\n        \"theremin_body_top_mobile\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTheremin%20Body%20Mobile.png?v=1588526544079\"\n    )\n    .add(\n        \"theremin_body_top_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTheremin%20Body%20Normal.png?v=1588526540068\"\n    )\n    .add(\n        \"right_antenna\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FRight%20Antenna.png?v=1588409335861\"\n    )\n    .add(\n        \"right_antenna_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FRight%20Antenna%20Normal.png?v=1588448733643\"\n    )\n    .add(\n        \"left_antenna1\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FAntenna_Left1.png?v=1588194921081\"\n    )\n    .add(\n        \"left_antenna1_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FAntenna_Left1_Normal.png?v=1588194921158\"\n    )\n    .add(\n        \"left_antenna2\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FLeft%20Antenna.png?v=1588488019728\"\n    )\n    .add(\n        \"left_antenna2_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FLeft%20Antenna%20Normal.png?v=1588488019570\"\n    )\n    .add(\n        \"knob\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FKnob.png?v=1588538609478\"\n    )\n    .add(\n        \"knob_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FKnob_normal.png?v=1588538609649\"\n    )\n    .add(\n        \"switch_on\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FSwitch%20On.png?v=1588538609607\"\n    )\n    .add(\n        \"switch_off\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FSwitch%20Off.png?v=1588538609551\"\n    )\n    .add(\n        \"switch_off_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FSwitch_Off_Normal.png?v=1588538609780\"\n    )\n    .add(\n        \"switch_on_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FSwitch_On_Normal.png?v=1588538609821\"\n    )\n    .add(\n        \"solid2x2\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FSolid2X2.png?v=1585365268924\"\n    )\n    .add(\n        \"gradient2x2\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FGradient2X2.png?v=1585365268893\"\n    )\n    .add(\n        \"normal2x2\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2F2X2_Normal.png?v=1585365268937\"\n    )\n    .add(\n        \"theremin_mobile\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTheremin_Body_Top_Mobile.png?v=1588539244259\"\n    )\n    .add(\n        \"theremin_mobile_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FTheremin_Body_Top_Mobile_Normal.png?v=1588538333747\"\n    )\n    .add(\n        \"video\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FMonitor.png?v=1588141330638\"\n    )\n    .add(\n        \"video_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FMonitor%20Normal.png?v=1588141330688\"\n    )\n    .add(\n        \"wire1\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FWire1.png?v=1588094588858\"\n    )\n    .add(\n        \"wire1_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FWire1%20Normal.png?v=1588094588830\"\n    )\n    .add(\n        \"wire2\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FWire2.png?v=1588094588879\"\n    )\n    .add(\n        \"wire2_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FWire2%20Normal.png?v=1588130380900\"\n    )\n    .add(\n        \"wire3\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FWire3.png?v=1588094589229\"\n    )\n    .add(\n        \"wire3_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FWire3%20Normal.png?v=1588130380839\"\n    )\n    .add(\n        \"symbols\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FSymbols.png?v=1588539581075\"\n    )\n    .add(\n        \"symbols_normal\",\n        \"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FSymbols%20Normal.png?v=1588539581021\"\n    )\n\n    \n    \n\nexport const Resources = new Promise(\n    (resolve, reject)=>\n        Loader.load(\n            (loader, resources) => {\n                // console.log(resources)\n                resolve(resources)\n            }\n        )\n)\n\nexport const createPair = (diffuseTex, normalTex) => {\n    var container = new PIXI.Container();\n    var diffuseSprite = new PIXI.Sprite(diffuseTex);\n    diffuseSprite.parentGroup = PIXI.lights.diffuseGroup;\n    var normalSprite = new PIXI.Sprite(normalTex);\n    normalSprite.parentGroup = PIXI.lights.normalGroup;\n    container.addChild(diffuseSprite);\n    container.addChild(normalSprite);\n    return container;\n}\n\nexport const createSprite = (diffuseTex, normalTex)=>{\n    if(normalTex){\n        const spriteGroup = createPair(diffuseTex, normalTex)\n        return spriteGroup\n    }else{\n        const singleSprite = new PIXI.Sprite(diffuseTex)\n        return singleSprite\n    }\n}\n\nexport function createGradientTexture(r1, r2, resolution) {\n    \n    const c = (r2 + 1) * resolution;\n    r1 *= resolution;\n    r2 *= resolution;\n      \n    const canvas = document.createElement(\"canvas\");\n    const context = canvas.getContext(\"2d\");\n    canvas.width = canvas.height = c * 2;\n     \n    const gradient = context.createRadialGradient(c, c, r1, c, c, r2);\n    gradient.addColorStop(0, \"rgba(255,255,255,1)\");\n    gradient.addColorStop(1, \"rgba(255,255,255,0)\");\n    \n    context.fillStyle = gradient;\n    context.fillRect(0, 0, canvas.width, canvas.height);\n    \n    return PIXI.Texture.fromCanvas(canvas);\n  }\n\nexport const lerpColor = function(a, b, amount) {\n    const ar = a >> 16,\n        ag = (a >> 8) & 0xff,\n        ab = a & 0xff,\n        br = b >> 16,\n        bg = (b >> 8) & 0xff,\n        bb = b & 0xff,\n        rr = ar + amount * (br - ar),\n        rg = ag + amount * (bg - ag),\n        rb = ab + amount * (bb - ab);\n\n    return (rr << 16) + (rg << 8) + (rb | 0);\n};\n\nexport const detectCollision = (position,pixiElement) => {\n    const element_bounds = pixiElement.getBounds()\n    let collide = (position.x > element_bounds.x\n            && position.x < element_bounds.x + element_bounds.width\n            && position.y > element_bounds.y\n            && position.y < element_bounds.y + element_bounds.height\n        ) ? true : false\n    return collide\n}\n\nexport const calcRotation = (element,mousePos,min=-.9,max=.9) =>{\n    let normalizedPos = {\n        x:element.getBounds().x+element.width/2,\n        y:element.getBounds().y+element.height/2\n    }\n    let minAngle = min*Math.PI\n    let maxAngle = max*Math.PI\n    //Ugly Angle Correction\n    var angleRadians = Math.atan2(normalizedPos.y - mousePos.y, normalizedPos.x - mousePos.x)-0.5*Math.PI;\n    angleRadians = (angleRadians <= minAngle && angleRadians >= -5) ? angleRadians+=2*Math.PI : angleRadians\n    let value = (angleRadians/maxAngle)/(Math.abs(min)+Math.abs(max))\n    let percent = constrain((angleRadians/Math.PI+max)/(Math.abs(min)+Math.abs(max)),{min:0,max:1})\n\n    return {\n        radians:angleRadians, //returns rotation\n        percent:percent //returns between 0 and 1\n    }\n\n}\n","<script>\nimport {createSprite} from './pixiApp.js'\nimport { tweened } from 'svelte/motion';\nimport { backOut } from 'svelte/easing';\nimport {WIDTH,HEIGHT,CANVASWIDTH,CANVASHEIGHT,thereminPos,machineLeftPos} from './stores.js'\nexport let textures = null;\nexport let stage = null;\n\nconst bgContainer = new PIXI.Container();\nconst bg = createSprite(textures.static_dark.texture,textures.bg_normal.texture)\nbg.children[0].tint = 0x555555;\nconst bgRatio = textures.static_dark.texture.width/textures.static_dark.texture.height\n\nconst machineLeft = createSprite(textures.machine_left.texture,textures.machine_left_normal.texture)\nconst machineRight = createSprite(textures.machine_right.texture,textures.machine_right_normal.texture)\nmachineLeft.children[0].tint = 0xFF8484\nmachineRight.children[0].tint = 0xFF8484\nmachineRight.alpha = .5\n\n$: {\n    if($CANVASWIDTH/$CANVASHEIGHT > bgRatio){\n        bg.width = $CANVASWIDTH\n        bg.scale.y = bg.scale.x\n    }else{\n        bg.height = $CANVASHEIGHT\n        bg.scale.x = bg.scale.y\n    }\n    \n    bg.position.set(\n    ($CANVASWIDTH*.5 - bg.width*.5), \n    ($CANVASHEIGHT*.5 - bg.height*.5)\n    );\n    \n    machineLeft.width = ($CANVASWIDTH*.6)<$CANVASHEIGHT ? $CANVASWIDTH*.6 : $CANVASHEIGHT*.9\n    machineLeft.scale.y = machineLeft.scale.x\n    machineLeft.position.x = $CANVASWIDTH*.6<$CANVASHEIGHT \n        ? $CANVASWIDTH*.1 - machineLeft.width*.15\n        : $CANVASWIDTH*.1 - machineLeft.width*.1\n\n    let yBasedOnTheremin = $thereminPos.y + $thereminPos.height*.85 - machineLeft.height\n    machineLeft.position.y = (yBasedOnTheremin>20) ? yBasedOnTheremin : 20\n\n    machineRight.width = ($CANVASWIDTH*.6)<$CANVASHEIGHT ? $CANVASWIDTH*.55 : $CANVASHEIGHT*.85\n    machineRight.scale.y = machineLeft.scale.x\n    machineRight.position.x = (($CANVASWIDTH*.6)<$CANVASHEIGHT)\n        ? $CANVASWIDTH*.9 - machineRight.width*.48 \n        : $CANVASWIDTH*.9 - machineRight.width*.45\n    machineRight.position.y = machineLeft.position.y * 1.3\n\n    if($WIDTH>=900){\n        machineRight.visible = true\n        machineLeft.alpha = .5\n    }\n    if($WIDTH >= 600 && $WIDTH < 900){\n        machineLeft.width = $CANVASWIDTH - 160\n        machineLeft.scale.y = machineLeft.scale.x\n        machineLeft.position.x = 80\n        machineLeft.alpha = .5\n        let yBasedOnTheremin = $thereminPos.y + $thereminPos.height*.95 - machineLeft.height\n        machineLeft.position.y = (yBasedOnTheremin>20) ? yBasedOnTheremin : 20\n        machineRight.visible = false\n    }\n    if($WIDTH < 600){\n        machineLeft.width = $CANVASWIDTH - 30\n        machineLeft.scale.y = machineLeft.scale.x\n        machineLeft.position.x = 15\n        machineLeft.alpha = .5\n        let yBasedOnTheremin = $thereminPos.y + $thereminPos.height*.95 - machineLeft.height\n        machineLeft.position.y = (yBasedOnTheremin>20) ? yBasedOnTheremin : 20\n        machineRight.visible = false\n    }\n\n    machineLeftPos.set({\n        x:machineLeft.x,\n        y:machineLeft.y,\n        width:machineLeft.width,\n        height:machineLeft.height\n    })\n\n}\n\nbgContainer.addChild(bg)\nstage.addChild(bgContainer)\n\n</script>","<script>\nimport {createSprite} from './pixiApp.js';\nimport { tweened } from 'svelte/motion';\nimport { cubicOut } from 'svelte/easing';\nimport {CANVASWIDTH,CANVASHEIGHT,thereminPos} from './stores.js';\nexport let textures = null;\nexport let stage = null;\n\nconst table = createSprite(textures.table.texture,textures.table_normal.texture)\nconst tableRatio = textures.static_dark.texture.width/textures.static_dark.texture.height\ntable.children[0].tint = 0x363636\nstage.addChild(table)\n\n\n$:{\n    if($CANVASWIDTH/$CANVASHEIGHT > tableRatio){\n        table.width = $CANVASWIDTH\n        table.scale.y = table.scale.x\n    }else{\n        table.height = $CANVASHEIGHT\n        table.scale.x = table.scale.y\n    }\n    table.x = ($CANVASWIDTH - table.width)*.5\n    table.y = $thereminPos.y + $thereminPos.height*.88;\n}\n\n\n</script>","<script>\nimport {createSprite} from './pixiApp.js';\nimport { tweened } from 'svelte/motion';\nimport { backInOut, sineInOut } from 'svelte/easing';\nimport {constrain} from './helpers.js'\nimport {CANVASWIDTH,CANVASHEIGHT,WIDTH,SCALE,videovideoPos,videoPos,videoReady} from './stores.js';\nexport let textures = null;\nexport let stage = null;\n\nconst sineInOut0_1 = tweened(0, {\n    duration: 700,\n    easing: sineInOut\n});\nconst backOut0_1 = tweened(0, {\n    duration: 1200,\n    easing: backInOut\n});\n\n\nconst wire1 = createSprite(textures.wire1.texture,textures.wire1_normal.texture)\nconst wire2 = createSprite(textures.wire2.texture,textures.wire2_normal.texture)\nconst wire3 = createSprite(textures.wire3.texture,textures.wire3_normal.texture)\n\nconst video = createSprite(textures.video.texture,textures.video_normal.texture)\n\nconst video_light = new PIXI.lights.PointLight(0xff7f00, 0);\nstage.addChild(wire1,wire2,wire3,video,video_light)\n\n$:{\n    video.width = 160*$SCALE\n    video.scale.y = video.scale.x\n\n    let margin = ($WIDTH>600) ? 24 : 16\n    video.x = margin*$SCALE - (video.width+30)*(1-$sineInOut0_1)\n    video.y = (margin*2+56)*$SCALE\n    video_light.x = margin*2*$SCALE + video.width*.5\n    video_light.y = video.y\n    video_light.brightness = (1+.8*constrain($CANVASWIDTH/1200, {min:0,max:1}))*$sineInOut0_1\n\n    videoPos.set({\n        x:video.x,\n        y:video.y,\n        width:video.width,\n        height:video.height\n    })\n\n    wire1.scale = {x:video.scale.x,y:video.scale.x}\n    wire1.x = video.x - margin - margin*2*(1-$backOut0_1)\n    wire1.y = 0 - margin\n\n    wire2.scale = {x:video.scale.x,y:video.scale.x}\n    wire2.x = video.x - margin*1.6 - margin*2*(1-$backOut0_1)\n    wire2.y = video.y + video.height*.95\n\n    wire3.scale = {x:video.scale.x,y:video.scale.x}\n    wire3.x = video.x - margin*2.2 - margin*1*(1-$backOut0_1)\n    wire3.y = video.y + video.height*.95\n\n    if($videoReady){\n        if($sineInOut0_1 === 0){\n            sineInOut0_1.set(1)\n        } \n        if($backOut0_1 === 0){\n            backOut0_1.set(1)\n        } \n    }else{\n        if($sineInOut0_1 === 1){\n            sineInOut0_1.set(0)\n        } \n        if($backOut0_1 === 1){\n            backOut0_1.set(0)\n        } \n    }\n}\n\n\n</script>","export const oscillators = [\n    \"Oscillator Off\",\n    'Sine', 'FM Sine', 'AM Sine', 'Fat Sine',\n    'Triangle', 'FM Triangle', 'AM Triangle', 'Fat Triangle',\n    'Sawtooth','FM Sawtooth','AM Sawtooth','Fat Sawtooth',\n    'Square', 'FM Square', 'AM Square', 'Fat Square',\n    'PWM', 'Pulse'\n]\nexport const scales = [\n    'Major',\n    'Minor',\n    'Ionian',\n    'Dorian',\n    'Phrygian',\n    'Lydian',\n    'Mixolydian',\n    'Aeolian',\n    'Locrian',\n    'Majorpentatonic',\n    'Minorpentatonic',\n    'Chromatic',\n    'Harmonicchromatic',\n    'Blues',\n    'Doubleharmonic',\n    'Flamenco',\n    'Harmonicminor',\n    'Melodicminor',\n    'Wholetone'\n]\n\nexport const posenetOptions = {\n        architecture: \"MobileNetV1\",\n        imageScaleFactor: 0.33,\n        outputStride: 16,\n        flipHorizontal: true,\n        maxPoseDetections: 1,\n        detectionType: \"single\",\n        minPoseConfidence: 0.2,\n        minPartConfidence: 0.1 \n}","<script>\nimport { onMount } from 'svelte';\nimport {createSprite, lerpColor, detectCollision, calcRotation} from './pixiApp.js';\nimport { tweened,spring } from 'svelte/motion';\nimport {constrain} from './helpers.js';\nimport { backOut, sineInOut, quadInOut } from 'svelte/easing';\nimport { oscillators } from './config.js';\nimport {loaded,active,WIDTH,HEIGHT,CANVASWIDTH,CANVASHEIGHT,canvasMousePos,mousePos,globalPointerUp, thereminPos,thereminMobilePos,glide, volumeVal,oscillatorType,dragged,hovered,TIME,SCALE} from './stores.js';\nexport let textures = null;\nexport let stage = null;\n\nconst backOut0_1 = tweened(0, {\n    duration: 700,\n    easing: backOut\n});\n\nconst sineInOut0_1 = tweened(0, {\n    duration: 600,\n    easing: sineInOut\n});\n\nconst pulse0_1 = tweened(1, {\n    duration: 2400,\n    easing: sineInOut\n});\n\nconst tweenKnobLeft = tweened(0, {\n    duration: 700,\n    easing: backOut\n});\n\nconst tweenKnobRight = tweened(0, {\n    duration: 700,\n    easing: backOut\n});\n\nconst theremin = new PIXI.Container();\n\nconst theremin_null = createSprite(textures.theremin_null.texture)\ntheremin_null.alpha = 0\n\nconst theremin_body_bottom = createSprite(\n    textures.theremin_body_bottom.texture,\n    textures.theremin_body_bottom_normal.texture\n)\n\nconst theremin_body_top = createSprite(\n    textures.theremin_body_top.texture,\n    textures.theremin_body_top_normal.texture\n)\n// theremin_body_top.children[0].tint = 0x5B0909\n\nconst knob_left = createSprite(\n    textures.knob.texture,\n    textures.knob_normal.texture\n)\nknob_left.children[0].anchor.set(0.5, 0.5);\nknob_left.children[1].anchor.set(0.5, 0.5);\nknob_left.children[0].tint = 0x999999;\nknob_left.on('mouseover',()=>{\n    hovered.set(knob_left)\n    knob_left.children[0].tint = 0xffffff\n})\nknob_left.on('mouseout',()=>{\n    hovered.set(null)\n    knob_left.children[0].tint = 0x999999\n})\nknob_left.on('pointerdown',()=>{\n    dragged.set({\n        element:knob_left,\n        id:'vol'\n    })\n    globalPointerUp.set(false)\n})\nconst knob_left_light = new PIXI.lights.PointLight(0xff7f00, 0);\n\n\nconst knob_right = createSprite(\n    textures.knob.texture,\n    textures.knob_normal.texture\n)\nknob_right.children[0].anchor.set(0.5, 0.5);\nknob_right.children[1].anchor.set(0.5, 0.5);\nknob_right.children[0].tint = 0x999999;\nknob_right.on('mouseover',()=>{\n    hovered.set(knob_right)\n    knob_right.children[0].tint = 0xffffff\n})\nknob_right.on('mouseout',()=>{\n    hovered.set(null)\n    knob_right.children[0].tint = 0x999999\n})\nknob_right.on('pointerdown',()=>{\n    hovered.set(null)\n    dragged.set({\n        element:knob_right,\n        id:'osc'\n    })\n    globalPointerUp.set(false)\n})\nconst knob_right_light = new PIXI.lights.PointLight(0xff0000, 0);\n\nconst switchRight = createSprite(\n    textures.switch_off.texture,\n    textures.switch_off_normal.texture\n)\nswitchRight.children[0].anchor.set(0.5, 0.5);\nswitchRight.children[1].anchor.set(0.5, 0.5);\n$: switchRight.children[0].tint = ($glide) ? 0xffffff : 0x999999\n$: switchRight.children[0].texture = ($glide && $active) ? textures.switch_on.texture : textures.switch_off.texture\n$: switchRight.children[1].texture = ($glide && $active) ? textures.switch_on_normal.texture : textures.switch_off_normal.texture\n\nswitchRight.on('pointerup',()=>{\n    glide.set(!$glide)\n})\nswitchRight.on('mouseover',()=>{\n    hovered.set(switchRight)\n    switchRight.children[0].tint = 0xffffff\n})\nswitchRight.on('mouseout',()=>{\n    hovered.set(null)\n    switchRight.children[0].tint = ($glide) ? 0xffffff : 0x999999\n})\nconst switchRight_light = new PIXI.lights.PointLight(0xff7f00, 0);\n\nconst right_antenna = createSprite(\n    textures.right_antenna.texture,\n    textures.right_antenna_normal.texture\n)\n// right_antenna.children[0].tint = 0xE54646\nconst right_antenna_light = new PIXI.lights.PointLight(0xff7f00, 1.2);\nright_antenna_light.falloff = [0.75, 4, 10]\n\nconst left_antenna1 = createSprite(\n    textures.left_antenna1.texture,\n    textures.left_antenna1_normal.texture\n)\nleft_antenna1.children[0].tint = 0x333366\n\nconst left_antenna2 = createSprite(\n    textures.left_antenna2.texture,\n    textures.left_antenna2_normal.texture\n)\n// left_antenna2.children[0].tint = 0xE54646\nconst left_antenna_light = new PIXI.lights.PointLight(0xff7f00, 1.2);\nleft_antenna_light.falloff = [0.75, 4, 10]\n\nconst symbols = createSprite(\n    textures.symbols.texture,\n    textures.symbols_normal.texture\n)\nsymbols.children[0].anchor.set(0.5, 0.5);\nsymbols.children[1].anchor.set(0.5, 0.5);\nsymbols.children[0].tint = 0xE54646;\n\n\nvar dirLight = new PIXI.lights.DirectionalLight(0xffffff, .3, theremin_body_top)\ndirLight.falloff = [0.75, 13, 20]\ndirLight.lightHeight = 1.8\n\ntheremin.addChild(\n    theremin_null,\n    left_antenna2,\n    right_antenna,\n    theremin_body_top,\n    symbols,\n    knob_left,\n    knob_right,\n    switchRight,\n    left_antenna_light,\n    right_antenna_light,\n    switchRight_light,\n    )\n\nstage.addChild(theremin,dirLight)\n\n$: {\n\n    theremin_body_bottom.y = theremin_null.height-theremin_body_bottom.height\n    theremin_body_bottom.x = theremin_null.width*.45\n\n    theremin_body_top.scale = {x:.5,y:.5}\n    theremin_body_top.y = theremin_null.height*.68\n    theremin_body_top.x = theremin_null.width*.22\n\n    left_antenna2.scale = new PIXI.Point(.5, .5);\n    left_antenna2.x = theremin_null.width*(.005 + .05 - .05*$backOut0_1)\n    left_antenna2.y = theremin_null.height*.85-left_antenna2.height\n\n    left_antenna_light.x = left_antenna2.x\n    left_antenna_light.y = left_antenna2.y\n    left_antenna_light.brightness = constrain(2-$SCALE,{max:2.6,min:1})*(.2+.8*($backOut0_1))\n\n    right_antenna.scale.x = .5;\n    right_antenna.scale.y = .4+.1*$backOut0_1;\n    right_antenna.x = theremin_body_top.x+theremin_body_top.width*.897\n    right_antenna.y = theremin_body_top.y+theremin_body_top.height*.38-right_antenna.height\n\n    right_antenna_light.x = right_antenna.x\n    right_antenna_light.y = right_antenna.y\n    right_antenna_light.brightness = constrain(2-$SCALE,{max:2.6,min:1})*(.2+.8*($backOut0_1))\n\n    knob_left.scale = {\n        x:.5+.2*$tweenKnobLeft,\n        y:.5+.2*$tweenKnobLeft\n    }\n    knob_left.x = theremin_null.width*.33035\n    knob_left.y = theremin_null.height*.8476\n    knob_left.interactive = ($active) ? true : false\n    knob_left.visible = ($WIDTH > 600) ? true : false\n\n    knob_right.scale = {\n        x:.5+.2*$tweenKnobRight,\n        y:.5+.2*$tweenKnobRight\n    }\n    knob_right.x = theremin_null.width*.679\n    knob_right.y = theremin_null.height*.8476\n    knob_right.interactive = ($active) ? true : false\n    knob_right.visible = ($WIDTH > 600) ? true : false\n    symbols.scale = {\n        x:.2+.35*$tweenKnobRight,\n        y:.2+.35*$tweenKnobRight\n    }\n    symbols.alpha = $tweenKnobRight\n    symbols.position = {\n        x:knob_right.x,\n        y:knob_right.y\n    }\n    symbols.visible = ($WIDTH > 600) ? true : false\n\n    switchRight.scale = {x:.5,y:.5}\n    switchRight.x = theremin_null.width*.7415\n    switchRight.y = theremin_null.height*.8476\n    switchRight.interactive = ($active) ? true : false\n    switchRight.visible = ($WIDTH > 600) ? true : false\n    // switchRight_light.x = switchRight.x\n    // switchRight_light.y = switchRight.y\n    // switchRight_light.brightness = .1+.8*constrain($CANVASWIDTH/1200,{min:0,max:1})\n    \n    if(textures.theremin_null.texture.width/textures.theremin_null.texture.height > $CANVASWIDTH/$CANVASHEIGHT){\n        theremin.width = $CANVASWIDTH*.9\n        theremin.scale.y = theremin.scale.x\n    }else{\n        theremin.height = $CANVASHEIGHT*.9\n        theremin.scale.x = theremin.scale.y\n    }\n\n    theremin.x = ($CANVASWIDTH - theremin.width)*.48\n    theremin.y = ($CANVASHEIGHT - theremin.height)*.5\n\n    if($WIDTH<600){\n        theremin.width = $CANVASWIDTH-32\n        theremin.x = ($CANVASWIDTH - theremin.width)*.48\n        theremin.scale.y = theremin.scale.x\n        theremin.y = ($CANVASHEIGHT - theremin.width*.635*(.2+.8*$sineInOut0_1) - theremin.height)*.8\n    }\n\n    theremin_body_top.children[0].texture = ($WIDTH>600) ? textures.theremin_body_top.texture : textures.theremin_body_top_mobile.texture\n\n    thereminPos.set({\n        x:theremin.x,\n        y:theremin.y,\n        width:theremin.width,\n        height:theremin.height\n    })\n\n    dirLight.target = theremin_body_top\n    dirLight.brightness = constrain(2-$SCALE,{max:.3,min:.15})\n    \n}\n\n// Reset Dragged Value when Pointer is Up\n$: {\n    if($globalPointerUp){\n        dragged.set(null)\n    }\n}\n\n// Active/Inactive Tweens\n$: {\n    if($active){\n        if($backOut0_1 === 0){\n             backOut0_1.set(1)\n        }\n        if($sineInOut0_1 === 0){\n             sineInOut0_1.set(1)\n        }\n        // if($pulse0_1 === 0){\n        //     pulse0_1.set(1)\n        // }\n    }\n    if(!$active){\n        if($backOut0_1 === 1){\n             backOut0_1.set(0)\n        }\n        if($sineInOut0_1 === 1){\n             sineInOut0_1.set(0)\n        }\n        // if($pulse0_1 === 0){\n        //     pulse0_1.set(1)\n        // }\n        // if($pulse0_1 === 1){\n        //     pulse0_1.set(0)\n        // }\n    } \n}\n\n// Rotation Controls\n$:{\n    knob_left.rotation = (-0.9 + 1.8*(1-Math.abs($volumeVal/-48)) * $backOut0_1) * Math.PI\n    knob_right.rotation = (-0.9 + 1.8*((oscillators.indexOf($oscillatorType))/(oscillators.length-1)) * $backOut0_1) * Math.PI\n    \n    if($dragged){\n        let percent = calcRotation($dragged.element,$canvasMousePos).percent\n        if($dragged.id === 'vol'){\n            volumeVal.set(-48+48*percent)\n            knob_left.children[0].tint = 0xffffff\n            if($tweenKnobLeft === 0){\n                tweenKnobLeft.set(1)\n            }\n        }\n        if($dragged.id === 'osc'){\n            let inc = 1/oscillators.length\n            let steppedPercent = constrain(Math.floor(percent/inc),{min:0,max:18})\n            oscillatorType.set(oscillators[steppedPercent])\n            knob_right.children[0].tint = 0xffffff\n            if($tweenKnobRight === 0){\n                tweenKnobRight.set(1)\n            }\n        }\n    }else if(!$hovered){\n        knob_left.children[0].tint = 0x999999\n        knob_right.children[0].tint = 0x999999\n    }\n\n    if(!$dragged){\n        if($tweenKnobLeft === 1){\n            tweenKnobLeft.set(0)\n        }\n        if($tweenKnobRight === 1){\n            tweenKnobRight.set(0)\n        }\n    }\n}\n\nloaded.set(true)\n\n</script>","<script>\nimport { onMount } from 'svelte';\nimport {createSprite, lerpColor, detectCollision} from './pixiApp.js';\nimport { tweened } from 'svelte/motion';\nimport {constrain} from './helpers.js';\nimport { backOut, sineInOut } from 'svelte/easing';\nimport { oscillators } from './config.js';\nimport {loaded,active,WIDTH,HEIGHT,CANVASWIDTH,CANVASHEIGHT,canvasMousePos,mousePos,globalPointerUp, thereminPos,glide, volumeVal,oscillatorType,thereminMobilePos,hovered,dragged} from './stores.js';\nexport let textures = null;\nexport let stage = null;\n\nconst backOut0_1 = tweened(0, {\n    duration: 1400,\n    easing: backOut\n});\n\nconst sineInOut0_1 = tweened(0, {\n    duration: 600,\n    easing: sineInOut\n});\n\nconst tweenKnobLeft = tweened(0, {\n    duration: 700,\n    easing: backOut\n});\n\nconst tweenKnobRight = tweened(0, {\n    duration: 700,\n    easing: backOut\n});\n\nconst thereminMobile = new PIXI.Container();\n\nconst base = createSprite(\n    textures.theremin_mobile.texture,\n    textures.theremin_mobile_normal.texture\n)\n\nconst knob_left = createSprite(\n    textures.knob.texture,\n    textures.knob_normal.texture\n)\nknob_left.children[0].anchor.set(0.5, 0.5);\nknob_left.children[1].anchor.set(0.5, 0.5);\nknob_left.children[0].tint = 0x999999;\nknob_left.on('mouseover',()=>{\n    hovered.set(knob_left)\n    knob_left.children[0].tint = 0xffffff\n})\nknob_left.on('mouseout',()=>{\n    hovered.set(null)\n    knob_left.children[0].tint = 0x999999\n})\nknob_left.on('pointerdown',()=>{\n    dragged.set({\n        element:knob_left,\n        id:'vol'\n    })\n    globalPointerUp.set(false)\n})\n\nconst knob_right = createSprite(\n    textures.knob.texture,\n    textures.knob_normal.texture\n)\nknob_right.children[0].anchor.set(0.5, 0.5);\nknob_right.children[1].anchor.set(0.5, 0.5);\nknob_right.children[0].tint = 0x999999;\nknob_right.on('mouseover',()=>{\n    hovered.set(knob_right)\n    knob_right.children[0].tint = 0xffffff\n})\nknob_right.on('mouseout',()=>{\n    hovered.set(null)\n    knob_right.children[0].tint = 0x999999\n})\nknob_right.on('pointerdown',()=>{\n    hovered.set(null)\n    dragged.set({\n        element:knob_right,\n        id:'osc'\n    })\n    globalPointerUp.set(false)\n})\nconst symbols = createSprite(\n    textures.symbols.texture,\n    textures.symbols_normal.texture\n)\nsymbols.children[0].anchor.set(0.5, 0.5);\nsymbols.children[1].anchor.set(0.5, 0.5);\nsymbols.children[0].tint = 0xE54646;\n\n\nconst knob_light = new PIXI.lights.PointLight(0xff7f00, 0);\n\nconst switchRight = createSprite(\n    textures.switch_off.texture,\n    textures.switch_off_normal.texture\n)\nswitchRight.children[0].anchor.set(0.5, 0.5);\nswitchRight.children[1].anchor.set(0.5, 0.5);\n$: switchRight.children[0].texture = ($glide && $active) ? textures.switch_on.texture : textures.switch_off.texture\n$: switchRight.children[1].texture = ($glide && $active) ? textures.switch_on_normal.texture : textures.switch_off_normal.texture\n$: switchRight.children[0].tint = ($glide) ? 0xffffff : 0x999999\nswitchRight.on('pointerup',()=>{\n    glide.set(!$glide)\n})\nswitchRight.on('mouseover',()=>{\n    hovered.set(switchRight)\n    switchRight.children[0].tint = 0xffffff\n})\nswitchRight.on('mouseout',()=>{\n    hovered.set(null)\n    switchRight.children[0].tint = ($glide) ? 0xffffff : 0x999999\n})\n\nthereminMobile.addChild(\n    base,\n    symbols,\n    knob_left,\n    knob_right,\n    switchRight,\n    knob_light\n    )\n\nstage.addChild(thereminMobile)\n\n$:{\n\n    //Knob Left Positioning\n    knob_left.scale = {\n    x:1+.4*$tweenKnobLeft,\n    y:1+.4*$tweenKnobLeft\n    }\n    knob_left.x = base.width*.2355\n    knob_left.y = base.height*.226\n    knob_left.interactive = ($active) ? true : false\n\n    knob_light.x = base.x + base.width*.5\n    knob_light.y = base.y + base.height*.5\n    knob_light.brightness = .4+.4*$backOut0_1\n\n    //Knob Right Positioning\n    knob_right.scale = {\n        x:1+.4*$tweenKnobRight,\n        y:1+.4*$tweenKnobRight\n    }\n    knob_right.x = base.width*.5095\n    knob_right.y = base.height*.226\n    knob_right.interactive = ($active) ? true : false\n    symbols.scale = {\n        x:.5+.6*$tweenKnobRight,\n        y:.5+.6*$tweenKnobRight\n    }\n    symbols.alpha = $tweenKnobRight\n    symbols.position = {\n        x:knob_right.x,\n        y:knob_right.y\n    }\n\n    //Switch Right Positioning\n    switchRight.x = base.width*.775\n    switchRight.y = base.height*.226\n    switchRight.interactive = ($active) ? true : false\n\n    //Container Positioning\n    thereminMobile.width = $CANVASWIDTH - 48\n    thereminMobile.scale.y = thereminMobile.scale.x\n    thereminMobile.position.x = 24\n    let thereminBottomY = $thereminPos.y+$thereminPos.height\n    thereminMobile.position.y = \n        (thereminBottomY + \n        ($CANVASHEIGHT - thereminBottomY - thereminMobile.height)*.4\n        + (($CANVASHEIGHT - thereminBottomY - thereminMobile.height)*.25 + thereminMobile.height*.9) * (1-$sineInOut0_1)\n        )\n    thereminMobile.visible = ($WIDTH < 600) ? true : false\n    thereminMobilePos.set({\n        x:thereminMobile.x,\n        y:thereminMobile.y,\n        width:thereminMobile.width,\n        height:thereminMobile.height\n    })\n\n}\n\n$: {\n\n    knob_left.rotation = (-0.9 + 1.8*(1-Math.abs($volumeVal/-48)) * $backOut0_1) * Math.PI\n    knob_right.rotation = (-0.9 + 1.8*((oscillators.indexOf($oscillatorType))/(oscillators.length-1)) * $backOut0_1) * Math.PI\n\n    if($active){\n        if($backOut0_1 === 0){\n             backOut0_1.set(1)\n        }\n        if($sineInOut0_1 === 0){\n             sineInOut0_1.set(1)\n        }\n    }\n    if(!$active){\n        if($backOut0_1 === 1){\n             backOut0_1.set(0)\n        }\n        if($sineInOut0_1 === 1){\n             sineInOut0_1.set(0)\n        }\n    } \n\n    if($dragged){\n        if($dragged.id === 'vol'){\n            knob_left.children[0].tint = 0xffffff\n            if($tweenKnobLeft === 0){\n                tweenKnobLeft.set(1)\n            }\n        }\n        if($dragged.id === 'osc'){\n            knob_right.children[0].tint = 0xffffff\n            if($tweenKnobRight === 0){\n                tweenKnobRight.set(1)\n            }\n        }\n    }else if(!$hovered){\n        knob_left.children[0].tint = 0x999999\n        knob_right.children[0].tint = 0x999999\n    }\n\n    if(!$dragged){\n        if($tweenKnobLeft === 1){\n            tweenKnobLeft.set(0)\n        }\n        if($tweenKnobRight === 1){\n            tweenKnobRight.set(0)\n        }\n    }\n\n}\n\n</script>\n","<script>\nimport {active,thereminPos,CANVASWIDTH,CANVASHEIGHT,WIDTH,SCALE} from './stores.js'\nimport {constrain} from './helpers.js';\nimport { tweened } from 'svelte/motion';\nimport { sineInOut } from 'svelte/easing';\nexport let stage = null\n\nconst sineInOut0_1 = tweened(0, {\n    duration: 700,\n    easing: sineInOut\n});\n\nconst ambientLight = new PIXI.lights.AmbientLight(0xFFffff, .1)\nconst warmLightContainer = new PIXI.Container();\nconst warmLightCoords = [\n    {\n      x: 0,\n      y: 0,\n      color: 0xff7f00,\n      falloff:[0.75, 13, 40],\n      brightness: 1.1,\n      start:.5\n    },\n    {\n      x: -.25,\n      y: -0.25,\n      color: 0xE54646,\n      falloff:[0.75, 13, 40],\n      brightness: 1.3,\n      start:.5\n    },\n    {\n      x: -.5,\n      y: 0.2,\n      color: 0xFFFE7E,\n      falloff:[0, 13, 40],\n      brightness: .8,\n      start:.5\n    },\n    {\n      x:.39,\n      y: 0.1,\n      color: 0xff7f00,\n      falloff:[0.75, 3, 8],\n      brightness: 2.5,\n      start:1\n    },\n    {\n      x:-.29,\n      y: .22,\n      color: 0xff7f00,\n      falloff:[0.75, 3, 8],\n      brightness: 2.5,\n      start:1\n    },\n];\nlet lightHeight = 90\n\nwarmLightCoords.forEach(e => {\n  let warmpointLight = new PIXI.lights.PointLight(e.color, 0);\n  warmLightContainer.addChild(warmpointLight);\n});\n\n$: {\n  if($active === true){\n    if($sineInOut0_1 === 0){\n      sineInOut0_1.set(1)\n    }\n  }else{\n    if($sineInOut0_1 === 1){\n      sineInOut0_1.set(0)\n    }\n  }\n  warmLightContainer.children.forEach((e,i)=>{\n    e.position.x = $thereminPos.x + $thereminPos.width/2 + warmLightCoords[i].x * $thereminPos.width;\n    e.position.y = $thereminPos.y + $thereminPos.height/2 + warmLightCoords[i].y * $thereminPos.height;\n    e.brightness = \n      warmLightCoords[i].brightness*(warmLightCoords[i].start+(1-warmLightCoords[i].start)*$sineInOut0_1)\n      * constrain(2-$SCALE,{max:1,min:0.2})\n    e.falloff = warmLightCoords[i].falloff\n  })\n  ambientLight.brightness = ($WIDTH > 600) ? .3*$sineInOut0_1 : .05 + .1*$sineInOut0_1\n}\n\nstage.addChild(ambientLight,warmLightContainer)\n\n</script>","<script>\nimport {loaded,thereminPos,thereminMobilePos,active,canvasMousePos,mousePos,poseNetRes,CANVASWIDTH,WIDTH,CANVASHEIGHT,videoReady,SCALE,dragged,audioControls,mouseOverride} from './stores.js'\nimport {constrain} from './helpers.js'\nimport { onMount } from 'svelte';\nimport { tweened,spring } from 'svelte/motion';\nimport { backOut } from 'svelte/easing';\nimport {createGradientTexture} from './pixiApp.js'\nimport {posenetOptions} from './config.js'\n\nexport let stage = null\nexport let app = null;\n\n//Initialize Mouse Pos\ncanvasMousePos.set({\n        x:($WIDTH > 600) ? $thereminPos.x + $thereminPos.width*.12 : $thereminPos.x + $thereminPos.width*.12,\n        y:($WIDTH > 600) ? $thereminPos.y + $thereminPos.height*.7 : $thereminPos.y + $thereminPos.height*.7\n})\n\nlet htmlCursor\nconst cursorLight = new PIXI.lights.PointLight(0xff7f00,2);\ncursorLight.falloff = [0.75, 3, 10]\n\nconst gradientTexture = createGradientTexture(0, 12*$SCALE, app.renderer.resolution);\nconst gradientTexture2 = createGradientTexture(0, 24*$SCALE, app.renderer.resolution);\n\nconst particleContainer = new PIXI.particles.ParticleContainer(5000, {\n  scale: true,\n  position: true,\n  rotation: false,\n  uvs: false,\n  tint: true\n});\nconst emitter = new PIXI.particles.Emitter(particleContainer, [gradientTexture], {\n  autoUpdate: true,\n  emit:false,\n  alpha: {\n    start: 0.8,\n    end: 0.1\n  },\n  scale: {\n    start: 1,\n    end: 0.2,\n    minimumScaleMultiplier: 1\n  },\n  color: {\n    start: \"#FFFF33\",\n    end: \"#ff7f00\"\n  },\n  speed: {\n    start: 0,\n    end: 0,\n    minimumSpeedMultiplier: 1\n  },\n  acceleration: {\n    x: 0,\n    y: 0\n  },\n  maxSpeed: 0,\n  startRotation: {\n    min: 0,\n    max: 0\n  },\n  noRotation: true,\n  rotationSpeed: {\n    min: 0,\n    max: 0\n  },\n  lifetime: {\n    min: 1,\n    max: 1\n  },  \n  blendMode: \"normal\",\n  frequency: 0.0008,\n  emitterLifetime: -1,\n  maxParticles: 5000,\n  pos: {x:0,y:0},\n  addAtBack: false,\n  spawnType: \"point\"\n});\n\n\nconst emitterRight = new PIXI.particles.Emitter(particleContainer, [gradientTexture2], {\n  autoUpdate: true,\n  emit:false,\n  alpha: {\n    start: 0.8,\n    end: 0.15\n  },\n  scale: {\n    start: 1,\n    end: 0.2,\n    minimumScaleMultiplier: 1\n  },\n  color: {\n    start: \"#E54646\",\n    end: \"#8D1A6D\"\n  },\n  speed: {\n    start: 0,\n    end: 0,\n    minimumSpeedMultiplier: 1\n  },\n  acceleration: {\n    x: 0,\n    y: 0\n  },\n  maxSpeed: 0,\n  startRotation: {\n    min: 0,\n    max: 0\n  },\n  noRotation: true,\n  rotationSpeed: {\n    min: 0,\n    max: 0\n  },\n  lifetime: {\n    min: 1,\n    max: 1\n  },  \n  blendMode: \"normal\",\n  frequency: 0.0008,\n  emitterLifetime: -1,\n  maxParticles: 2500,\n  pos: {x:0,y:0},\n  addAtBack: false,\n  spawnType: \"point\"\n});\n\nconst emitterLeft = new PIXI.particles.Emitter(particleContainer, [gradientTexture2], {\n  autoUpdate: true,\n  emit:false,\n  alpha: {\n    start: 0.8,\n    end: 0.15\n  },\n  scale: {\n    start: 1,\n    end: 0.2,\n    minimumScaleMultiplier: 1\n  },\n  color: {\n    start: \"#E54646\",\n    end: \"#8D1A6D\"\n  },\n  speed: {\n    start: 0,\n    end: 0,\n    minimumSpeedMultiplier: 1\n  },\n  acceleration: {\n    x: 0,\n    y: 0\n  },\n  maxSpeed: 0,\n  startRotation: {\n    min: 0,\n    max: 0\n  },\n  noRotation: true,\n  rotationSpeed: {\n    min: 0,\n    max: 0\n  },\n  lifetime: {\n    min: 1,\n    max: 1\n  },  \n  blendMode: \"normal\",\n  frequency: 0.0008,\n  emitterLifetime: -1,\n  maxParticles: 2500,\n  pos: {x:0,y:0},\n  addAtBack: false,\n  spawnType: \"point\"\n});\n\nlet springLeftPos = spring(\n{\n  x:($WIDTH > 600) ? $thereminPos.x + $thereminPos.width*.12 : $CANVASWIDTH*.7,\n  y:($WIDTH > 600) ? $thereminPos.y + $thereminPos.height*.7 : $CANVASHEIGHT*.1\n}, \n{\n  stiffness: 0.3,\n  damping: 0.8\n}); \n\nlet springRightPos = spring(\n{\n  x:$thereminPos.x + $thereminPos.width*.88,\n  y:$thereminPos.y + $thereminPos.height*.7\n}, \n{\n  stiffness: 0.3,\n  damping: 0.8\n}); \n\n$: {\n  //Handles toggling of gesture controls vs mouse controls\n\n      if($poseNetRes && $videoReady && $mouseOverride>.1){\n        let leftWrist = {\n          pose:$poseNetRes[9],\n          x:0,\n          y:0\n        }\n        let rightWrist = {\n          pose:$poseNetRes[10],\n          x:0,\n          y:0,\n        }\n        emitter.emit = false\n\n        if(rightWrist.pose.score > posenetOptions.minPartConfidence){\n          if($WIDTH>600){\n              //Don't Interpolate on mobile\n              springRightPos.set(rightWrist.pose.position)\n          }\n          rightWrist.x = ($WIDTH > 600)\n            ? $springRightPos.x/$videoReady.videoWidth * $CANVASWIDTH\n            : rightWrist.pose.position.x/$videoReady.videoWidth * $CANVASWIDTH\n          rightWrist.y = ($WIDTH > 600) \n            ? $springRightPos.y/$videoReady.videoHeight * $CANVASHEIGHT\n            : rightWrist.pose.position.y/$videoReady.videoHeight * $thereminMobilePos.y\n          rightWrist.audioX = constrain((rightWrist.x-$thereminPos.x)/$thereminPos.width,{min:0,max:1})\n          rightWrist.audioY = constrain(rightWrist.y/($thereminPos.x+$thereminPos.height),{min:0,max:1})\n          emitterRight.updateOwnerPos(rightWrist.x, rightWrist.y);\n        }\n\n        if(leftWrist.pose.score > posenetOptions.minPartConfidence){\n          if($WIDTH>600){\n            //Don't Interpolate on mobile\n            springLeftPos.set(leftWrist.pose.position)\n          }\n          leftWrist.x = ($WIDTH > 600) \n            ? $springLeftPos.x/$videoReady.videoWidth * $CANVASWIDTH \n            : leftWrist.pose.position.x/$videoReady.videoWidth * $CANVASWIDTH \n          leftWrist.y = ($WIDTH > 600) \n            ? $springLeftPos.y/$videoReady.videoHeight * $CANVASHEIGHT\n            : leftWrist.pose.position.y/$videoReady.videoHeight * $thereminMobilePos.y\n          leftWrist.audioX = constrain((leftWrist.x-$thereminPos.x)/$thereminPos.width,{min:0,max:1})\n          leftWrist.audioY = constrain(leftWrist.y/($thereminPos.x+$thereminPos.height),{min:0,max:1})\n          emitterLeft.updateOwnerPos(leftWrist.x, leftWrist.y);\n        }\n\n        if(leftWrist.pose.score>posenetOptions.minPartConfidence && rightWrist.pose.score>posenetOptions.minPartConfidence){\n          //both hands\n          emitterRight.emit = true\n          emitterLeft.emit = true\n          audioControls.set({\n            x:rightWrist.audioX,\n            y:leftWrist.audioY\n          })\n        }else if(leftWrist.pose.score > rightWrist.pose.score){\n          //left hand\n          emitterRight.emit = false\n          if(leftWrist.pose.score > posenetOptions.minPartConfidence){\n            emitterLeft.emit = true\n            audioControls.set({\n              x:leftWrist.audioX,\n              y:leftWrist.audioY\n            })\n          }\n        }else if(leftWrist.pose.score < rightWrist.pose.score){\n          //right hand\n          if(rightWrist.pose.score > posenetOptions.minPartConfidence){\n            emitterRight.emit = true\n            audioControls.set({\n              x:rightWrist.audioX,\n              y:rightWrist.audioY\n            })\n          }\n          emitterLeft.emit = false\n        }else{\n          //no hands\n          emitterRight.emit = false\n          emitterLeft.emit = false\n        }\n        \n      }else{\n        emitter.emit = true\n        emitterRight.emit = false\n        emitterLeft.emit = false\n\n        cursorLight.brightness = 2*constrain(2-$SCALE,{max:1,min:0.2})\n        if($canvasMousePos.y > $thereminMobilePos.y && $WIDTH < 600 || $dragged){\n          \n        }else{\n          emitter.updateOwnerPos($canvasMousePos.x, $canvasMousePos.y);\n          cursorLight.position.set($canvasMousePos.x,$canvasMousePos.y)\n          audioControls.set({\n            x:constrain(($canvasMousePos.x-$thereminPos.x)/$thereminPos.width,{min:0,max:1}),\n            y:constrain($canvasMousePos.y/($thereminPos.x+$thereminPos.height),{min:0,max:1})\n          })\n        }\n\n      }\n\n     \n         \n  }\n\nstage.addChild(cursorLight,particleContainer)\n\n\n</script>\n\n<container bind:this={htmlCursor} style='opacity:{mousePos ? 1 : 0};\n  transform:translate({$mousePos.x-26}px, {$mousePos.y-26}px)'>\n  <div>\n    <span>2</span>\n  </div>\n</container>\n\n<style>\n  container{\n    top:0;\n    left:0;\n    position:fixed;\n    width:48px;\n    height:48px;\n    z-index: 2;\n    pointer-events: none;\n  }\n  div{\n    width:100%;\n    height:100%;\n    border-radius: 50%;\n    transform-origin: center;\n    /* background:rgba(255,255,50,.2); */\n    /* background:white; */\n    border:2px transparent rgba(255,197,47,1);\n    \n    /* animation: pulse 2s cubic-bezier(0.46, 0.03, 0.52, 0.96) infinite */\n  }\n  span{\n    position:absolute;\n    transform:translate(18px,12px);\n    font-size:48px;\n    font-family: 'Whirlybats';\n    color:#FFF5D0;\n    opacity:0;\n    text-align: center;\n    text-shadow: 0 0 20px rgba(0,0,0,0.5);\n    /* animation: animateGlyph 1s linear infinite;\n    animation-play-state: start; */\n  }\n  @keyframes pulse {\n    0%   { \n      transform: scale3d(1,1,1); \n      opacity: 1\n    }\n    50%   { \n      transform: scale3d(1.3,1.3,1.3); \n      opacity: .5\n    }\n    0%   { \n      transform: scale3d(1,1,1); \n      opacity: 1\n    }\n    }\n    @media (hover: none) {\n      div{\n        opacity:0;\n      }\n    }\n</style>","<script>\nimport {camera,videoReady,active,volumeVal,thereminPos,thereminMobilePos,poseNetRes,videoPos,mousePos,FFT,CANVASWIDTH,CANVASHEIGHT,WIDTH,toneOutput,machineLeftPos,analyser,mouseOverride,TIME} from './stores.js'\nimport {getDistance,getMidpoint} from './helpers.js'\nimport { tweened } from 'svelte/motion';\nimport {constrain} from './helpers.js';\nimport {graphicsGroup} from './pixiApp.js'\nimport { backOut, sineInOut } from 'svelte/easing';\nimport {posenetOptions} from './config.js'\n\nexport let stage = null\n\nlet ratio = 0\nconst sineInOut0_1 = tweened(0, {\n    duration: 600,\n    easing: sineInOut\n});\nconst blink0_1 = tweened(0, {\n    duration: 600,\n    easing: sineInOut\n});\n\nlet graphics = new PIXI.Graphics();\ngraphics.parentGroup = graphicsGroup\ngraphics.alpha = 0.7\n\nlet bgGraphics = new PIXI.Graphics();\nbgGraphics.parentGroup = PIXI.lights.diffuseGroup\nbgGraphics.alpha = 0.7\n\nlet graphics2 = new PIXI.Graphics();\ngraphics2.parentGroup = graphicsGroup\ngraphics2.alpha = 0.7\n\nlet graphics2add = new PIXI.Graphics();\ngraphics2add.parentGroup = graphicsGroup\ngraphics2add.alpha = 0.7\n\nlet maskGraphic = new PIXI.Graphics();\nmaskGraphic.parentGroup = graphicsGroup\nmaskGraphic.lineStyle(0)\n\ngraphics2.mask = maskGraphic\ngraphics2add.mask = maskGraphic\n\n\nlet graphics3 = new PIXI.Graphics();\ngraphics3.parentGroup = PIXI.lights.diffuseGroup\n\nstage.addChild(graphics,bgGraphics,graphics2,graphics2add,maskGraphic,graphics3)\n\nconst createAudioPoints = baseValues => {\n    let newArr = [];\n    for (let i = 0; i < baseValues.length; i++) {\n    const amplitude = baseValues[i];\n    const x = ($WIDTH>600) \n        ? $thereminPos.width*.2495/(baseValues.length-1)*i \n        : $thereminMobilePos.width*.87/(baseValues.length-1)*i;\n    const y = ($WIDTH>600) \n        ? amplitude * $thereminPos.height*.06\n        : amplitude * $thereminMobilePos.height*.2;\n    newArr.push({x:x,y:y});\n    }\n    return (newArr)\n}\n\nlet headPos = {\n    rotation:0,\n    x:0,\n    y:0\n}\nconst createPose = (pose,graphics) => { \n\n    graphics2.lineStyle(2,0xE54646);\n\n    //Face T\n    // createLine(pose[1],pose[2],graphics2);\n    // let nosePoint1 = {\n    //     position: {\n    //         x:pose[0].position.x,\n    //         y:pose[0].position.y\n    //     }\n    // }\n    // let nosePoint2 = {\n    //     position: {\n    //         x:getMidpoint(pose[1],pose[2],'x'),\n    //         y:getMidpoint(pose[1],pose[2],'y')\n    //     }\n    // }\n    // createLine(nosePoint1,nosePoint2,graphics2);\n\n    //Torso\n    createLine(pose[5],pose[6],graphics2);\n    createLine(pose[11],pose[12],graphics2);\n    createLine(pose[6],pose[12],graphics2);\n    createLine(pose[5],pose[11],graphics2);\n\n    createLine(pose[5],pose[7],graphics2);\n    createLine(pose[7],pose[9],graphics2);\n    createLine(pose[6],pose[8],graphics2);\n    createLine(pose[8],pose[10],graphics2);\n\n    // Legs\n    createLine(pose[11],pose[13],graphics2);\n    createLine(pose[13],pose[15],graphics2);\n    createLine(pose[12],pose[14],graphics2);\n    createLine(pose[14],pose[16],graphics2);\n\n    //Keypoints\n    pose.forEach((e,i)=>{\n        if(i>4){\n            let color = (i===9 || i===10) ? 0xE54646 : 0xE54646\n            let opacity = (i===9 || i===10) ? .7 : .3\n            let size = (i===9 || i===10) ? 16 : 8\n            graphics2.beginFill(color,opacity)\n            graphics2.lineStyle(0);\n            if(e.score > .3){  \n                graphics2.drawCircle(e.position.x*ratio,e.position.y*ratio,size)\n            }        \n        } \n    }) \n\n    //Head\n    graphics2add.beginFill(0xE54646,.3)\n    graphics2add.drawEllipse(\n        0,\n        0,\n        Math.abs(pose[5].position.x-pose[6].position.x)*ratio*.35,\n        Math.abs(pose[5].position.x-pose[6].position.x)*ratio*.45\n    )\n    headPos.x = pose[0].position.x*ratio,\n    headPos.y = (pose[0].position.y+pose[1].position.y)/2*ratio\n    headPos.rotation = (pose[1].position.y-pose[2].position.y)/(pose[1].position.x-pose[2].position.x)\n    graphics2add.rotation = headPos.rotation\n    graphics2add.x = $videoPos.x + headPos.x;\n    graphics2add.y = $videoPos.y + headPos.y;\n}\n\nconst createLine = (point1,point2,graphics) => {\n    graphics.moveTo(point1.position.x*ratio,point1.position.y*ratio)\n    graphics.lineTo(point2.position.x*ratio,point2.position.y*ratio)\n}\nlet bgLights = {\n    left:[\n     {\n        x:.398,\n        y:.3205,\n        r:.0055,\n        color:0xE54646,\n        speed:5,\n        step:.4,\n        pause:true\n     },\n     {\n        x:.359,\n        y:.3205,\n        r:.0055,\n        color:0xE54646,\n        speed:2,\n        step:.4,\n        pause:false\n     },\n     {\n        x:.24,\n        y:.577,\n        w:.01125,\n        color:0xFFFF33,\n        speed:2,\n        step:.2,\n        pause:false\n     }      \n    ]\n}\n\nconst fps = 14\nlet frameCount = 0\nlet frameInterval = 4 //how much to slow fps\n\nconst draw = () => {\n    TIME.update(n => n + .01)\n    frameCount += 1\n\n        if(analyser && frameCount % frameInterval === 0){\n            const audioArr = createAudioPoints($analyser.getValue())\n            graphics.clear();\n            graphics.lineStyle(2,0xE54646);\n            graphics.lineAlpha = (!$active && $WIDTH > 600) ? Math.abs(Math.sin($TIME*5)) : $sineInOut0_1\n            audioArr.forEach((e,i)=>{\n                if(i===0){\n                    graphics.moveTo(e.x,e.y)\n                }\n                graphics.lineTo(e.x,e.y);\n            })\n        }\n\n        if($poseNetRes && $videoReady){\n            mouseOverride.set($mouseOverride+.01)\n            graphics2.clear()\n            graphics2add.clear()\n            ratio = $videoPos.width*.99/$videoReady.videoWidth\n            createPose($poseNetRes,graphics2)\n            graphics2.x = $videoPos.x;\n            graphics2.y = $videoPos.y\n        }else{\n            graphics2.clear()\n            graphics2add.clear()\n        }\n\n        if($toneOutput){\n            graphics3.clear()\n            if(!$toneOutput.glide){\n                for(let i=0; i<$toneOutput.total+1;i++){\n                    graphics3.lineStyle(2,0xE54646);\n                    graphics3.moveTo(\n                        $thereminPos.x + $thereminPos.width*i/$toneOutput.total,\n                        0)\n                    graphics3.lineTo(\n                        $thereminPos.x + $thereminPos.width*i/$toneOutput.total,\n                        $thereminPos.y+$thereminPos.height)\n                }\n                graphics3.lineStyle(0)\n                graphics3.beginFill(0xE54646,1)\n                graphics3.drawRect(\n                    $thereminPos.x + $thereminPos.width*$toneOutput.index/$toneOutput.total,\n                    0,\n                    $thereminPos.width/$toneOutput.total,\n                    $thereminPos.y+$thereminPos.height\n                    )\n            }\n        }\n\n        if($machineLeftPos){\n            bgGraphics.clear()\n            bgLights.left.forEach((e,i)=>{\n\n                let opacity = (e.pause) ? constrain((Math.sin($TIME*e.speed)),{min:0,max:1})\n                    : Math.abs(Math.sin($TIME*e.speed))\n                let opacityStepped = (opacity>e.step) ? .7 : 0\n                    \n                bgGraphics.beginFill(e.color,opacityStepped)\n\n                if(e.r){\n                    bgGraphics.drawEllipse(\n                        $machineLeftPos.x+$machineLeftPos.width*e.x,\n                        $machineLeftPos.y+$machineLeftPos.height*e.y,\n                        $machineLeftPos.width*e.r,\n                        $machineLeftPos.width*e.r\n                    )\n                }\n                if(e.w){\n                    bgGraphics.drawRoundedRect(\n                        $machineLeftPos.x+$machineLeftPos.width*e.x,\n                        $machineLeftPos.y+$machineLeftPos.height*e.y,\n                        $machineLeftPos.width*e.w,\n                        $machineLeftPos.width*e.w,\n                        $machineLeftPos.width*e.w*.3\n                    )\n                }\n\n\n            })  \n           \n        }\n        \n    requestAnimationFrame(draw);\n}\n\ndraw()\n\n\n$:{\n    graphics.x = ($WIDTH > 600) ? $thereminPos.x+$thereminPos.width*.379 : $thereminMobilePos.x+$thereminMobilePos.width*.065;\n    graphics.y = ($WIDTH > 600) ? $thereminPos.y+$thereminPos.height*.862+0 : $thereminMobilePos.y+$thereminMobilePos.height*.73+0;\n   \n    graphics2.x = $videoPos.x;\n    graphics2.y = $videoPos.y\n\n    maskGraphic.clear()\n    maskGraphic.beginFill(0xffffff,1)\n\n    graphics3.x = 0;\n    graphics3.y = 0;\n    graphics3.alpha = .3*$sineInOut0_1\n\n    if($videoReady){\n        let offset = {\n            x:$videoPos.width*.08,\n            y:$videoPos.width*.035\n        }\n        maskGraphic.drawRoundedRect(\n            $videoPos.x+offset.x,\n            $videoPos.y+offset.y,\n            $videoPos.width-offset.x*2,\n            $videoPos.height-offset.y*2,\n            $videoPos.width*.25\n        )\n    }\n\n    if($active && $sineInOut0_1===0){\n        sineInOut0_1.set(1)\n    }\n    if(!$active && $sineInOut0_1===1){\n        sineInOut0_1.set(0)\n    }\n     \n}\n\n\n</script>","<script>\nimport { onMount } from 'svelte';\nimport {createSprite, lerpColor, detectCollision, calcRotation, graphicsGroup} from './pixiApp.js';\nimport { tweened } from 'svelte/motion';\nimport {constrain} from './helpers.js';\nimport { backOut, sineInOut } from 'svelte/easing';\nimport { oscillators } from './config.js';\nimport {loaded,active,WIDTH,HEIGHT,CANVASWIDTH,CANVASHEIGHT,canvasMousePos,mousePos,globalPointerUp, thereminPos,thereminMobilePos,glide, volumeVal,oscillatorType,dragged,hovered,toneOutput} from './stores.js';\nexport let textures = null;\nexport let stage = null;\n\nconst sineInOut0_1 = tweened(0, {\n    duration: 700,\n    easing: sineInOut\n});\n\nlet oscText, freqText, noteText\ndocument.fonts.load('10pt \"Whirly Birdie Narrow\"').then(() => {\n     oscText = new PIXI.Text($oscillatorType, {\n        fontFamily: \"Whirly Birdie Narrow\",\n        fontSize: 40,\n        fill: 0xE54646,\n        align: \"left\"\n    });\n    oscText.alpha = 0\n    oscText.parentGroup = graphicsGroup;\n\n    freqText = new PIXI.Text('0 Hz', {\n        fontFamily: \"Whirly Birdie Narrow\",\n        fontSize: 40,\n        fill: 0xE54646,\n        align: \"right\"\n    });\n    freqText.alpha = 0\n    freqText.parentGroup = graphicsGroup;\n\n    noteText = new PIXI.Text('G', {\n        fontFamily: \"Whirly Birdie Narrow\",\n        fontSize: 40,\n        fill: 0xE54646,\n        align: \"right\"\n    });\n    noteText.alpha = 0.15\n    noteText.parentGroup = graphicsGroup;\n\n    stage.addChild(oscText,freqText,noteText)\n  \n})\n\n$:{\n    if(oscText){\n        oscText.text = $oscillatorType\n        oscText.style.fontSize = ($WIDTH > 600) ? $thereminPos.width*.0150 : $thereminMobilePos.width*.05\n        oscText.style.padding = ($WIDTH > 600) ? $thereminPos.width*.0150 : $thereminMobilePos.width*.05\n        oscText.x = ($WIDTH > 600) ? $thereminPos.x+$thereminPos.width*.387 : $thereminMobilePos.x + $thereminMobilePos.width*.09\n        oscText.y = ($WIDTH > 600) ? $thereminPos.y + $thereminPos.height*.797 : $thereminMobilePos.y + $thereminMobilePos.height*.54\n        oscText.alpha = .15+0.55*$sineInOut0_1\n    }\n    if(freqText){\n        freqText.text = Math.floor($toneOutput.freq) + ' HZ'\n        freqText.style.fontSize = ($WIDTH > 600) ? $thereminPos.width*.0150 : $thereminMobilePos.width*.05\n        freqText.style.padding = ($WIDTH > 600) ? $thereminPos.width*.0150 : $thereminMobilePos.width*.05\n        freqText.x = ($WIDTH > 600) ? $thereminPos.x + $thereminPos.width*.577 - freqText.width : $thereminMobilePos.x + $thereminMobilePos.width*.76 - freqText.width\n        freqText.y = ($WIDTH > 600) ? $thereminPos.y + $thereminPos.height*.797 : $thereminMobilePos.y + $thereminMobilePos.height*.54\n        freqText.alpha = ($toneOutput.glide) ? .15+.55*$sineInOut0_1 : .15+.15*$sineInOut0_1\n    }\n    if(noteText){\n        noteText.text = $toneOutput.note\n        noteText.style.fontSize = ($WIDTH > 600) ? $thereminPos.width*.0150 : $thereminMobilePos.width*.05\n        noteText.style.padding = ($WIDTH > 600) ? $thereminPos.width*.0150 : $thereminMobilePos.width*.05\n        noteText.x = ($WIDTH > 600) ? $thereminPos.x + $thereminPos.width*.622 - noteText.width : $thereminMobilePos.x + $thereminMobilePos.width*.91 - noteText.width\n        noteText.y = ($WIDTH > 600) ? $thereminPos.y + $thereminPos.height*.797 : $thereminMobilePos.y + $thereminMobilePos.height*.54\n        noteText.alpha = ($toneOutput.glide) ? .15+.15*$sineInOut0_1 : .15+.55*$sineInOut0_1\n    }\n    if($active && $sineInOut0_1===0){\n        sineInOut0_1.set(1)\n    }\n    if(!$active && $sineInOut0_1===1){\n        sineInOut0_1.set(0)\n    }\n    \n\n}\n</script>\n<div>\n</div>\n<style>\n    div{\n        font-family: 'Whirly Birdie Narrow';\n        display:none;\n    }\n</style>\n","<script>\nexport let hide = false\n</script>\n\n<svg \nclass=\"{hide===true ? 'hide' : ''}\"\nwidth=\"1763\" height=\"214\" viewBox=\"0 0 1763 214\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M0 21.8004V55.5002H92.0844V213.05H129.343V55.5002H220.823V21.8004H0Z\" fill=\"#E54646\"/>\n    <path d=\"M433.157 21.8004V130.472H273.833V21.8004H236.574V213.05H274.127V162.041H433.468V213.05H470.416V21.8004H433.157Z\" fill=\"#E54646\"/>\n    <path d=\"M706.679 55.8116V21.8004H486.167V213.05H706.679V178.432L522.51 179.055V125.621H643.675V95.8711H522.821V55.8116H706.679Z\" fill=\"#E54646\"/>\n    <path d=\"M893.89 143.83C906.333 140.563 917.515 133.639 925.997 123.948C934.72 114.114 939.082 100.81 939.082 84.0362C939.082 67.4486 934.175 54.4943 924.361 45.1733C914.548 35.8523 902.068 29.5801 886.922 26.3565C869.568 22.8914 851.901 21.2435 834.207 21.4392H721.824V213.082H758.184V148.993H825.98L890.259 213.082H938.411L871.498 148.01C879.06 147.207 886.547 145.809 893.89 143.83V143.83ZM758.478 53.0737L837.249 52.7623C849.416 52.5539 861.577 53.4205 873.592 55.3521C882.882 57.0677 890.052 60.406 895.1 65.3669C900.149 70.3279 902.673 77.1575 902.673 85.8556C902.673 93.7342 900.198 100.006 895.247 104.672C890.297 109.338 883.209 112.578 873.985 114.392C861.928 116.445 849.705 117.362 837.478 117.13H758.478V53.0737Z\" fill=\"#E54646\"/>\n    <path d=\"M1172.87 55.3186V21.3074H952.346V212.557H1172.87V177.939L988.705 178.562V125.128H1109.85V95.3781H989V55.3186H1172.87Z\" fill=\"#E54646\"/>\n    <path d=\"M1402.51 21.3076L1312.85 95.4929L1222.58 21.3076H1187.45V212.541H1224.1V66.5629L1302.56 133.913H1323.15L1402.81 66.4974V212.541H1438.86V21.3076H1402.51Z\" fill=\"#E54646\" fill-opacity=\"0.15\" stroke=\"#E54646\" stroke-width=\"5\" stroke-miterlimit=\"10\"/>\n    <path d=\"M1491.56 21.3076H1454.61V212.541H1491.56V21.3076Z\" fill=\"#E54646\" fill-opacity=\"0.15\" stroke=\"#E54646\" stroke-width=\"5\" stroke-miterlimit=\"10\"/>\n    <path d=\"M1657.99 116.916L1657.6 116.555L1664.95 109.638C1680.49 94.8755 1696.1 80.151 1711.76 65.4648L1758.86 21.3076H1706.15C1689.59 37.2942 1672.88 53.2262 1656.02 69.1035C1647.97 76.6925 1639.97 84.3307 1631.94 91.9361C1624.01 84.3307 1616.11 76.6925 1608.16 69.1035L1558.03 21.3076H1506.83C1523.8 37.2942 1540.66 53.2262 1557.42 69.1035C1573.78 84.664 1590.18 100.268 1606.64 115.916L1605.59 116.916C1589.02 132.913 1572.35 148.851 1555.61 164.728C1538.86 180.606 1521.99 196.543 1505.02 212.541H1555.61C1573.78 195.341 1592.01 178.191 1610.28 161.089C1617.69 154.156 1625 147.174 1632.45 140.224L1658.44 164.81C1675.29 180.709 1692 196.647 1708.57 212.623H1757.95C1741.39 196.647 1724.79 180.709 1708.13 164.81C1691.46 148.911 1674.75 132.946 1657.99 116.916Z\" fill=\"#E54646\" fill-opacity=\"0.15\" stroke=\"#E54646\" stroke-width=\"5\" stroke-miterlimit=\"10\"/>\n    <path d=\"M1173.09 0H951.463V9.83456H1173.09V0Z\" fill=\"#E54646\"/>\n</svg>\n\n<style>\nsvg{\n    width:100%;\n    height:100%;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n}\npath{\n    transition: .5s linear;\n}\nsvg path:nth-child(1){\n    transition-delay:0s;\n}\nsvg path:nth-child(2){\n    transition-delay:.6s;\n}\nsvg path:nth-child(3){\n    transition-delay:.4s;\n}\nsvg path:nth-child(4){\n    transition-delay:.2s;\n}\nsvg path:nth-child(5){\n    transition-delay:.8s;\n}\nsvg path:nth-child(6){\n    transition-delay:.6s;\n}\nsvg path:nth-child(7){\n    transition-delay:.4s;\n}\nsvg path:nth-child(8){\n    transition-delay:0s;\n}\nsvg path:nth-child(9){\n    transition-delay:.8s;\n}\nsvg.hide path{\n    opacity:0;\n}\n</style>\n","<script>\nexport let loaded = false\nexport let hide = false\n</script>\n\n<svg \nclass=\"{loaded ? 'loaded' : ''} {hide ? 'hide' : ''}\"\nwidth=\"400\" height=\"406\" viewBox=\"0 0 400 406\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\n<path d=\"M359.2,78.6l39.3,172.2l-110,138.1H112L2,250.8L41.3,78.6L200.2,2L359.2,78.6z\" stroke=\"#E54646\" stroke-width=\"2\" stroke-miterlimit=\"10\"/>\n<path d=\"M398.5,157.4l-41.1,171.7L197.6,404L39.4,325.7L2,153.1L113.5,16.2l176.4,1.9L398.5,157.4z\" fill=\"#E54646\" fill-opacity=\"0\" stroke=\"#E54646\" stroke-width=\"2\" stroke-miterlimit=\"10\"/>\n\n<path class=\"triangle\" d=\"M278.26 199.979L148.142 139.844C147.592 139.585 146.985 139.47 146.378 139.509C145.771 139.549 145.184 139.741 144.672 140.069C144.159 140.396 143.738 140.848 143.447 141.383C143.156 141.917 143.005 142.517 143.008 143.125V263.451C143.005 264.06 143.156 264.659 143.447 265.194C143.738 265.728 144.159 266.18 144.672 266.508C145.184 266.835 145.771 267.028 146.378 267.067C146.985 267.106 147.592 266.991 148.142 266.733L278.26 206.561C278.894 206.276 279.433 205.814 279.81 205.23C280.188 204.647 280.389 203.966 280.389 203.27C280.389 202.575 280.188 201.894 279.81 201.31C279.433 200.726 278.894 200.264 278.26 199.979Z\" fill=\"#E54646\"/>\n\n</svg>\n\n<style>\nsvg{\n    height:100%;\n    width:100%;\n    transition: .5s cubic-bezier(0.46, 0.03, 0.52, 0.96);\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n}\nsvg:hover{\n        cursor: url(https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2Fcursor4.svg?v=1587485456475) 21 20, pointer;\n}\nsvg.hide{\n    opacity:0;\n    transform: scale(1.5);\n}\nsvg path:nth-child(1),svg path:nth-child(2),svg path:nth-child(3){\n    transform-origin: center;\n}\n\nsvg path:nth-child(1),svg path:nth-child(2){\n    fill-opacity: 0;\n    stroke-dasharray: 1300;\n    stroke-dashoffset: 1300;\n    stroke-width: 4;\n    stroke-linecap: round;\n}\n\nsvg.hide path:nth-child(1),svg.hide path:nth-child(2){\n    animation-play-state: paused;\n}\n\n.triangle{\n    opacity: 0;\n    transition: \n        opacity .25s cubic-bezier(0.46, 0.03, 0.52, 0.96) 1s,\n        transform .25s cubic-bezier(0.46, 0.03, 0.52, 0.96),\n        fill .4s cubic-bezier(0.46, 0.03, 0.52, 0.96)\n        ;\n    z-index: 2\n}\n.loaded .triangle{\n    opacity: 1;\n}\nsvg.loaded:hover .triangle{\n    transform:scale(1.3);\n    fill: var(--offwhite);\n}\nsvg.loaded path:nth-child(1){\n    animation: \n        rotate 10s linear infinite,\n        drawforward 2s cubic-bezier(0.46, 0.03, 0.52, 0.96);\n    animation-fill-mode: forwards;\n    animation-play-state: start;\n    /* transition:stroke-dashoffset 2s cubic-bezier(0.46, 0.03, 0.52, 0.96); */\n    \n}\nsvg.loaded path:nth-child(2){\n    animation: \n        rotate 20s linear infinite,\n        drawforward 2s cubic-bezier(0.46, 0.03, 0.52, 0.96);\n    animation-fill-mode: forwards;\n    animation-play-state: start;\n    transition: \n        fill-opacity .25s cubic-bezier(0.46, 0.03, 0.52, 0.96)\n}\nsvg:hover path:nth-child(2){\n    fill-opacity: .5\n}\n\n@keyframes rotate {\n\t0%   { transform:rotate(-180deg) }\n\t100% { transform:rotate(179deg) }\n}\n@keyframes drawforward {\n        to {\n            stroke-dashoffset: 1;\n        }\n    }\n     @keyframes drawback {\n        to {\n            stroke-dashoffset: -1000;\n        }\n    }\n\n</style>\n","<script>\nimport {loaded,active,WIDTH,HEIGHT,SCALE,thereminPos} from './stores.js';\nimport { onMount } from 'svelte';\nimport Logo from './icons/logo.svelte'; \nimport Play from './icons/play.svelte'; \n\nconst handleClick = ()=>{\n    active.set(true)\n}\n</script>\n\n<section class=\"{$active ? 'hide' : ''}\">\n    <h1 class=\"{(!$loaded || $active) ? 'hide' : ''}\">Celebrating 100 years of the theremin</h1>\n    <div class=\"title\">\n        <Logo hide={(!$loaded || $active) ? true : false}/>\n    </div>\n    <div \n    class=\"play\"\n    on:touchend={handleClick}\n    on:mouseup={handleClick}\n    >\n        <Play loaded={$loaded} hide={$active}/>\n    </div>\n</section>\n\n\n<style>\n    @keyframes animateGlyph {\n\t0%   { font-variation-settings: \"anim\" 100; }\n\t100% { font-variation-settings: \"anim\" 200; }\n\t}\n    section{\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        width: max-content;\n        height: max-content;\n        margin: auto;\n        /* width: 100%; */\n        /* height: 100%; */\n        overflow: hidden;\n        text-align: center;\n        white-space: nowrap;\n        pointer-events: none;\n    }\n    section{\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -khtml-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        -o-user-select: none;\n        user-select: none;\n    }\n    .title{\n        height: auto;\n        width:60vw;\n        max-height: 10vh;\n        max-width: 900px;\n        margin-bottom: 16px;\n    }\n    .play{\n        width: 20vh;\n        height:20vh;\n        max-width:20vh;\n        max-height:40vw;\n        margin:2.5vh 0 10vh 0;\n        pointer-events: all;\n    }\n    .hide .play{\n        pointer-events: none;\n    }\n    h1{\n        font-size: calc(12px + +.1vh + .1vw);\n        font-weight: normal;\n        color:var(--offwhite);\n        width:max-content;\n        font-variation-settings: \"wght\" 70, \"wdth\" 118, \"ital\" 0;\n        margin: 0 0 8px 0;\n        pointer-events: all;\n        transition: 1s;\n    }\n    h1.hide{\n        opacity: 0;\n        pointer-events: none;\n    }\n     @media screen and (max-width: 600px) {\n        h1{\n            font-size: 16px;\n            font-weight: normal;\n            color:var(--offwhite);\n            width:max-content;\n            font-variation-settings: \"wght\" 70, \"wdth\" 90, \"ital\" 0;\n        }\n        .title{\n            height: auto;\n            width:calc(100vw - 32px);\n            max-height: 10vh;\n            max-width: 600px;\n            margin-bottom: 16px;\n        }\n    }\n\n\n</style>","<script>\nimport { onMount } from 'svelte';\nimport { tweened,spring } from 'svelte/motion';\nimport { backOut } from 'svelte/easing';\nimport {constrain} from './helpers.js'\nimport {loaded,WIDTH,HEIGHT,CANVASWIDTH,CANVASHEIGHT,SCALE,canvasMousePos,mousePos,expandSettings,globalPointerUp,dragged,mouseOverride} from './stores.js'\nimport {App,Stage,Resources} from './pixiApp.js'\nimport BG from './PIXI.Sprite.bg.svelte'\nimport Table from './PIXI.Sprite.table.svelte'\nimport Video from './PIXI.Sprite.video.svelte';\nimport Theremin from './PIXI.Sprite.theremin.svelte'\nimport ThereminMobile from './PIXI.Sprite.theremin.mobile.svelte'\nimport AmbientLights from './PIXI.Light.ambient.svelte'\nimport CursorLight from './PIXI.Light.cursor.svelte'\nimport PIXIGraphics from './PIXI.graphics.svelte';\nimport Play from './UI.play.svelte'\nimport Text from './PIXI.text.svelte'\nimport Title from './UI.title.svelte'\n\n\nlet containerWidth,\ncanvasContainer, containerHeight;\nlet noiseFilter = new PIXI.filters.NoiseFilter(.02,.1186887)\nlet blurFilter = new PIXI.filters.BlurFilter()\nblurFilter.blur = 0\nblurFilter.quality = 1\nblurFilter.enabled = false\nStage.filterArea = App.screen;\nStage.filters = [blurFilter];\nlet scale\nlet maxWidth = 1600\nconst tween0_1 = tweened(0, {\n    duration: 700,\n    easing: backOut\n});\n\n$: {\n    // alert(containerWidth+','+containerHeight)\n    WIDTH.set(containerWidth)\n    HEIGHT.set(containerHeight)\n    SCALE.set(\n        constrain(\n            maxWidth/containerWidth,\n            {min:1.25,max:2}\n        )\n    )\n\n    CANVASWIDTH.set(containerWidth*$SCALE)\n    CANVASHEIGHT.set(containerHeight*$SCALE)\n\n    App.view.width = $CANVASWIDTH;\n    App.view.height = $CANVASHEIGHT;\n    App.renderer.resize($CANVASWIDTH,$CANVASHEIGHT)  \n    App.render()\n}\n$: {\n   if($expandSettings && $tween0_1 === 0){\n        tween0_1.set(1)\n    }\n    if(!$expandSettings && $tween0_1 === 1){\n        tween0_1.set(0)\n    }\n    blurFilter.blur = 0 + $tween0_1*5\n    blurFilter.enabled = ($tween0_1 > 0) ? true : false\n};\n\nlet updateMouse = e => {\n    let x,y\n\n    if(e.type == 'touchstart' || e.type == 'touchmove' || e.type == 'touchend' || e.type == 'touchcancel'){\n        var touch = e.touches[0] || e.changedTouches[0];\n        x = touch.pageX;\n        y = touch.pageY;\n       \n    } else if (e.type == 'mousedown' || e.type == 'mouseup' || e.type == 'mousemove' || e.type == 'mouseover'|| e.type=='mouseout' || e.type=='mouseenter' || e.type=='mouseleave') {\n        x = e.clientX;\n        y = e.clientY;\n    }\n\n    mousePos.set({\n        x:x,\n        y:y\n    })\n    canvasMousePos.set({\n        x:x*$SCALE,\n        y:y*$SCALE\n    })\n    mouseOverride.set(0)\n    globalPointerUp.set(false)\n}\n\nlet updateMouseTouch = e => {\n    alert(e.clientX)\n}\n\nconst handleOrientation = e => {\n    containerWidth = window.innerWidth;\n    containerHeight = window.innerHeight;\n    WIDTH.set(containerWidth)\n    HEIGHT.set(containerHeight)\n}\n\nonMount(async () => {\n    canvasContainer.appendChild(App.view);\n});\n\n</script>\n\n<svelte:window \nbind:innerWidth = {containerWidth} \nbind:innerHeight = {containerHeight} \non:orientationchange={handleOrientation}\n/> \n\n<div \non:touchstart={(e)=>{updateMouse(e)}}\non:touchend={()=>{globalPointerUp.set(true)}}\non:mouseup={(e)=>{globalPointerUp.set(true)}}\non:touchmove={(e)=>{updateMouse(e)}}\non:mousemove={(e)=>{updateMouse(e)}}\nbind:this={canvasContainer} \nclass=\"canvasContainer\"\nstyle=\"width:{containerWidth}px;height:{containerHeight}px\"\n>\n    <Title/>\n    <!-- <Play/> -->\n    {#await Resources}\n\n        <!-- Loading -->\n\n    {:then value}\n        <!-- Null Obj for global interactions -->\n        \n        <!-- Sprites -->\n        <BG stage={Stage} textures={value}/>\n        <PIXIGraphics stage={Stage}/>\n        <Table stage={Stage} textures={value}/>\n        <Theremin stage={Stage} textures={value}/> \n        <ThereminMobile stage={Stage} textures={value}/> \n        <Text stage={Stage}/>\n        <Video stage={Stage} textures={value}/>\n        <!-- Lights -->\n        <AmbientLights stage={Stage}/>\n        <CursorLight app={App} stage={Stage}/>\n\n\n    {:catch err}\n\n        <!-- Error -->\n\n    {/await}\n</div>\n\n\n<style>\n.canvasContainer{\n    width:100vw;\n    height:100vh;\n    grid-column: 1 / 13;\n    display:flex;\n    align-items:center;\n    justify-content:center;\n}\n:global(canvas){\n    width:100vw;\n}\n</style>","<script>\nexport let icon //SVG icon\nexport let setting //Pass in a store from prop\nexport let hide = true\nexport let styles = ''\n\nlet toggleDom\nlet circlePathValues\n\n$: {\n    circlePathValues = ($setting) ? \"M11 23C11 29.8746 12.8755 34.4024 17.7365 39.2635C22.5976 44.1245 27.1254 46 34 46C40.8746 46 45.4024 44.1245 50.2635 39.2635C55.1245 34.4024 57 29.8746 57 23C57 16.1254 55.1245 11.5976 50.2635 6.73654C45.4024 1.87549 40.8746 2.85048e-07 34 0C27.1254 -2.85048e-07 22.5976 1.87549 17.7365 6.73654C12.8755 11.5976 11 16.1254 11 23Z;  M0 23C0 32 8.5 38.7678 14.5 41.5C20.5 44.2322 27.9 46 34 46C40.1 46 45.9501 43.5768 50.2635 39.2635C54.5768 34.9501 57 29.1 57 23C57 16.9 54.5768 11.0499 50.2635 6.73654C45.9501 2.42321 40.1 0 34 0C27.9 0 20 2.5 14.5 5C9 7.5 0 14 0 23Z; M11 23C11 29.8746 12.8755 34.4024 17.7365 39.2635C22.5976 44.1245 27.1254 46 34 46C40.8746 46 45.4024 44.1245 50.2635 39.2635C55.1245 34.4024 57 29.8746 57 23C57 16.1254 55.1245 11.5976 50.2635 6.73654C45.4024 1.87549 40.8746 2.85048e-07 34 0C27.1254 -2.85048e-07 22.5976 1.87549 17.7365 6.73654C12.8755 11.5976 11 16.1254 11 23Z\" \n    : \"M11 23C11 29.8746 12.8755 34.4024 17.7365 39.2635C22.5976 44.1245 27.1254 46 34 46C40.8746 46 45.4024 44.1245 50.2635 39.2635C55.1245 34.4024 57 29.8746 57 23C57 16.1254 55.1245 11.5976 50.2635 6.73654C45.4024 1.87549 40.8746 2.85048e-07 34 0C27.1254 -2.85048e-07 22.5976 1.87549 17.7365 6.73654C12.8755 11.5976 11 16.1254 11 23Z; M11 23C11 29.1 13.4232 34.9501 17.7365 39.2635C22.0499 43.5768 27.9 46 34 46C40.1 46 50.5 43 54.5 40.5C58.5 38 68 31.5 68 23C68 14.5 60 9 54.5 6C49 3 40.1 0 34 0C27.9 0 22.0499 2.42321 17.7365 6.73654C13.4232 11.0499 11 16.9 11 23Z; M11 23C11 29.8746 12.8755 34.4024 17.7365 39.2635C22.5976 44.1245 27.1254 46 34 46C40.8746 46 45.4024 44.1245 50.2635 39.2635C55.1245 34.4024 57 29.8746 57 23C57 16.1254 55.1245 11.5976 50.2635 6.73654C45.4024 1.87549 40.8746 2.85048e-07 34 0C27.1254 -2.85048e-07 22.5976 1.87549 17.7365 6.73654C12.8755 11.5976 11 16.1254 11 23Z\"\n}\n\nconst handleClick = () => {\n    setting.set(!$setting)\n    if(toggleDom){\n        // toggleDom.querySelector('animate').beginElement()\n    }\n}\n\n</script>\n\n<container \nbind:this={toggleDom} \non:click={handleClick} \nclass='{\n    ($setting) ? 'toggled' : ''} \n    {hide ?'hide':''} \n    {styles}'>\n    <div class=\"track\">\n        <label>On</label>\n        <div class=\"toggleButton\">\n            {#if icon}\n                <div class=\"icon\">\n                    <svelte:component this={icon} />\n                </div>\n            {/if}\n            <svg class=\"liquidCircle\" width=\"69\" height=\"46\" viewBox=\"0 0 69 46\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path fill=\"#FFC52F\" d=\"M11 23C11 29.8746 12.8755 34.4024 17.7365 39.2635C22.5976 44.1245 27.1254 46 34 46C40.8746 46 45.4024 44.1245 50.2635 39.2635C55.1245 34.4024 57 29.8746 57 23C57 16.1254 55.1245 11.5976 50.2635 6.73654C45.4024 1.87549 40.8746 2.85048e-07 34 0C27.1254 -2.85048e-07 22.5976 1.87549 17.7365 6.73654C12.8755 11.5976 11 16.1254 11 23Z\">\n                <!-- <animate \n                    attributeName=\"d\" \n                    begin=\"0s\"\n                    dur=\"400ms\" \n                    fill=\"freeze\"\n                    keyTimes=\"0;0.25;1\"\n                    values={circlePathValues}/> -->\n            </path>\n            </svg>\n        </div>\n        <label>Off</label>\n    </div>\n</container>\n\n<style>\ncontainer.hide{\n    opacity:0;\n    pointer-events:none;\n}\ncontainer:hover{\n        cursor: url(https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2Fcursor4.svg?v=1587485456475) 21 20, pointer;\n    }\n    \ncontainer{\n    display:flex;\n    align-items: center;\n    justify-content: flex-start;\n    height:56px;\n    width:112px;\n    border-radius: 32px;\n    overflow: hidden;\n    background:rgba(74,70,59,.5);\n    transition:background-color .25s, opacity .25s;\n    pointer-events: all;\n}\ncontainer.toggled{\n    background:#E54646;\n}\n.liquidCircle path{\n    fill:rgba(255,248,228,1);\n    opacity:0.3;\n}\ncontainer.toggled .liquidCircle path{\n    opacity:1;\n}\ncontainer:hover .liquidCircle path{\n    opacity:1\n}\n.track{\n    pointer-events: none;\n    display:flex;\n    flex-direction: row;\n    align-items: center;\n    transform: translate(-33px,0px);\n    transition: transform .25s;\n}\ncontainer.toggled .track{\n    transform: translate(21px,0px)\n}\n.toggleButton{\n    display: inline-block;\n    position:relative;\n    width:46px;\n    height:46px;\n}\nlabel{\n    display:inline-block;\n    color:#FFF8E4;\n    font-size:12px;\n}\nlabel:first-child{\n    margin-right: 16px;\n}\nlabel:last-child{\n    margin-left: 10px;\n    opacity:0.5;\n}\n.liquidCircle{\n    margin-left:-11px;\n}\n.icon{\n    position:absolute;\n    top:0;\n    left:0;\n    width:100%;\n    height:auto;\n}\n</style>","<script>\nexport let icon\nexport let setting\nexport let hide = true\nexport let styles = ''\nexport let selected = false\nconst handleClick = () => {\n    setting.set(!$setting)\n}\n</script>\n\n<container class=\"{hide ? 'hide':''} {selected?'selected':''}\" style={styles} on:click={handleClick}>\n        {#if icon}\n            <svelte:component this={icon} />\n        {/if}\n</container>\n\n<style>\n    container{\n        width:56px;\n        height:56px;\n        background:rgba(255,248,228,.3);\n        border-radius: 50%;\n        transition:opacity .25s;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        pointer-events: all;\n    }\n    container.selected{\n        background:rgba(255,248,228,1);\n    }\n    container.hide{\n        opacity:0;\n        pointer-events:none;\n    }\n    container:hover{\n        background:rgba(255,248,228,1);\n       cursor: url(https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2Fcursor4.svg?v=1587485456475) 21 20, pointer;\n    }\n</style>","<script>\nimport Toggle from './UI.toggle.svelte'\nimport ButtonCircle from './UI.buttoncircle.svelte'\nimport videoIcon from './icons/video.svelte'\nimport pauseIcon from './icons/pause.svelte'\nimport settingsIcon from './icons/settings.svelte'\nimport closeIcon from './icons/close.svelte'\nimport {expandSettings,active,camera} from './stores.js'\n</script>\n\n\n<nav>\n    <ButtonCircle \n    icon={pauseIcon} \n    setting={active} \n    hide={\n        ($expandSettings || !$active) ? true\n         :false}\n    styles={'margin-right:16px'}/>\n    <Toggle \n    icon={videoIcon} \n    setting={camera} \n    hide={\n        ($expandSettings || !$active) ? true\n         :false}/>\n    \n    <div>\n        <ButtonCircle \n        icon={\n            $expandSettings ? closeIcon\n            : settingsIcon\n        } \n        selected= {\n            $expandSettings ? true\n            : false\n        }\n        setting={expandSettings} \n        hide={$active ? false : true}\n        />\n    </div>\n</nav>\n\n\n<style>\n    nav{\n        display: flex;\n        position:absolute;\n        width:calc(100% - 48px);\n        top:24px;\n        left:24px;\n        pointer-events: none;\n    }\n    div{\n        position:absolute;\n        top:0;\n        right:0;\n    }\n    @media only screen and (max-width: 600px) {\n        nav{\n            top:16px;\n            left:16px;\n            width:calc(100% - 32px);\n        }\n        div{\n            top:0;\n            right:0;\n        }\n\n    }\n\n</style>","<script>\nimport {active,volumeVal,thereminPos,canvasMousePos,mousePos,glide,toneOutput,scaleType,scaleNotes,tonic,octaves,oscillatorType,dragged,analyser,audioControls} from './stores.js'\nimport {constrain} from './helpers.js'\n\nconst generateScale = (tonic,key,octaves)=>{\n    let scale = teoria.scale(tonic,key)\n    let newNotes = []\n    for(let i=0; i<octaves; i++){\n        scale.notes().forEach(e=>{\n            let scientificNot = e.scientific()\n            let base = scientificNot.slice(0, -1);\n            let num = parseInt(scientificNot.match(/(\\d+)/)[0])+i\n            newNotes.push(base+num)\n        })\n    }\n    return newNotes\n}\n\n$:  scaleNotes.set(\n        generateScale(\n            $tonic,\n            $scaleType.toLowerCase().replace(/\\s/g, ''),\n            $octaves\n        )\n    )\n\nconst masterVolume = new Tone.Volume($volumeVal);\nconst masterCompressor = new Tone.Compressor({\n    ratio : 12 ,\n    threshold : -24 ,\n    release : 0.25 ,\n    attack : 0.003 ,\n    knee : 30\n});\nconst masterAnalyser = new Tone.Analyser('waveform', 128);\nanalyser.set(masterAnalyser)\n\nconst gain1 = new Tone.Gain(0.1);\nconst mainOsc = new Tone.OmniOscillator({\n  frequency: 440,\n  detune: 0,\n  phase: 0,\n  spread: 20,\n  count: 3,\n  modulationIndex: 2,\n  modulationType: \"square\",\n  harmonicity: 1,\n  partialCount: 0\n});\n$: masterVolume.volume.value = $volumeVal\n$: mainOsc.type = ($oscillatorType !== 'Oscillator Off') ? $oscillatorType.toLowerCase().replace(/\\s/g, '') : 'sine'\n\nlet vibrato = new Tone.Vibrato({\n  maxDelay: 0.005,\n  frequency: 5,\n  depth: 0.05,\n  type: \"sine\"\n});\nmainOsc.chain(vibrato,gain1,Tone.Master);\nTone.Master.chain(masterCompressor,masterVolume,masterAnalyser);\n\n$:{\n    if($active){\n        let maxFreq = Tone.Frequency($scaleNotes[$scaleNotes.length-1])\n        let minFreq = Tone.Frequency($scaleNotes[0])\n        \n        if(mainOsc.state === 'stopped'){\n            mainOsc.start()\n        }\n        if(Tone.context.state !== 'running'){  \n            Tone.context.resume();\n        }\n\n        let gain1Max = \n                $oscillatorType === 'Oscillator Off' ? 0\n                : $oscillatorType === 'Sine' ? 0.5\n                : $oscillatorType === 'FM Sine' ? 0.2\n                : $oscillatorType === 'AM Sine' ? 0.6\n                : $oscillatorType === 'Fat Sine' ? 0.6\n                : $oscillatorType === 'Square' ? 0.15\n                : $oscillatorType === 'FM Square' ? 0.1\n                : $oscillatorType === 'AM Square' ? 0.25\n                : $oscillatorType === 'Fat Square' ? 0.2\n                : $oscillatorType === 'Triangle' ? 0.5\n                : $oscillatorType === 'FM Triangle' ? 0.2\n                : $oscillatorType === 'AM Triangle' ? 0.5\n                : $oscillatorType === 'Fat Triangle' ? 0.5\n                : $oscillatorType === 'Sawtooth' ? 0.25\n                : $oscillatorType === 'FM Sawtooth' ? 0.2\n                : $oscillatorType === 'AM Sawtooth' ? 0.3\n                : $oscillatorType === 'Fat Sawtooth' ? 0.25\n                : $oscillatorType === 'PWM' ? .1\n                : $oscillatorType === 'Pulse' ? .1\n                : 0.1\n        gain1.gain.value = $audioControls.y * gain1Max\n        vibrato.frequency.value = $audioControls.y * 10;\n\n        let steps = Math.min(~~($audioControls.x / (1/$scaleNotes.length)),($scaleNotes.length-1));\n        let glideFreq = ($audioControls.x * (maxFreq - minFreq) + minFreq)\n        let calcFreq = ($glide) ? glideFreq : Tone.Frequency($scaleNotes[steps]);\n\n        mainOsc.frequency.value = (mainOsc.frequency.value !== calcFreq) ? calcFreq : mainOsc.frequency.value\n\n        toneOutput.set({\n            glide:$glide,\n            total:$scaleNotes.length,\n            index:steps,\n            note:$scaleNotes[steps],\n            freq:glideFreq\n        })     \n        \n    }else{\n        if(mainOsc.state === 'started'){\n            mainOsc.stop()\n        }\n        if(Tone.context.state === 'running'){\n            Tone.context.suspend();\n        }\n    }\n}\n</script>\n","<script>\nimport {active,camera,videoReady} from './stores.js'\n\nlet Stream;\nlet videoObj;\nconst getStream = () => {\n  const constraints = {\n    video: {\n      facingMode: \"user\",\n      width: { min: 480, ideal: 480, max: 1920 },\n      height: { min: 400, ideal: 480 },\n    },\n    audio: false\n  };\n\n  // Get access to the camera!\n  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    if (!Stream || Stream.active === false) {\n      navigator.mediaDevices\n        .getUserMedia(constraints)\n        .then(stream => {\n          Stream = stream;\n          handleStream(stream);\n        })\n        .catch(err => {\n          alert('Please allow camera to use gesture controls.');\n          setTimeout(()=>{\n            camera.set(false)\n            videoReady.set(null)\n          }, 1000)\n        });\n    } else {\n      stopStream();\n    }\n  }\n};\n\nlet checkStream\nconst handleStream = (stream) => {\n  videoObj.srcObject = stream;\n  // videoObj.videoWidth = videoObj.videoWidth\n  // videoObj.videoHeight = stream.getVideoTracks()[0].getSettings().height\n\n  console.log(\"Webcam On\");\n  checkStream = setInterval(() => {\n    if (videoObj.readyState >= 3) {\n      // alert(videoObj.videoWidth+','+videoObj.videoHeight)\n      videoReady.set(videoObj)\n      console.log(videoObj)\n      //stop checking every half second\n      clearInterval(checkStream);\n    }\n  }, 500);\n}\n\nconst stopStream = () => {\n  if (Stream) {\n    Stream.getTracks().forEach(track => track.stop());\n    console.log(\"Webcam Off\");\n  }\n  videoReady.set(null)\n  clearInterval(checkStream)\n};\n\n$:{\n    if($active && $camera){\n        getStream()\n    }else{\n        stopStream()\n    }\n}\n\n</script>\n\n<video bind:this={videoObj} autoplay muted playsinline width={$videoReady ? $videoReady.videoWidth : 0} height={$videoReady ? $videoReady.videoHeight : 0}></video>\n\n<style>\nvideo {\n        opacity: 0;\n        pointer-events: none;\n        position: fixed;\n}\n</style>","<script>\nimport {videoReady,poseNetRes,mousePos} from './stores.js'\nimport {smooth,getDistance} from './helpers.js'\nimport {posenetOptions} from './config.js'\n\nlet net;\nposenet.load().then(e=>{\n    net = e\n});\n\nasync function estimatePoseOnImage() {\n    if($videoReady){\n        const pose = await net.estimateMultiplePoses($videoReady, posenetOptions);\n        if(pose.length>0){\n            if(pose[0].score>posenetOptions.minPoseConfidence){\n            // console.log(pose)\n            let armspan = getDistance(pose[0].keypoints[9].position,pose[0].keypoints[10].position)\n            let smoothPose = smooth(pose[0],armspan)\n            poseNetRes.set(smoothPose.keypoints)\n            }else{\n                poseNetRes.set(null)\n            }\n        }\n        \n        requestAnimationFrame(estimatePoseOnImage);\n    }else{\n        poseNetRes.set(null)\n    }\n}\n\n$:{\n    if($videoReady && net){\n        estimatePoseOnImage();\n    }\n    // console.log($poseNetRes)\n}\n\n\n</script>\n<style>\n</style>","<script>\nimport {expandSettings,oscillatorType,scaleType} from './stores.js'\nimport {scales,oscillators} from './config.js'\n\nlet selectedScale\nlet selectedOsc\n\n</script>\n\n<section class={$expandSettings ? '' : 'hide'}>\n\n<div class=\"select\">\n<select bind:value={selectedScale} class=\"scales\" \non:change={()=>scaleType.set(selectedScale)}\n>\n    {#each scales as scaleName}\n        <option value={scaleName} selected={(scaleName === $scaleType) ? true : false}>\n            {scaleName.replace(/-/g, ' ')}\n        </option>\n    {/each}\n</select>\n<div class=\"select_arrow\">\n    </div>\n</div>\n\n<div class=\"select\">\n<select bind:value={selectedOsc} class=\"oscillators\" \non:change={()=>oscillatorType.set(selectedOsc)}\n>\n    {#each oscillators as oscName}\n        <option value={oscName} selected={(oscName === $oscillatorType) ? true : false}>\n            {oscName.replace(/-/g, ' ')}\n        </option>\n    {/each}\n</select>\n<div class=\"select_arrow\">\n    </div>\n</div>\n\n</section>\n\n<style>\nsection{\n    position:absolute;\n    top:0;left:0;\n    width:100%;\n    height:100%;\n    overflow-y:scroll;\n    background-color:rgba(0,0,0,0.5);\n    transition:opacity .4s;\n}\nsection.hide{\n    opacity:0;\n    pointer-events: none;\n}\n\n:root {\n  --type: #ffffff;\n  --bg: #000000;\n  --accent: rgba(255,255,255,0.2)\n}\n\nselect { outline: none; }\n\ndiv {\n  text-align: center;\n}\n\n    select, select option{\n        text-transform: capitalize\n    }\n    \n\n\n.select {\n    position: relative;\n    display: inline-block;\n    margin-bottom: 15px;\n}    \n\n.select select {\n        width: 230px;\n        font-family: \"Nicholson Beta\";\n        font-size: 16px;\n        display: inline-block;\n        cursor: pointer;\n        padding: 7px 10px;\n        outline: 0;\n        border-radius: 0px;\n        background: transparent;\n        color: var(--type);\n        border: 1px solid var(--type);\n        appearance: none;\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        border-radius: 5px;\n    }\n        .select select::-ms-expand {\n            display: none;\n        }\n\n.select_arrow {\n    position: absolute;\n    top: 13px;\n    right: 15px;\n    pointer-events: none;\n    border-style: solid;\n    border-width: 8px 5px 0px 5px;\n    border-color: var(--type) transparent transparent transparent;\n}\n</style>","<script>\n\timport {mousePos, loaded } from './components/stores.js';\n\timport Canvas from './components/Canvas.svelte'\n\timport UI from './components/UI.svelte'\n\timport Tone from './components/Tone.svelte'\n\timport Webcam from './components/Video.webcam.svelte'\n\timport PoseNet from './components/Video.posenet.svelte'\n\timport Settings from './components/UI.settingsexpanded.svelte'\n\tlet containerHeight,containerWidth\n</script>\n\n<svelte:window \nbind:innerWidth = {containerWidth} \nbind:innerHeight = {containerHeight} \n/> \n\n<main>\n\t<Canvas/>\n\t<Settings/>\n\t<UI/>\n\t<Tone/>\n\t<Webcam/>\n\t<PoseNet/>\n</main>\n\n<style>\n\t@font-face {\n\tfont-family: \"Whirly Birdie\";\n\tsrc: url(\"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FWhirlyBirdieGX.ttf?v=1588569607311\")\n\t\tformat(\"truetype\");\n\t}\n\n\t@font-face {\n\tfont-family: \"Whirly Birdie Narrow\";\n\tsrc: url(\"https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2FWhirlyBirdie-Narrow.woff?v=1587787534986\")\n\t\tformat(\"woff\");\n\t}\n\n\t@font-face {\n\tfont-family: \"Whirlybats\";\n\tsrc: url(\"https://cdn.glitch.com/1711052e-ea5e-4036-9c61-dd3ef6782855%2FWhirlybatsGX.ttf?v=1583959223787\")\n\t\tformat(\"truetype\");\n\t}\n\n\t@font-face {\n\tfont-family: \"Nicholson Beta\";\n\tsrc: url(\"https://cdn.glitch.com/1711052e-ea5e-4036-9c61-dd3ef6782855%2Fnicholsonbeta-webfont.woff2?v=1584151257949\")\n\t\tformat(\"woff2\");\n\t}\n\n\t@font-face {\n\tfont-family: \"Nicholson Gothic\";\n\tsrc: url(\"http://hootalex.github.io/type/nicholson/NicholsonGothic-Regular.otf\")\n\t\tformat(\"otf\");\n\t}\n\n\t/* Master colors */\n\n\t:root {\n\t--black: #000000;\n\t--white: #ffffff;\n\t--red: #D53540;\n\t--blue: #3E8BCA;\n\t--sun: #FCD836;\n\t--forest: #464D33;\n\t--green: #079548;\n\t--lightgreen: #CCD9D1;\n\t--wood: #AD6C2F;\n\t--navy: #1D3767;\n\t--offwhite: #FFF8E4;\n\t--crimson: #990000;\n\t--radius: 45px;\n\t}\n\n\t:global(html), :global(body) {\n\tfont-family: \"Whirly Birdie\";\n\tbackground-color: black;\n\tfont-variation-settings: \"wght\" 90, \"wdth\" 120, \"ital\" 0;\n\tmargin:0;\n\tpadding:0;\n\twidth:100%;\n\theight:100%;\n\toverflow:hidden;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\t}\n\t\t\n\tmain {\n\t\tposition: fixed;\n\t\tdisplay:grid;\n\t\tgrid-template-columns: repeat(12, 1fr);\n\t\tcolumn-gap: 16px;\n\t\tmargin: 0 0 0 0;\n\t\twidth:100%;\n\t\theight:100%;\n\t\toverflow:hidden;\n\t\tbackground:black;\n\t\tcursor:url(https://cdn.glitch.com/bbfb2dd7-a8b0-4835-bdc2-c2fdffc99849%2Fcursor1.svg?v=1587279853708), auto;\n\t}\n</style>","import App from './App.svelte';\n\n// if (\"serviceWorker\" in navigator) {\n//     navigator.serviceWorker\n//         .register(\"sw.js\")\n//         .then(() => console.log(\"registered service worker!\"));\n// }\n\n// navigator.serviceWorker.getRegistrations().then(function(registrations) {\n// \tfor(let registration of registrations) {\n// \t registration.unregister()\n//    } })\n\nconst app = new App({\n\ttarget: document.body\n});\n\nexport default app;"],"names":["noop","identity","x","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","component_subscribe","component","callback","$$","on_destroy","push","null_to_empty","value","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","loop","promise","Promise","fulfill","add","[object Object]","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","length","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","removeAttribute","getAttribute","setAttribute","set_style","key","important","style","setProperty","select_option","select","option","__value","selected","select_value","selected_option","querySelector","current_component","set_current_component","get_current_component","Error","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","add_render_callback","flushing","seen_callbacks","flush","update","pop","has","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","globals","global","create_component","mount_component","on_mount","m","new_on_destroy","map","filter","destroy_component","make_dirty","then","fill","init","instance","create_fragment","not_equal","props","parent_component","prop_values","bound","context","Map","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","this","$destroy","type","index","indexOf","splice","subscriber_queue","writable","start","stop","subscribers","set","new_value","run_queue","s","invalidate","subscriber","active","loaded","camera","videoReady","WIDTH","HEIGHT","SCALE","TIME","CANVASWIDTH","CANVASHEIGHT","globalPointerUp","mousePos","y","canvasMousePos","mouseOverride","audioControls","thereminPos","machineLeftPos","thereminMobilePos","videoPos","expandSettings","volumeVal","glide","toneOutput","freq","note","oscillatorType","analyser","tonic","scaleType","scaleNotes","octaves","poseNetRes","dragged","hovered","backInOut","t","backOut","sineInOut","Math","cos","PI","is_date","obj","prototype","toString","call","spring","opts","stiffness","damping","precision","last_time","current_token","last_value","target_value","inv_mass","inv_mass_recovery_rate","cancel_task","token","hard","soft","rate","min","settled","dt","next_value","tick_spring","current_value","delta","velocity","abs","getTime","isArray","_","fulfil","get_interpolator","arr","bi","keys","interpolators","result","tweened","defaults","previous_task","started","delay","duration","easing","linear","interpolate","abort","elapsed","constrain","constraints","max","getKeypoint","pose","part","keypoints","keypoint","getKeypoints","parts","smoothPrevPose","smooth","armspan","prevKeypoints","smoothKeypoints","prevPos","position","smoothPos","pos","smoothPose","getPoseFromKeypoints","score","App","PIXI","Application","Stage","stage","display","diffuseLayer","Layer","lights","diffuseGroup","normalLayer","normalGroup","lightLayer","lightGroup","graphicsGroup","Group","graphicsLayer","cursorGroup","cursorLayer","addChild","Loader","loader","Resources","reject","load","resources","createSprite","diffuseTex","normalTex","container","Container","diffuseSprite","Sprite","parentGroup","normalSprite","createPair","createGradientTexture","r1","r2","resolution","canvas","getContext","width","height","gradient","createRadialGradient","addColorStop","fillStyle","fillRect","Texture","fromCanvas","textures","bgContainer","bg","static_dark","texture","bg_normal","tint","bgRatio","machineLeft","machine_left","machine_left_normal","machineRight","machine_right","machine_right_normal","alpha","$CANVASWIDTH","$CANVASHEIGHT","scale","yBasedOnTheremin","$thereminPos","$WIDTH","visible","table","table_normal","tableRatio","sineInOut0_1","backOut0_1","wire1","wire1_normal","wire2","wire2_normal","wire3","wire3_normal","video","video_normal","video_light","PointLight","$SCALE","margin","$sineInOut0_1","brightness","$backOut0_1","$videoReady","oscillators","scales","posenetOptions","architecture","imageScaleFactor","outputStride","flipHorizontal","maxPoseDetections","detectionType","minPoseConfidence","minPartConfidence","tweenKnobLeft","tweenKnobRight","theremin","theremin_null","theremin_body_bottom","theremin_body_bottom_normal","theremin_body_top","theremin_body_top_normal","knob_left","knob","knob_normal","on","id","knob_right","switchRight","switch_off","switch_off_normal","$glide","switchRight_light","right_antenna","right_antenna_normal","right_antenna_light","falloff","left_antenna1","left_antenna1_normal","left_antenna2","left_antenna2_normal","left_antenna_light","symbols","symbols_normal","dirLight","DirectionalLight","lightHeight","$active","switch_on","switch_on_normal","Point","$tweenKnobLeft","interactive","$tweenKnobRight","theremin_body_top_mobile","$globalPointerUp","rotation","$volumeVal","$oscillatorType","$dragged","percent","normalizedPos","getBounds","minAngle","angleRadians","atan2","radians","calcRotation","$canvasMousePos","inc","steppedPercent","floor","$hovered","thereminMobile","base","theremin_mobile","theremin_mobile_normal","knob_light","thereminBottomY","ambientLight","AmbientLight","warmLightContainer","warmLightCoords","color","e","warmpointLight","htmlCursor","app","cursorLight","gradientTexture","renderer","gradientTexture2","particleContainer","particles","ParticleContainer","uvs","emitter","Emitter","autoUpdate","emit","end","minimumScaleMultiplier","speed","minimumSpeedMultiplier","acceleration","maxSpeed","startRotation","noRotation","rotationSpeed","lifetime","blendMode","frequency","emitterLifetime","maxParticles","addAtBack","spawnType","emitterRight","emitterLeft","springLeftPos","springRightPos","$poseNetRes","$mouseOverride","leftWrist","rightWrist","$springRightPos","videoWidth","videoHeight","$thereminMobilePos","audioX","audioY","updateOwnerPos","$springLeftPos","ratio","graphics","Graphics","bgGraphics","graphics2","graphics2add","maskGraphic","lineStyle","mask","graphics3","headPos","createLine","point1","point2","moveTo","lineTo","bgLights","left","step","pause","w","frameCount","draw","n","audioArr","baseValues","newArr","amplitude","createAudioPoints","$analyser","getValue","lineAlpha","sin","$TIME","$videoPos","opacity","beginFill","drawCircle","drawEllipse","$toneOutput","total","drawRect","$machineLeftPos","opacityStepped","drawRoundedRect","offset","oscText","freqText","noteText","fonts","Text","fontFamily","fontSize","align","padding","hide","info","resolved","child_ctx","undefined","slice","current","needs_flush","blocks","mount","error","catch","pending","containerWidth","canvasContainer","containerHeight","noiseFilter","filters","NoiseFilter","blurFilter","BlurFilter","blur","quality","enabled","filterArea","screen","tween0_1","updateMouse","touch","touches","changedTouches","pageX","pageY","clientX","clientY","view","resize","render","$expandSettings","$tween0_1","innerWidth","innerHeight","alert","icon","setting","toggleDom","circlePathValues","styles","$setting","pauseIcon","videoIcon","closeIcon","settingsIcon","masterVolume","Tone","Volume","masterCompressor","Compressor","threshold","release","attack","knee","masterAnalyser","Analyser","gain1","Gain","mainOsc","OmniOscillator","detune","phase","spread","count","modulationIndex","modulationType","harmonicity","partialCount","vibrato","Vibrato","maxDelay","depth","chain","Master","teoria","newNotes","notes","scientificNot","scientific","num","parseInt","match","generateScale","$tonic","$scaleType","toLowerCase","replace","$octaves","volume","maxFreq","Frequency","$scaleNotes","minFreq","state","resume","gain1Max","gain","$audioControls","steps","glideFreq","calcFreq","suspend","Stream","videoObj","getStream","facingMode","ideal","audio","navigator","mediaDevices","getUserMedia","stopStream","stream","handleStream","err","setTimeout","checkStream","srcObject","console","log","setInterval","readyState","clearInterval","getTracks","track","$camera","net","estimatePoseOnImage","estimateMultiplePoses","distX","distY","sqrt","getDistance","posenet","selectedScale","selectedOsc","body"],"mappings":"gCAAA,SAASA,KACT,MAAMC,EAAWC,GAAKA,EACtB,SAASC,EAAOC,EAAKC,GAEjB,IAAK,MAAMC,KAAKD,EACZD,EAAIE,GAAKD,EAAIC,GACjB,OAAOF,EAUX,SAASG,EAAIC,GACT,OAAOA,IAEX,SAASC,IACL,OAAOC,OAAOC,OAAO,MAEzB,SAASC,EAAQC,GACbA,EAAIC,QAAQP,GAEhB,SAASQ,EAAYC,GACjB,MAAwB,mBAAVA,EAElB,SAASC,EAAeC,EAAGC,GACvB,OAAOD,GAAKA,EAAIC,GAAKA,EAAID,IAAMC,GAAOD,GAAkB,iBAANA,GAAgC,mBAANA,EAUhF,SAASE,EAAUC,KAAUC,GACzB,GAAa,MAATD,EACA,OAAOrB,EAEX,MAAMuB,EAAQF,EAAMD,aAAaE,GACjC,OAAOC,EAAMC,YAAc,IAAMD,EAAMC,cAAgBD,EAO3D,SAASE,EAAoBC,EAAWL,EAAOM,GAC3CD,EAAUE,GAAGC,WAAWC,KAAKV,EAAUC,EAAOM,IAuDlD,SAASI,EAAcC,GACnB,OAAgB,MAATA,EAAgB,GAAKA,EAWhC,MAAMC,EAA8B,oBAAXC,OACzB,IAAIC,EAAMF,EACJ,IAAMC,OAAOE,YAAYD,MACzB,IAAME,KAAKF,MACbG,EAAML,EAAYM,GAAMC,sBAAsBD,GAAMvC,EASxD,MAAMyC,EAAQ,IAAIC,IAClB,SAASC,EAAUR,GACfM,EAAM3B,QAAQ8B,IACLA,EAAKC,EAAEV,KACRM,EAAMK,OAAOF,GACbA,EAAKG,OAGM,IAAfN,EAAMO,MACNV,EAAIK,GAYZ,SAASM,EAAKtB,GACV,IAAIiB,EAGJ,OAFmB,IAAfH,EAAMO,MACNV,EAAIK,GACD,CACHO,QAAS,IAAIC,QAAQC,IACjBX,EAAMY,IAAIT,EAAO,CAAEC,EAAGlB,EAAUoB,EAAGK,MAEvCE,QACIb,EAAMK,OAAOF,KAKzB,SAASW,EAAOC,EAAQC,GACpBD,EAAOE,YAAYD,GAEvB,SAASE,EAAOH,EAAQC,EAAMG,GAC1BJ,EAAOK,aAAaJ,EAAMG,GAAU,MAExC,SAASE,EAAOL,GACZA,EAAKM,WAAWC,YAAYP,GAEhC,SAASQ,EAAaC,EAAYC,GAC9B,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAWG,OAAQD,GAAK,EACpCF,EAAWE,IACXF,EAAWE,GAAGE,EAAEH,GAG5B,SAASI,EAAQC,GACb,OAAOC,SAASC,cAAcF,GAiBlC,SAASG,EAAYH,GACjB,OAAOC,SAASG,gBAAgB,6BAA8BJ,GAElE,SAASK,EAAKC,GACV,OAAOL,SAASM,eAAeD,GAEnC,SAASE,IACL,OAAOH,EAAK,KAKhB,SAASI,EAAOxB,EAAMyB,EAAOC,EAASC,GAElC,OADA3B,EAAK4B,iBAAiBH,EAAOC,EAASC,GAC/B,IAAM3B,EAAK6B,oBAAoBJ,EAAOC,EAASC,GAuB1D,SAASG,EAAK9B,EAAM+B,EAAWxD,GACd,MAATA,EACAyB,EAAKgC,gBAAgBD,GAChB/B,EAAKiC,aAAaF,KAAexD,GACtCyB,EAAKkC,aAAaH,EAAWxD,GA2GrC,SAAS4D,EAAUnC,EAAMoC,EAAK7D,EAAO8D,GACjCrC,EAAKsC,MAAMC,YAAYH,EAAK7D,EAAO8D,EAAY,YAAc,IAEjE,SAASG,EAAcC,EAAQlE,GAC3B,IAAK,IAAIoC,EAAI,EAAGA,EAAI8B,EAAOd,QAAQf,OAAQD,GAAK,EAAG,CAC/C,MAAM+B,EAASD,EAAOd,QAAQhB,GAC9B,GAAI+B,EAAOC,UAAYpE,EAEnB,YADAmE,EAAOE,UAAW,IAW9B,SAASC,EAAaJ,GAClB,MAAMK,EAAkBL,EAAOM,cAAc,aAAeN,EAAOd,QAAQ,GAC3E,OAAOmB,GAAmBA,EAAgBH,QAyM9C,IAAIK,EACJ,SAASC,EAAsBhF,GAC3B+E,EAAoB/E,EAExB,SAASiF,IACL,IAAKF,EACD,MAAM,IAAIG,MAAM,oDACpB,OAAOH,EA4CX,MAAMI,EAAmB,GAEnBC,EAAoB,GACpBC,EAAmB,GACnBC,EAAkB,GAClBC,EAAmB9D,QAAQ+D,UACjC,IAAIC,GAAmB,EAWvB,SAASC,EAAoB5G,GACzBuG,EAAiBjF,KAAKtB,GAK1B,IAAI6G,GAAW,EACf,MAAMC,EAAiB,IAAI5E,IAC3B,SAAS6E,IACL,IAAIF,EAAJ,CAEAA,GAAW,EACX,EAAG,CAGC,IAAK,IAAIjD,EAAI,EAAGA,EAAIyC,EAAiBxC,OAAQD,GAAK,EAAG,CACjD,MAAM1C,EAAYmF,EAAiBzC,GACnCsC,EAAsBhF,GACtB8F,EAAO9F,EAAUE,IAGrB,IADAiF,EAAiBxC,OAAS,EACnByC,EAAkBzC,QACrByC,EAAkBW,KAAlBX,GAIJ,IAAK,IAAI1C,EAAI,EAAGA,EAAI2C,EAAiB1C,OAAQD,GAAK,EAAG,CACjD,MAAMzC,EAAWoF,EAAiB3C,GAC7BkD,EAAeI,IAAI/F,KAEpB2F,EAAejE,IAAI1B,GACnBA,KAGRoF,EAAiB1C,OAAS,QACrBwC,EAAiBxC,QAC1B,KAAO2C,EAAgB3C,QACnB2C,EAAgBS,KAAhBT,GAEJG,GAAmB,EACnBE,GAAW,EACXC,EAAeK,SAEnB,SAASH,EAAO5F,GACZ,GAAoB,OAAhBA,EAAGgG,SAAmB,CACtBhG,EAAG4F,SACH5G,EAAQgB,EAAGiG,eACX,MAAMC,EAAQlG,EAAGkG,MACjBlG,EAAGkG,MAAQ,EAAE,GACblG,EAAGgG,UAAYhG,EAAGgG,SAASG,EAAEnG,EAAGoG,IAAKF,GACrClG,EAAGqG,aAAanH,QAAQsG,IAiBhC,MAAMc,EAAW,IAAIxF,IACrB,IAAIyF,EACJ,SAASC,IACLD,EAAS,CACLE,EAAG,EACHxF,EAAG,GACHkF,EAAGI,GAGX,SAASG,IACAH,EAAOE,GACRzH,EAAQuH,EAAOtF,GAEnBsF,EAASA,EAAOJ,EAEpB,SAASQ,EAAcC,EAAOC,GACtBD,GAASA,EAAMpE,IACf8D,EAASpF,OAAO0F,GAChBA,EAAMpE,EAAEqE,IAGhB,SAASC,EAAeF,EAAOC,EAAO3E,EAAQnC,GAC1C,GAAI6G,GAASA,EAAMG,EAAG,CAClB,GAAIT,EAASR,IAAIc,GACb,OACJN,EAAS7E,IAAImF,GACbL,EAAOtF,EAAEf,KAAK,KACVoG,EAASpF,OAAO0F,GACZ7G,IACImC,GACA0E,EAAMlE,EAAE,GACZ3C,OAGR6G,EAAMG,EAAEF,IAsShB,MAAMG,EAA6B,oBAAX1G,OAAyBA,OAAS2G,OA6R1D,SAASC,EAAiBN,GACtBA,GAASA,EAAM3F,IAKnB,SAASkG,EAAgBrH,EAAW8B,EAAQI,GACxC,MAAMgE,SAAEA,EAAQoB,SAAEA,EAAQnH,WAAEA,EAAUoG,aAAEA,GAAiBvG,EAAUE,GACnEgG,GAAYA,EAASqB,EAAEzF,EAAQI,GAE/BwD,EAAoB,KAChB,MAAM8B,EAAiBF,EAASG,IAAI5I,GAAK6I,OAAOrI,GAC5Cc,EACAA,EAAWC,QAAQoH,GAKnBtI,EAAQsI,GAEZxH,EAAUE,GAAGoH,SAAW,KAE5Bf,EAAanH,QAAQsG,GAEzB,SAASiC,EAAkB3H,EAAWyC,GAClC,MAAMvC,EAAKF,EAAUE,GACD,OAAhBA,EAAGgG,WACHhH,EAAQgB,EAAGC,YACXD,EAAGgG,UAAYhG,EAAGgG,SAAStD,EAAEH,GAG7BvC,EAAGC,WAAaD,EAAGgG,SAAW,KAC9BhG,EAAGoG,IAAM,IAGjB,SAASsB,GAAW5H,EAAW0C,IACI,IAA3B1C,EAAUE,GAAGkG,MAAM,KACnBjB,EAAiB/E,KAAKJ,GAttBrByF,IACDA,GAAmB,EACnBF,EAAiBsC,KAAKhC,IAstBtB7F,EAAUE,GAAGkG,MAAM0B,KAAK,IAE5B9H,EAAUE,GAAGkG,MAAO1D,EAAI,GAAM,IAAO,GAAMA,EAAI,GAEnD,SAASqF,GAAK/H,EAAW0D,EAASsE,EAAUC,EAAiBC,EAAWC,EAAO/B,EAAQ,EAAE,IACrF,MAAMgC,EAAmBrD,EACzBC,EAAsBhF,GACtB,MAAMqI,EAAc3E,EAAQyE,OAAS,GAC/BjI,EAAKF,EAAUE,GAAK,CACtBgG,SAAU,KACVI,IAAK,KAEL6B,MAAAA,EACArC,OAAQxH,EACR4J,UAAAA,EACAI,MAAOvJ,IAEPuI,SAAU,GACVnH,WAAY,GACZgG,cAAe,GACfI,aAAc,GACdgC,QAAS,IAAIC,IAAIJ,EAAmBA,EAAiBlI,GAAGqI,QAAU,IAElE3I,UAAWb,IACXqH,MAAAA,GAEJ,IAAIqC,GAAQ,EAkBZ,GAjBAvI,EAAGoG,IAAM0B,EACHA,EAAShI,EAAWqI,EAAa,CAAC3F,EAAGgG,KAAQC,KAC3C,MAAMrI,EAAQqI,EAAKhG,OAASgG,EAAK,GAAKD,EAOtC,OANIxI,EAAGoG,KAAO4B,EAAUhI,EAAGoG,IAAI5D,GAAIxC,EAAGoG,IAAI5D,GAAKpC,KACvCJ,EAAGoI,MAAM5F,IACTxC,EAAGoI,MAAM5F,GAAGpC,GACZmI,GACAb,GAAW5H,EAAW0C,IAEvBgG,IAET,GACNxI,EAAG4F,SACH2C,GAAQ,EACRvJ,EAAQgB,EAAGiG,eAEXjG,EAAGgG,WAAW+B,GAAkBA,EAAgB/H,EAAGoG,KAC/C5C,EAAQ5B,OAAQ,CAChB,GAAI4B,EAAQkF,QAAS,CACjB,MAAMC,EAnlClB,SAAkBhG,GACd,OAAOiG,MAAMC,KAAKlG,EAAQmG,YAklCJC,CAASvF,EAAQ5B,QAE/B5B,EAAGgG,UAAYhG,EAAGgG,SAASgD,EAAEL,GAC7BA,EAAMzJ,QAAQgD,QAIdlC,EAAGgG,UAAYhG,EAAGgG,SAAS/E,IAE3BuC,EAAQyF,OACRtC,EAAc7G,EAAUE,GAAGgG,UAC/BmB,EAAgBrH,EAAW0D,EAAQ5B,OAAQ4B,EAAQxB,QACnD2D,IAEJb,EAAsBoD,GAsC1B,MAAMgB,GACFxH,WACI+F,EAAkB0B,KAAM,GACxBA,KAAKC,SAAWhL,EAEpBsD,IAAI2H,EAAMtJ,GACN,MAAML,EAAayJ,KAAKnJ,GAAGN,UAAU2J,KAAUF,KAAKnJ,GAAGN,UAAU2J,GAAQ,IAEzE,OADA3J,EAAUQ,KAAKH,GACR,KACH,MAAMuJ,EAAQ5J,EAAU6J,QAAQxJ,IACjB,IAAXuJ,GACA5J,EAAU8J,OAAOF,EAAO,IAGpC5H,SCz7CJ,MAAM+H,GAAmB,GAgBzB,SAASC,GAAStJ,EAAOuJ,EAAQvL,GAC7B,IAAIwL,EACJ,MAAMC,EAAc,GACpB,SAASC,EAAIC,GACT,GAAI1K,EAAee,EAAO2J,KACtB3J,EAAQ2J,EACJH,GAAM,CACN,MAAMI,GAAaP,GAAiBhH,OACpC,IAAK,IAAID,EAAI,EAAGA,EAAIqH,EAAYpH,OAAQD,GAAK,EAAG,CAC5C,MAAMyH,EAAIJ,EAAYrH,GACtByH,EAAE,KACFR,GAAiBvJ,KAAK+J,EAAG7J,GAE7B,GAAI4J,EAAW,CACX,IAAK,IAAIxH,EAAI,EAAGA,EAAIiH,GAAiBhH,OAAQD,GAAK,EAC9CiH,GAAiBjH,GAAG,GAAGiH,GAAiBjH,EAAI,IAEhDiH,GAAiBhH,OAAS,IA0B1C,MAAO,CAAEqH,IAAAA,EAAKlE,OArBd,SAAgBhH,GACZkL,EAAIlL,EAAGwB,KAoBWZ,UAlBtB,SAAmBb,EAAKuL,EAAa9L,GACjC,MAAM+L,EAAa,CAACxL,EAAKuL,GAMzB,OALAL,EAAY3J,KAAKiK,GACU,IAAvBN,EAAYpH,SACZmH,EAAOD,EAAMG,IAAQ1L,GAEzBO,EAAIyB,GACG,KACH,MAAMkJ,EAAQO,EAAYN,QAAQY,IACnB,IAAXb,GACAO,EAAYL,OAAOF,EAAO,GAEH,IAAvBO,EAAYpH,SACZmH,IACAA,EAAO,SCzDhB,MAAMQ,GAASV,IAAS,GAClBW,GAASX,IAAS,GAClBY,GAASZ,IAAS,GAClBa,GAAab,GAAS,MACtBc,GAAQd,GAAS,MACjBe,GAASf,GAAS,KAClBgB,GAAQhB,GAAS,GACjBiB,GAAOjB,GAAS,GAChBkB,GAAclB,GAAS,MACvBmB,GAAenB,GAAS,KACxBoB,GAAkBpB,IAAS,GAC3BqB,GAAWrB,GAAS,CAACpL,EAAE,EAAE0M,EAAE,IAC3BC,GAAiBvB,GAAS,CAACpL,EAAE,EAAE0M,EAAE,IACjCE,GAAgBxB,GAAS,GACzByB,GAAgBzB,GAAS,CAACpL,EAAE,EAAE0M,EAAE,IAChCI,GAAc1B,GAAS,CAACpL,EAAE,EAAE0M,EAAE,IAC9BK,GAAiB3B,GAAS,CAACpL,EAAE,EAAE0M,EAAE,IACjCM,GAAoB5B,GAAS,CAACpL,EAAE,EAAE0M,EAAE,IACpCO,GAAW7B,GAAS,CAACpL,EAAE,EAAE0M,EAAE,IAE3BQ,GAAiB9B,IAAS,GAC1B+B,GAAY/B,IAAU,IAGtBgC,GAAQhC,IAAS,GACjBiC,GAAajC,GAAS,CAC/BgC,OAAM,EACNE,KAAK,EACLC,KAAK,QAEIC,GAAiBpC,GAAS,QAC1BqC,GAAWrC,GAAS,MACpBsC,GAAQtC,GAAS,OACjBuC,GAAYvC,GAAS,SACrBwC,GAAaxC,GAAS,IACtByC,GAAUzC,GAAS,GACnB0C,GAAa1C,GAAS,MAEtB2C,GAAU3C,GAAS,MACnB4C,GAAU5C,GAAS,MClChC,SAAS6C,GAAUC,GACf,MAAMvC,EAAI,UACV,OAAKuC,GAAK,GAAK,EACGA,EAAIA,IAAMvC,EAAI,GAAKuC,EAAIvC,GAA9B,GACJ,KAAQuC,GAAK,GAAKA,IAAMvC,EAAI,GAAKuC,EAAIvC,GAAK,GAMrD,SAASwC,GAAQD,GACb,MAAMvC,EAAI,QACV,QAASuC,EAAIA,IAAMvC,EAAI,GAAKuC,EAAIvC,GAAK,EA+GzC,SAASyC,GAAUF,GACf,OAAQ,IAAOG,KAAKC,IAAID,KAAKE,GAAKL,GAAK,GC9H3C,SAASM,GAAQC,GACb,MAA+C,kBAAxCjO,OAAOkO,UAAUC,SAASC,KAAKH,GAuC1C,SAASI,GAAO/M,EAAOgN,EAAO,IAC1B,MAAM3N,EAAQiK,GAAStJ,IACjBiN,UAAEA,EAAY,IAAIC,QAAEA,EAAU,GAAGC,UAAEA,EAAY,KAASH,EAC9D,IAAII,EACAxM,EACAyM,EACAC,EAAatN,EACbuN,EAAevN,EACfwN,EAAW,EACXC,EAAyB,EACzBC,GAAc,EAClB,SAAShE,EAAIC,EAAWqD,EAAO,IAC3BO,EAAe5D,EACf,MAAMgE,EAAQN,EAAgB,GAC9B,GAAa,MAATrN,GAAiBgN,EAAKY,MAASb,EAAOE,WAAa,GAAKF,EAAOG,SAAW,EAK1E,OAJAQ,GAAc,EACdN,EAAYjN,IACZmN,EAAa3D,EACbtK,EAAMqK,IAAI1J,EAAQuN,GACXpM,QAAQ+D,UAEd,GAAI8H,EAAKa,KAAM,CAChB,MAAMC,GAAqB,IAAdd,EAAKa,KAAgB,IAAMb,EAAKa,KAC7CJ,EAAyB,GAAY,GAAPK,GAC9BN,EAAW,EA2Bf,OAzBK5M,IACDwM,EAAYjN,IACZuN,GAAc,EACd9M,EAAOK,EAAKd,IACR,GAAIuN,EAGA,OAFAA,GAAc,EACd9M,EAAO,MACA,EAEX4M,EAAWjB,KAAKwB,IAAIP,EAAWC,EAAwB,GACvD,MAAMzH,EAAM,CACRwH,SAAAA,EACAR,KAAMD,EACNiB,SAAS,EACTC,GAAwB,IAAnB9N,EAAMiN,GAAkB,KAE3Bc,EA9EtB,SAASC,EAAYnI,EAAKsH,EAAYc,EAAeb,GACjD,GAA6B,iBAAlBa,GAA8B1B,GAAQ0B,GAAgB,CAE7D,MAAMC,EAAQd,EAAea,EAEvBE,GAAYF,EAAgBd,IAAetH,EAAIiI,IAAM,EAAI,IAIzD3L,GAAKgM,GAHItI,EAAIgH,KAAKC,UAAYoB,EACrBrI,EAAIgH,KAAKE,QAAUoB,GACOtI,EAAIwH,UACPxH,EAAIiI,GAC1C,OAAI1B,KAAKgC,IAAIjM,GAAK0D,EAAIgH,KAAKG,WAAaZ,KAAKgC,IAAIF,GAASrI,EAAIgH,KAAKG,UACxDI,GAGPvH,EAAIgI,SAAU,EAEPtB,GAAQ0B,GACX,IAAI/N,KAAK+N,EAAcI,UAAYlM,GAAK8L,EAAgB9L,GAG/D,GAAIkG,MAAMiG,QAAQL,GAEnB,OAAOA,EAAcjH,IAAI,CAACuH,EAAGtM,IAAM+L,EAAYnI,EAAKsH,EAAWlL,GAAIgM,EAAchM,GAAImL,EAAanL,KAEjG,GAA6B,iBAAlBgM,EAA4B,CACxC,MAAMF,EAAa,GACnB,IAAK,MAAM5P,KAAK8P,EAEZF,EAAW5P,GAAK6P,EAAYnI,EAAKsH,EAAWhP,GAAI8P,EAAc9P,GAAIiP,EAAajP,IAEnF,OAAO4P,EAGP,MAAM,IAAItJ,MAAM,wBAAwBwJ,YA6CbD,CAAYnI,EAAKsH,EAAYtN,EAAOuN,GAMvD,OALAH,EAAYjN,EACZmN,EAAatN,EACbX,EAAMqK,IAAI1J,EAAQkO,GACdlI,EAAIgI,UACJpN,EAAO,OACHoF,EAAIgI,WAGb,IAAI7M,QAAQwN,IACf/N,EAAKM,QAAQqG,KAAK,KACVoG,IAAUN,GACVsB,QAIhB,MAAM5B,EAAS,CACXrD,IAAAA,EACAlE,OAAQ,CAAChH,EAAIwO,IAAStD,EAAIlL,EAAG+O,EAAcvN,GAAQgN,GACnD5N,UAAWC,EAAMD,UACjB6N,UAAAA,EACAC,QAAAA,EACAC,UAAAA,GAEJ,OAAOJ,EAGX,SAAS6B,GAAiB1P,EAAGC,GACzB,GAAID,IAAMC,GAAKD,GAAMA,EACjB,MAAO,IAAMA,EACjB,MAAM+J,SAAc/J,EACpB,GAAI+J,WAAgB9J,GAAKqJ,MAAMiG,QAAQvP,KAAOsJ,MAAMiG,QAAQtP,GACxD,MAAM,IAAIyF,MAAM,+CAEpB,GAAI4D,MAAMiG,QAAQvP,GAAI,CAClB,MAAM2P,EAAM1P,EAAEgI,IAAI,CAAC2H,EAAI1M,IACZwM,GAAiB1P,EAAEkD,GAAI0M,IAElC,OAAO1C,GAAKyC,EAAI1H,IAAI3I,GAAMA,EAAG4N,IAEjC,GAAa,WAATnD,EAAmB,CACnB,IAAK/J,IAAMC,EACP,MAAM,IAAIyF,MAAM,yBACpB,GAAI8H,GAAQxN,IAAMwN,GAAQvN,GAAI,CAC1BD,EAAIA,EAAEsP,UAEN,MAAMH,GADNlP,EAAIA,EAAEqP,WACYtP,EAClB,OAAOkN,GAAK,IAAI/L,KAAKnB,EAAIkN,EAAIiC,GAEjC,MAAMU,EAAOrQ,OAAOqQ,KAAK5P,GACnB6P,EAAgB,GAItB,OAHAD,EAAKjQ,QAAQ+E,IACTmL,EAAcnL,GAAO+K,GAAiB1P,EAAE2E,GAAM1E,EAAE0E,MAE7CuI,IACH,MAAM6C,EAAS,GAIf,OAHAF,EAAKjQ,QAAQ+E,IACToL,EAAOpL,GAAOmL,EAAcnL,GAAKuI,KAE9B6C,GAGf,GAAa,WAAThG,EAAmB,CACnB,MAAMoF,EAAQlP,EAAID,EAClB,OAAOkN,GAAKlN,EAAIkN,EAAIiC,EAExB,MAAM,IAAIzJ,MAAM,sBAAsBqE,YAE1C,SAASiG,GAAQlP,EAAOmP,EAAW,IAC/B,MAAM9P,EAAQiK,GAAStJ,GACvB,IAAIY,EACA2M,EAAevN,EACnB,SAAS0J,EAAIC,EAAWqD,GACpB,GAAa,MAAThN,EAEA,OADAX,EAAMqK,IAAI1J,EAAQ2J,GACXxI,QAAQ+D,UAEnBqI,EAAe5D,EACf,IAAIyF,EAAgBxO,EAChByO,GAAU,GACVC,MAAEA,EAAQ,EAACC,SAAEA,EAAW,IAAGC,OAAEA,EAASC,EAAMC,YAAEA,EAAcd,IAAqBzQ,EAAOA,EAAO,GAAIgR,GAAWnC,GAClH,MAAMzD,EAAQpJ,IAAQmP,EACtB,IAAI9Q,EAuBJ,OAtBAoC,EAAOK,EAAKd,IACR,GAAIA,EAAMoJ,EACN,OAAO,EACN8F,IACD7Q,EAAKkR,EAAY1P,EAAO2J,GACA,mBAAb4F,IACPA,EAAWA,EAASvP,EAAO2J,IAC/B0F,GAAU,GAEVD,IACAA,EAAcO,QACdP,EAAgB,MAEpB,MAAMQ,EAAUzP,EAAMoJ,EACtB,OAAIqG,EAAUL,GACVlQ,EAAMqK,IAAI1J,EAAQ2J,IACX,IAGXtK,EAAMqK,IAAI1J,EAAQxB,EAAGgR,EAAOI,EAAUL,MAC/B,KAEJ3O,EAAKM,QAEhB,MAAO,CACHwI,IAAAA,EACAlE,OAAQ,CAAChH,EAAIwO,IAAStD,EAAIlL,EAAG+O,EAAcvN,GAAQgN,GACnD5N,UAAWC,EAAMD,WC1LlB,SAASyQ,GAAU7P,EAAO8P,GAC7B,OAAOvD,KAAKwD,IAAIxD,KAAKwB,IAAI/N,EAAO8P,EAAYC,KAAMD,EAAY/B,KAelE,SAASiC,GAAYC,EAAMC,GACvB,OAAOD,EAAKE,UAAU/I,OAAQgJ,GAAaA,EAASF,OAASA,GAAO,GAIxE,SAASG,GAAaJ,EAAMK,GACxB,MAAMH,EAAY,GAUlB,OATIG,EACFA,EAAMxR,QAASoR,IACbC,EAAUD,GAAQF,GAAYC,EAAMC,KAGtCD,EAAKE,UAAUrR,QAASsR,IACtBD,EAAUC,EAASF,MAAQF,GAAYC,EAAMG,EAASF,QAGnDC,EAaT,IAAII,GAEC,SAASC,GAAOP,EAAMQ,GAEzB,IAAKF,GAAyC,OAAvBA,GAAiBN,EAAaA,EAErD,MAAME,EAAYE,GAAaJ,GACzBS,EAAgBL,GAAaE,IAC7BI,EAAkBR,EAExBzR,OAAOqQ,KAAKoB,GAAWrR,QAASoR,IAC9B,MAAMU,EAAUF,EAAcR,GAAMW,SAC9BC,EAAYH,EAAgBT,GAAMW,SAClCE,EAAMZ,EAAUD,GAAMW,SAE5BC,EAAU5S,EAnEK,KAmEA0S,EAAQ1S,EAAI6S,EAAI7S,GAAmB6S,EAAI7S,EACtD4S,EAAUlG,EApEK,KAoEAgG,EAAQhG,EAAImG,EAAInG,GAAmBmG,EAAInG,IAGxD,MAAMoG,EA7BV,SAA8Bb,GAC1B,MAAMF,EAAO,CAAEE,UAAW,IAI1B,OAHAzR,OAAOqQ,KAAKoB,GAAWrR,QAASoR,IAC9BD,EAAKE,UAAUrQ,KAAKqQ,EAAUD,MAEzBD,EAwBYgB,CAAqBN,GAGxC,OAFAK,EAAWE,MAAQjB,EAAKiB,MACxBX,GAAiBS,EACVA,EC1EJ,MAAMG,GAAM,IAAIC,KAAKC,YACfC,GAASH,GAAII,MAAQ,IAAIH,KAAKI,QAAQF,MAEtCG,GAAe,IAAIL,KAAKI,QAAQE,MAAMN,KAAKO,OAAOC,cAClDC,GAAc,IAAIT,KAAKI,QAAQE,MAAMN,KAAKO,OAAOG,aACjDC,GAAa,IAAIX,KAAKI,QAAQE,MAAMN,KAAKO,OAAOK,YAChDC,GAAgB,IAAIb,KAAKI,QAAQU,MAAM,GAAE,GACzCC,GAAgB,IAAIf,KAAKI,QAAQE,MAAMO,IACvCG,GAAc,IAAIhB,KAAKI,QAAQU,MAAM,GAAE,GACvCG,GAAc,IAAIjB,KAAKI,QAAQE,MAAMU,IAElDd,GAAMgB,SACFb,GACAI,GACAE,GACAI,GACAE,IAEG,MAAME,GAASnB,KAAKoB,OACtBnR,IACG,QACA,kGAEHA,IACG,cACA,6FAEHA,IACG,YACA,yGAEHA,IACG,eACA,yGAEHA,IACG,gBACA,mGAEHA,IACG,uBACA,0GAEHA,IACG,eACA,kGAEHA,IACG,sBACA,yGAEHA,IACG,gBACA,mGAEHA,IACG,uBACA,0GAEHA,IACG,8BACA,iHAEHA,IACG,oBACA,qGAEHA,IACG,2BACA,8GAEHA,IACG,2BACA,8GAEHA,IACG,gBACA,qGAEHA,IACG,uBACA,8GAEHA,IACG,gBACA,mGAEHA,IACG,uBACA,0GAEHA,IACG,gBACA,oGAEHA,IACG,uBACA,6GAEHA,IACG,OACA,0FAEHA,IACG,cACA,iGAEHA,IACG,YACA,iGAEHA,IACG,aACA,kGAEHA,IACG,oBACA,uGAEHA,IACG,mBACA,sGAEHA,IACG,WACA,8FAEHA,IACG,cACA,iGAEHA,IACG,YACA,gGAEHA,IACG,kBACA,8GAEHA,IACG,yBACA,qHAEHA,IACG,QACA,6FAEHA,IACG,eACA,sGAEHA,IACG,QACA,2FAEHA,IACG,eACA,oGAEHA,IACG,QACA,2FAEHA,IACG,eACA,oGAEHA,IACG,QACA,2FAEHA,IACG,eACA,oGAEHA,IACG,UACA,6FAEHA,IACG,iBACA,sGAMKoR,GAAY,IAAItR,QACzB,CAAC+D,EAASwN,IACNH,GAAOI,KACH,CAACH,EAAQI,KAEL1N,EAAQ0N,MAgBXC,GAAe,CAACC,EAAYC,KACrC,GAAGA,EAAU,CAET,MAdkB,EAACD,EAAYC,KACnC,IAAIC,EAAY,IAAI5B,KAAK6B,UACrBC,EAAgB,IAAI9B,KAAK+B,OAAOL,GACpCI,EAAcE,YAAchC,KAAKO,OAAOC,aACxC,IAAIyB,EAAe,IAAIjC,KAAK+B,OAAOJ,GAInC,OAHAM,EAAaD,YAAchC,KAAKO,OAAOG,YACvCkB,EAAUV,SAASY,GACnBF,EAAUV,SAASe,GACZL,GAKiBM,CAAWR,EAAYC,GAI3C,OADqB,IAAI3B,KAAK+B,OAAOL,IAKtC,SAASS,GAAsBC,EAAIC,EAAIC,GAE1C,MAAM7S,GAAK4S,EAAK,GAAKC,EACrBF,GAAME,EACND,GAAMC,EAEN,MAAMC,EAASlR,SAASC,cAAc,UAChCuF,EAAU0L,EAAOC,WAAW,MAClCD,EAAOE,MAAQF,EAAOG,OAAa,EAAJjT,EAE/B,MAAMkT,EAAW9L,EAAQ+L,qBAAqBnT,EAAGA,EAAG2S,EAAI3S,EAAGA,EAAG4S,GAO9D,OANAM,EAASE,aAAa,EAAG,uBACzBF,EAASE,aAAa,EAAG,uBAEzBhM,EAAQiM,UAAYH,EACpB9L,EAAQkM,SAAS,EAAG,EAAGR,EAAOE,MAAOF,EAAOG,QAErC1C,KAAKgD,QAAQC,WAAWV,+HCzOxBW,EAAW,eACX/C,EAAQ,cAEbgD,MAAkBnD,KAAK6B,UACvBuB,EAAK3B,GAAayB,EAASG,YAAYC,QAAQJ,EAASK,UAAUD,SACxEF,EAAG7L,SAAS,GAAGiM,KAAO,cAChBC,EAAUP,EAASG,YAAYC,QAAQb,MAAMS,EAASG,YAAYC,QAAQZ,OAE1EgB,EAAcjC,GAAayB,EAASS,aAAaL,QAAQJ,EAASU,oBAAoBN,SACtFO,EAAepC,GAAayB,EAASY,cAAcR,QAAQJ,EAASa,qBAAqBT,gBAC/FI,EAAYnM,SAAS,GAAGiM,KAAO,SAC/BK,EAAatM,SAAS,GAAGiM,KAAO,SAChCK,EAAaG,MAAQ,GAgErBb,EAAYjC,SAASkC,GACrBjD,EAAMe,SAASiC,iHA9DRc,EAAaC,EAAgBT,OAC5BL,EAAGX,MAAQwB,SACXb,EAAGe,MAAM3K,EAAI4J,EAAGe,MAAMrX,WAEtBsW,EAAGV,OAASwB,SACZd,EAAGe,MAAMrX,EAAIsW,EAAGe,MAAM3K,MAG1B4J,EAAG3D,SAASnH,IACE,GAAb2L,EAA2B,GAATb,EAAGX,MACP,GAAdyB,EAA6B,GAAVd,EAAGV,YAGvBgB,EAAYjB,MAAsB,GAAbwB,EAAiBC,EAA6B,GAAbD,EAAgC,GAAdC,SACxER,EAAYS,MAAM3K,EAAIkK,EAAYS,MAAMrX,SACxC4W,EAAYjE,SAAS3S,EAAiB,GAAbmX,EAAgBC,EACtB,GAAbD,EAAoC,IAAlBP,EAAYjB,MACjB,GAAbwB,EAAoC,GAAlBP,EAAYjB,aAEhC2B,EAAmBC,EAAa7K,EAAwB,IAApB6K,EAAa3B,OAAagB,EAAYhB,cAC9EgB,EAAYjE,SAASjG,EAAK4K,EAAiB,GAAMA,EAAmB,UAEpEP,EAAapB,MAAsB,GAAbwB,EAAiBC,EAA6B,IAAbD,EAAiC,IAAdC,SAC1EL,EAAaM,MAAM3K,EAAIkK,EAAYS,MAAMrX,SACzC+W,EAAapE,SAAS3S,EAAmB,GAAbmX,EAAiBC,EAC1B,GAAbD,EAAqC,IAAnBJ,EAAapB,MAClB,GAAbwB,EAAqC,IAAnBJ,EAAapB,aACrCoB,EAAapE,SAASjG,EAA6B,IAAzBkK,EAAYjE,SAASjG,KAE5C8K,GAAQ,UACPT,EAAaU,SAAU,SACvBb,EAAYM,MAAQ,OAErBM,GAAU,KAAOA,EAAS,SACzBZ,EAAYjB,MAAQwB,EAAe,WACnCP,EAAYS,MAAM3K,EAAIkK,EAAYS,MAAMrX,SACxC4W,EAAYjE,SAAS3S,EAAI,UACzB4W,EAAYM,MAAQ,UAChBI,EAAmBC,EAAa7K,EAAwB,IAApB6K,EAAa3B,OAAagB,EAAYhB,WAC9EgB,EAAYjE,SAASjG,EAAK4K,EAAiB,GAAMA,EAAmB,UACpEP,EAAaU,SAAU,QAExBD,EAAS,SACRZ,EAAYjB,MAAQwB,EAAe,UACnCP,EAAYS,MAAM3K,EAAIkK,EAAYS,MAAMrX,SACxC4W,EAAYjE,SAAS3S,EAAI,UACzB4W,EAAYM,MAAQ,UAChBI,EAAmBC,EAAa7K,EAAwB,IAApB6K,EAAa3B,OAAagB,EAAYhB,WAC9EgB,EAAYjE,SAASjG,EAAK4K,EAAiB,GAAMA,EAAmB,UACpEP,EAAaU,SAAU,KAG3B1K,GAAevB,KACXxL,EAAE4W,EAAY5W,EACd0M,EAAEkK,EAAYlK,EACdiJ,MAAMiB,EAAYjB,MAClBC,OAAOgB,EAAYhB,6MCvEhBQ,EAAW,eACX/C,EAAQ,cAEbqE,EAAQ/C,GAAayB,EAASsB,MAAMlB,QAAQJ,EAASuB,aAAanB,SAClEoB,EAAaxB,EAASG,YAAYC,QAAQb,MAAMS,EAASG,YAAYC,QAAQZ,cACnF8B,EAAMjN,SAAS,GAAGiM,KAAO,QACzBrD,EAAMe,SAASsD,8GAIRP,EAAaC,EAAgBQ,OAC5BF,EAAM/B,MAAQwB,SACdO,EAAML,MAAM3K,EAAIgL,EAAML,MAAMrX,WAE5B0X,EAAM9B,OAASwB,SACfM,EAAML,MAAMrX,EAAI0X,EAAML,MAAM3K,UAEhCgL,EAAM1X,EAAiC,IAA5BmX,EAAeO,EAAM/B,cAChC+B,EAAMhL,EAAI6K,EAAa7K,EAAwB,IAApB6K,EAAa3B,2OCjBjCQ,EAAW,eACX/C,EAAQ,cAEbwE,EAAe7G,GAAQ,GACzBK,SAAU,IACVC,OAAQlD,+BAEN0J,EAAa9G,GAAQ,GACvBK,SAAU,KACVC,OAAQrD,+BAIN8J,EAAQpD,GAAayB,EAAS2B,MAAMvB,QAAQJ,EAAS4B,aAAaxB,SAClEyB,EAAQtD,GAAayB,EAAS6B,MAAMzB,QAAQJ,EAAS8B,aAAa1B,SAClE2B,EAAQxD,GAAayB,EAAS+B,MAAM3B,QAAQJ,EAASgC,aAAa5B,SAElE6B,EAAQ1D,GAAayB,EAASiC,MAAM7B,QAAQJ,EAASkC,aAAa9B,SAElE+B,MAAkBrF,KAAKO,OAAO+E,WAAW,SAAU,UACzDnF,EAAMe,SAAS2D,EAAME,EAAME,EAAME,EAAME,uHAGnCF,EAAM1C,MAAQ,IAAI8C,SAClBJ,EAAMhB,MAAM3K,EAAI2L,EAAMhB,MAAMrX,SAExB0Y,EAAUlB,EAAO,IAAO,GAAK,OACjCa,EAAMrY,EAAI0Y,EAAOD,GAAUJ,EAAM1C,MAAM,KAAK,EAAEgD,UAC9CN,EAAM3L,GAAY,EAAPgM,EAAS,IAAID,KACxBF,EAAYvY,EAAW,EAAP0Y,EAASD,EAAqB,GAAZJ,EAAM1C,MACxC4C,EAAY7L,EAAI2L,EAAM3L,EACtB6L,EAAYK,YAAc,EAAE,GAAGjH,GAAUwF,EAAa,MAAOtH,IAAI,EAAEgC,IAAI,KAAK8G,EAE5E1L,GAASzB,KACLxL,EAAEqY,EAAMrY,EACR0M,EAAE2L,EAAM3L,EACRiJ,MAAM0C,EAAM1C,MACZC,OAAOyC,EAAMzC,SAGjBmC,EAAMV,OAASrX,EAAEqY,EAAMhB,MAAMrX,EAAE0M,EAAE2L,EAAMhB,MAAMrX,GAC7C+X,EAAM/X,EAAIqY,EAAMrY,EAAI0Y,EAAgB,EAAPA,GAAU,EAAEG,GACzCd,EAAMrL,EAAI,EAAIgM,EAEdT,EAAMZ,OAASrX,EAAEqY,EAAMhB,MAAMrX,EAAE0M,EAAE2L,EAAMhB,MAAMrX,GAC7CiY,EAAMjY,EAAIqY,EAAMrY,EAAW,IAAP0Y,EAAoB,EAAPA,GAAU,EAAEG,GAC7CZ,EAAMvL,EAAI2L,EAAM3L,EAAiB,IAAb2L,EAAMzC,OAE1BuC,EAAMd,OAASrX,EAAEqY,EAAMhB,MAAMrX,EAAE0M,EAAE2L,EAAMhB,MAAMrX,GAC7CmY,EAAMnY,EAAIqY,EAAMrY,EAAW,IAAP0Y,EAAoB,EAAPA,GAAU,EAAEG,GAC7CV,EAAMzL,EAAI2L,EAAM3L,EAAiB,IAAb2L,EAAMzC,OAEvBkD,GACsB,IAAlBH,GACCd,EAAarM,IAAI,GAEF,IAAhBqN,GACCf,EAAWtM,IAAI,KAGE,IAAlBmN,GACCd,EAAarM,IAAI,GAEF,IAAhBqN,GACCf,EAAWtM,IAAI,sGCtEpB,MAAMuN,GAAc,CACvB,iBACA,OAAQ,UAAW,UAAW,WAC9B,WAAY,cAAe,cAAe,eAC1C,WAAW,cAAc,cAAc,eACvC,SAAU,YAAa,YAAa,aACpC,MAAO,SAEEC,GAAS,CAClB,QACA,QACA,SACA,SACA,WACA,SACA,aACA,UACA,UACA,kBACA,kBACA,YACA,oBACA,QACA,iBACA,WACA,gBACA,eACA,aAGSC,GAAiB,CACtBC,aAAc,cACdC,iBAAkB,IAClBC,aAAc,GACdC,gBAAgB,EAChBC,kBAAmB,EACnBC,cAAe,SACfC,kBAAmB,GACnBC,kBAAmB,oUC9BhBrD,EAAW,eACX/C,EAAQ,cAEbyE,EAAa9G,GAAQ,GACvBK,SAAU,IACVC,OAAQnD,+BAGN0J,EAAe7G,GAAQ,GACzBK,SAAU,IACVC,OAAQlD,+BAQNsL,EAAgB1I,GAAQ,GAC1BK,SAAU,IACVC,OAAQnD,+BAGNwL,EAAiB3I,GAAQ,GAC3BK,SAAU,IACVC,OAAQnD,+BAGNyL,MAAe1G,KAAK6B,UAEpB8E,EAAgBlF,GAAayB,EAASyD,cAAcrD,SAC1DqD,EAAc3C,MAAQ,QAEhB4C,EAAuBnF,GACzByB,EAAS0D,qBAAqBtD,QAC9BJ,EAAS2D,4BAA4BvD,SAGnCwD,EAAoBrF,GACtByB,EAAS4D,kBAAkBxD,QAC3BJ,EAAS6D,yBAAyBzD,SAIhC0D,EAAYvF,GACdyB,EAAS+D,KAAK3D,QACdJ,EAASgE,YAAY5D,SAEzB0D,EAAUzP,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IACtC0O,EAAUzP,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IACtC0O,EAAUzP,SAAS,GAAGiM,KAAO,SAC7BwD,EAAUG,GAAG,iBACTrM,GAAQxC,IAAI0O,GACZA,EAAUzP,SAAS,GAAGiM,KAAO,WAEjCwD,EAAUG,GAAG,gBACTrM,GAAQxC,IAAI,MACZ0O,EAAUzP,SAAS,GAAGiM,KAAO,WAEjCwD,EAAUG,GAAG,mBACTtM,GAAQvC,KACJnH,QAAQ6V,EACRI,GAAG,QAEP9N,GAAgBhB,KAAI,SAEI0H,KAAKO,OAAO+E,WAAW,SAAU,SAGvD+B,EAAa5F,GACfyB,EAAS+D,KAAK3D,QACdJ,EAASgE,YAAY5D,SAEzB+D,EAAW9P,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IACvC+O,EAAW9P,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IACvC+O,EAAW9P,SAAS,GAAGiM,KAAO,SAC9B6D,EAAWF,GAAG,iBACVrM,GAAQxC,IAAI+O,QACZA,EAAW9P,SAAS,GAAGiM,KAAO,cAElC6D,EAAWF,GAAG,gBACVrM,GAAQxC,IAAI,WACZ+O,EAAW9P,SAAS,GAAGiM,KAAO,cAElC6D,EAAWF,GAAG,mBACVrM,GAAQxC,IAAI,MACZuC,GAAQvC,KACJnH,QAAQkW,EACRD,GAAG,QAEP9N,GAAgBhB,KAAI,SAEK0H,KAAKO,OAAO+E,WAAW,SAAU,SAExDgC,EAAc7F,GAChByB,EAASqE,WAAWjE,QACpBJ,EAASsE,kBAAkBlE,SAE/BgE,EAAY/P,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IACxCgP,EAAY/P,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IAKxCgP,EAAYH,GAAG,iBACXjN,GAAM5B,KAAKmP,KAEfH,EAAYH,GAAG,iBACXrM,GAAQxC,IAAIgP,GACZA,EAAY/P,SAAS,GAAGiM,KAAO,WAEnC8D,EAAYH,GAAG,gBACXrM,GAAQxC,IAAI,MACZgP,EAAY/P,SAAS,GAAGiM,KAAQiE,EAAU,SAAW,iBAEnDC,MAAwB1H,KAAKO,OAAO+E,WAAW,SAAU,GAEzDqC,EAAgBlG,GAClByB,EAASyE,cAAcrE,QACvBJ,EAAS0E,qBAAqBtE,SAG5BuE,MAA0B7H,KAAKO,OAAO+E,WAAW,SAAU,KACjEuC,EAAoBC,SAAW,IAAM,EAAG,IAElBrG,GAClByB,EAAS6E,cAAczE,QACvBJ,EAAS8E,qBAAqB1E,SAEpB/L,SAAS,GAAGiM,KAAO,cAE3ByE,EAAgBxG,GAClByB,EAAS+E,cAAc3E,QACvBJ,EAASgF,qBAAqB5E,SAG5B6E,MAAyBnI,KAAKO,OAAO+E,WAAW,SAAU,KAChE6C,EAAmBL,SAAW,IAAM,EAAG,UAEjCM,EAAU3G,GACZyB,EAASkF,QAAQ9E,QACjBJ,EAASmF,eAAe/E,SAE5B8E,EAAQ7Q,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IACpC8P,EAAQ7Q,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IACpC8P,EAAQ7Q,SAAS,GAAGiM,KAAO,aAGvB8E,MAAetI,KAAKO,OAAOgI,iBAAiB,SAAU,GAAIzB,UAC9DwB,EAASR,SAAW,IAAM,GAAI,IAC9BQ,EAASE,YAAc,IAEvB9B,EAASxF,SACLyF,EACAsB,EACAN,EACAb,EACAsB,EACApB,EACAK,EACAC,EACAa,EACAN,EACAH,GAGJvH,EAAMe,SAASwF,EAAS4B,GA2KxBzP,GAAOP,KAAI,yHA7ORgP,EAAY/P,SAAS,GAAGiM,KAAQiE,EAAU,SAAW,kCACrDH,EAAY/P,SAAS,GAAG+L,QAAWmE,GAAUgB,EAAWvF,EAASwF,UAAUpF,QAAUJ,EAASqE,WAAWjE,iCACzGgE,EAAY/P,SAAS,GAAG+L,QAAWmE,GAAUgB,EAAWvF,EAASyF,iBAAiBrF,QAAUJ,EAASsE,kBAAkBlE,wCAoEtHsD,EAAqBpN,EAAImN,EAAcjE,OAAOkE,EAAqBlE,cACnEkE,EAAqB9Z,EAAwB,IAApB6Z,EAAclE,aAEvCqE,EAAkB3C,OAASrX,EAAE,GAAG0M,EAAE,WAClCsN,EAAkBtN,EAAyB,IAArBmN,EAAcjE,cACpCoE,EAAkBha,EAAwB,IAApB6Z,EAAclE,cAEpCwF,EAAc9D,UAAYnE,KAAK4I,MAAM,GAAI,YACzCX,EAAcnb,EAAI6Z,EAAclE,OAAO,KAAa,IAAIkD,WACxDsC,EAAczO,EAAyB,IAArBmN,EAAcjE,OAAWuF,EAAcvF,UAEzDyF,EAAmBrb,EAAImb,EAAcnb,EACrCqb,EAAmB3O,EAAIyO,EAAczO,EACrC2O,EAAmBzC,WAAajH,GAAU,EAAE8G,GAAQ5G,IAAI,IAAIhC,IAAI,KAAK,GAAG,GAAIgJ,QAE5EgC,EAAcxD,MAAMrX,EAAI,WACxB6a,EAAcxD,MAAM3K,EAAI,GAAG,GAAGmM,UAC9BgC,EAAc7a,EAAIga,EAAkBha,EAA0B,KAAxBga,EAAkBrE,cACxDkF,EAAcnO,EAAIsN,EAAkBtN,EAA2B,IAAzBsN,EAAkBpE,OAAWiF,EAAcjF,UAEjFmF,EAAoB/a,EAAI6a,EAAc7a,EACtC+a,EAAoBrO,EAAImO,EAAcnO,EACtCqO,EAAoBnC,WAAajH,GAAU,EAAE8G,GAAQ5G,IAAI,IAAIhC,IAAI,KAAK,GAAG,GAAIgJ,GAE7EqB,EAAU7C,OACNrX,EAAE,GAAG,GAAG+b,EACRrP,EAAE,GAAG,GAAGqP,GAEZ7B,EAAUla,EAAwB,OAApB6Z,EAAclE,MAC5BuE,EAAUxN,EAAyB,MAArBmN,EAAcjE,OAC5BsE,EAAU8B,cAAeL,EACzBzB,EAAUzC,QAAWD,EAAS,SAE9B+C,EAAWlD,OACPrX,EAAE,GAAG,GAAGic,EACRvP,EAAE,GAAG,GAAGuP,WAEZ1B,EAAWva,EAAwB,KAApB6Z,EAAclE,cAC7B4E,EAAW7N,EAAyB,MAArBmN,EAAcjE,eAC7B2E,EAAWyB,cAAeL,UAC1BpB,EAAW9C,QAAWD,EAAS,OAC/B8D,EAAQjE,OACJrX,EAAE,GAAG,IAAIic,EACTvP,EAAE,GAAG,IAAIuP,GAEbX,EAAQpE,MAAQ+E,EAChBX,EAAQ3I,UACJ3S,EAAEua,EAAWva,EACb0M,EAAE6N,EAAW7N,GAEjB4O,EAAQ7D,QAAWD,EAAS,IAE5BgD,EAAYnD,OAASrX,EAAE,GAAG0M,EAAE,IAC5B8N,EAAYxa,EAAwB,MAApB6Z,EAAclE,MAC9B6E,EAAY9N,EAAyB,MAArBmN,EAAcjE,OAC9B4E,EAAYwB,cAAeL,EAC3BnB,EAAY/C,QAAWD,EAAS,IAK7BpB,EAASyD,cAAcrD,QAAQb,MAAMS,EAASyD,cAAcrD,QAAQZ,OAASuB,EAAaC,OACzFwC,EAASjE,MAAqB,GAAbwB,SACjByC,EAASvC,MAAM3K,EAAIkN,EAASvC,MAAMrX,WAElC4Z,EAAShE,OAAuB,GAAdwB,SAClBwC,EAASvC,MAAMrX,EAAI4Z,EAASvC,MAAM3K,UAGtCkN,EAAS5Z,EAAoC,KAA/BmX,EAAeyC,EAASjE,cACtCiE,EAASlN,EAAsC,IAAjC0K,EAAgBwC,EAAShE,WAEpC4B,EAAO,UACNoC,EAASjE,MAAQwB,EAAa,UAC9ByC,EAAS5Z,EAAoC,KAA/BmX,EAAeyC,EAASjE,cACtCiE,EAASvC,MAAM3K,EAAIkN,EAASvC,MAAMrX,SAClC4Z,EAASlN,EAAkF,IAA7E0K,EAA+B,KAAfwC,EAASjE,OAAY,GAAG,GAAGgD,GAAiBiB,EAAShE,gBAGvFoE,EAAkBvP,SAAS,GAAG+L,QAAWgB,EAAO,IAAOpB,EAAS4D,kBAAkBxD,QAAUJ,EAAS8F,yBAAyB1F,WAE9H1J,GAAYtB,KACRxL,EAAE4Z,EAAS5Z,EACX0M,EAAEkN,EAASlN,EACXiJ,MAAMiE,EAASjE,MACfC,OAAOgE,EAAShE,SAGpB4F,EAASlY,OAAS0W,EAClBwB,EAAS5C,WAAajH,GAAU,EAAE8G,GAAQ5G,IAAI,GAAGhC,IAAI,iCAMlDsM,GACCpO,GAAQvC,IAAI,gCAMbmQ,IACoB,IAAhB9C,GACEf,EAAWtM,IAAI,GAEC,IAAlBmN,GACEd,EAAarM,IAAI,IAMtBmQ,IACmB,IAAhB9C,GACEf,EAAWtM,IAAI,GAEC,IAAlBmN,GACEd,EAAarM,IAAI,iDAa1B0O,EAAUkC,UAAmB,KAAK,EAAE/N,KAAKgC,IAAIgM,GAAY,KAAOxD,EAAzC,IAAwDxK,KAAKE,QACpFgM,EAAW6B,UAAyBrD,GAAY9N,QAAQqR,IAAmBvD,GAAY5U,OAAO,GAAhE,IAAsE0U,EAA5E,IAA2FxK,KAAKE,MAErHgO,OACKC,ELhDgB,EAACnY,EAAQoI,EAASoD,GAAI,GAAIgC,EAAI,MACtD,IAAI4K,EACEpY,EAAQqY,YAAY1c,EAAEqE,EAAQsR,MAAM,EADtC8G,EAEEpY,EAAQqY,YAAYhQ,EAAErI,EAAQuR,OAAO,EAEvC+G,EAAW9M,EAAIxB,KAAKE,GAGxB,IAAIqO,EAAevO,KAAKwO,MAAMJ,EAAkBhQ,EAASC,EAAG+P,EAAkBhQ,EAASzM,GAAG,GAAIqO,KAAKE,GAKnG,MAAO,CACHuO,QALJF,EAAgBA,GAAgBD,GAAYC,IAAiB,EAAKA,GAAc,EAAEvO,KAAKE,GAAKqO,EAMxFJ,QAJU7K,IAAWiL,EAAavO,KAAKE,GAAGsD,IAAMxD,KAAKgC,IAAIR,GAAKxB,KAAKgC,IAAIwB,IAAM,CAAChC,IAAI,EAAEgC,IAAI,MKqC1EkL,CAAaR,EAASlY,QAAQ2Y,GAAiBR,WAC1C,QAAhBD,EAASjC,KACRnN,GAAU3B,IAAQ,GAAGgR,EAAN,IACftC,EAAUzP,SAAS,GAAGiM,KAAO,SACP,IAAnBqF,GACCrC,EAAclO,IAAI,IAGP,QAAhB+Q,EAASjC,QACJ2C,EAAM,EAAElE,GAAY5U,OACpB+Y,EAAiBvL,GAAUtD,KAAK8O,MAAMX,EAAQS,IAAMpN,IAAI,EAAEgC,IAAI,KAClErE,GAAehC,IAAIuN,GAAYmE,SAC/B3C,EAAW9P,SAAS,GAAGiM,KAAO,YACP,IAApBuF,GACCtC,EAAenO,IAAI,SAGrB4R,IACNlD,EAAUzP,SAAS,GAAGiM,KAAO,cAC7B6D,EAAW9P,SAAS,GAAGiM,KAAO,aAG9B6F,IACsB,IAAnBR,GACCrC,EAAclO,IAAI,GAEC,IAApByQ,GACCtC,EAAenO,IAAI,oYC5UpB4K,EAAW,eACX/C,EAAQ,cAEbyE,EAAa9G,GAAQ,GACvBK,SAAU,KACVC,OAAQnD,+BAGN0J,EAAe7G,GAAQ,GACzBK,SAAU,IACVC,OAAQlD,+BAGNsL,EAAgB1I,GAAQ,GAC1BK,SAAU,IACVC,OAAQnD,+BAGNwL,EAAiB3I,GAAQ,GAC3BK,SAAU,IACVC,OAAQnD,+BAGNkP,MAAqBnK,KAAK6B,UAE1BuI,EAAO3I,GACTyB,EAASmH,gBAAgB/G,QACzBJ,EAASoH,uBAAuBhH,SAG9B0D,EAAYvF,GACdyB,EAAS+D,KAAK3D,QACdJ,EAASgE,YAAY5D,SAEzB0D,EAAUzP,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IACtC0O,EAAUzP,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IACtC0O,EAAUzP,SAAS,GAAGiM,KAAO,SAC7BwD,EAAUG,GAAG,iBACTrM,GAAQxC,IAAI0O,GACZA,EAAUzP,SAAS,GAAGiM,KAAO,WAEjCwD,EAAUG,GAAG,gBACTrM,GAAQxC,IAAI,MACZ0O,EAAUzP,SAAS,GAAGiM,KAAO,WAEjCwD,EAAUG,GAAG,mBACTtM,GAAQvC,KACJnH,QAAQ6V,EACRI,GAAG,QAEP9N,GAAgBhB,KAAI,WAGlB+O,EAAa5F,GACfyB,EAAS+D,KAAK3D,QACdJ,EAASgE,YAAY5D,SAEzB+D,EAAW9P,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IACvC+O,EAAW9P,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IACvC+O,EAAW9P,SAAS,GAAGiM,KAAO,SAC9B6D,EAAWF,GAAG,iBACVrM,GAAQxC,IAAI+O,OACZA,EAAW9P,SAAS,GAAGiM,KAAO,cAElC6D,EAAWF,GAAG,gBACVrM,GAAQxC,IAAI,UACZ+O,EAAW9P,SAAS,GAAGiM,KAAO,cAElC6D,EAAWF,GAAG,mBACVrM,GAAQxC,IAAI,MACZuC,GAAQvC,KACJnH,QAAQkW,EACRD,GAAG,QAEP9N,GAAgBhB,KAAI,WAElB8P,EAAU3G,GACZyB,EAASkF,QAAQ9E,QACjBJ,EAASmF,eAAe/E,SAE5B8E,EAAQ7Q,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IACpC8P,EAAQ7Q,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IACpC8P,EAAQ7Q,SAAS,GAAGiM,KAAO,eAGrB+G,MAAiBvK,KAAKO,OAAO+E,WAAW,SAAU,GAElDgC,EAAc7F,GAChByB,EAASqE,WAAWjE,QACpBJ,EAASsE,kBAAkBlE,gBAE/BgE,EAAY/P,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IACxCgP,EAAY/P,SAAS,GAAG/G,OAAO8H,IAAI,GAAK,IAIxCgP,EAAYH,GAAG,iBACXjN,GAAM5B,KAAKmP,KAEfH,EAAYH,GAAG,iBACXrM,GAAQxC,IAAIgP,GACZA,EAAY/P,SAAS,GAAGiM,KAAO,WAEnC8D,EAAYH,GAAG,gBACXrM,GAAQxC,IAAI,MACZgP,EAAY/P,SAAS,GAAGiM,KAAQiE,EAAU,SAAW,WAGzD0C,EAAejJ,SACXkJ,EACAhC,EACApB,EACAK,EACAC,EACAiD,GAGJpK,EAAMe,SAASiJ,oHAxBZ7C,EAAY/P,SAAS,GAAG+L,QAAWmE,GAAUgB,EAAWvF,EAASwF,UAAUpF,QAAUJ,EAASqE,WAAWjE,4BACzGgE,EAAY/P,SAAS,GAAG+L,QAAWmE,GAAUgB,EAAWvF,EAASyF,iBAAiBrF,QAAUJ,EAASsE,kBAAkBlE,2BACvHgE,EAAY/P,SAAS,GAAGiM,KAAQiE,EAAU,SAAW,8BA2BpDT,EAAU7C,OACVrX,EAAE,EAAE,GAAG+b,EACPrP,EAAE,EAAE,GAAGqP,GAEP7B,EAAUla,EAAe,MAAXsd,EAAK3H,MACnBuE,EAAUxN,EAAgB,KAAZ4Q,EAAK1H,OACnBsE,EAAU8B,cAAeL,EAEzB8B,EAAWzd,EAAIsd,EAAKtd,EAAe,GAAXsd,EAAK3H,MAC7B8H,EAAW/Q,EAAI4Q,EAAK5Q,EAAgB,GAAZ4Q,EAAK1H,OAC7B6H,EAAW7E,WAAa,GAAG,GAAGC,MAG9B0B,EAAWlD,OACPrX,EAAE,EAAE,GAAGic,EACPvP,EAAE,EAAE,GAAGuP,UAEX1B,EAAWva,EAAe,MAAXsd,EAAK3H,aACpB4E,EAAW7N,EAAgB,KAAZ4Q,EAAK1H,cACpB2E,EAAWyB,cAAeL,KAC1BL,EAAQjE,OACJrX,EAAE,GAAG,GAAGic,EACRvP,EAAE,GAAG,GAAGuP,GAEZX,EAAQpE,MAAQ+E,EAChBX,EAAQ3I,UACJ3S,EAAEua,EAAWva,EACb0M,EAAE6N,EAAW7N,GAIjB8N,EAAYxa,EAAe,KAAXsd,EAAK3H,MACrB6E,EAAY9N,EAAgB,KAAZ4Q,EAAK1H,OACrB4E,EAAYwB,cAAeL,MAG3B0B,EAAe1H,MAAQwB,EAAe,UACtCkG,EAAehG,MAAM3K,EAAI2Q,EAAehG,MAAMrX,SAC9Cqd,EAAe1K,SAAS3S,EAAI,UACxB0d,EAAkBnG,EAAa7K,EAAE6K,EAAa3B,WAClDyH,EAAe1K,SAASjG,EACnBgR,EACyD,IAAzDtG,EAAgBsG,EAAkBL,EAAezH,SACW,KAAzDwB,EAAgBsG,EAAkBL,EAAezH,QAAoC,GAAtByH,EAAezH,SAAc,EAAE+C,UAEtG0E,EAAe5F,QAAWD,EAAS,OACnCxK,GAAkBxB,KACdxL,EAAEqd,EAAerd,EACjB0M,EAAE2Q,EAAe3Q,EACjBiJ,MAAM0H,EAAe1H,MACrBC,OAAOyH,EAAezH,+BAO1BsE,EAAUkC,UAAmB,KAAK,EAAE/N,KAAKgC,IAAIgM,GAAY,KAAOxD,EAAzC,IAAwDxK,KAAKE,OACpFgM,EAAW6B,UAAyBrD,GAAY9N,QAAQqR,IAAmBvD,GAAY5U,OAAO,GAAhE,IAAsE0U,EAA5E,IAA2FxK,KAAKE,MAErHoN,IACoB,IAAhB9C,GACEf,EAAWtM,IAAI,GAEC,IAAlBmN,GACEd,EAAarM,IAAI,IAGtBmQ,IACmB,IAAhB9C,GACEf,EAAWtM,IAAI,GAEC,IAAlBmN,GACEd,EAAarM,IAAI,IAIvB+Q,GACoB,QAAhBA,EAASjC,KACRJ,EAAUzP,SAAS,GAAGiM,KAAO,SACP,IAAnBqF,GACCrC,EAAclO,IAAI,IAGP,QAAhB+Q,EAASjC,SACRC,EAAW9P,SAAS,GAAGiM,KAAO,YACP,IAApBuF,GACCtC,EAAenO,IAAI,KAGrB4R,IACNlD,EAAUzP,SAAS,GAAGiM,KAAO,aAC7B6D,EAAW9P,SAAS,GAAGiM,KAAO,aAG9B6F,IACsB,IAAnBR,GACCrC,EAAclO,IAAI,GAEC,IAApByQ,GACCtC,EAAenO,IAAI,qOCjOpB6H,EAAQ,cAEbwE,EAAe7G,GAAQ,GACzBK,SAAU,IACVC,OAAQlD,8BAGNuP,MAAmBzK,KAAKO,OAAOmK,aAAa,SAAU,IACtDC,MAAyB3K,KAAK6B,UAC9B+I,IAEA9d,EAAG,EACH0M,EAAG,EACHqR,MAAO,SACP/C,SAAS,IAAM,GAAI,IACnBpC,WAAY,IACZvN,MAAM,KAGNrL,GAAI,IACJ0M,GAAI,IACJqR,MAAO,SACP/C,SAAS,IAAM,GAAI,IACnBpC,WAAY,IACZvN,MAAM,KAGNrL,GAAI,GACJ0M,EAAG,GACHqR,MAAO,SACP/C,SAAS,EAAG,GAAI,IAChBpC,WAAY,GACZvN,MAAM,KAGNrL,EAAE,IACF0M,EAAG,GACHqR,MAAO,SACP/C,SAAS,IAAM,EAAG,GAClBpC,WAAY,IACZvN,MAAM,IAGNrL,GAAG,IACH0M,EAAG,IACHqR,MAAO,SACP/C,SAAS,IAAM,EAAG,GAClBpC,WAAY,IACZvN,MAAM,WAKZyS,EAAgBld,QAAQod,QAClBC,MAAqB/K,KAAKO,OAAO+E,WAAWwF,EAAED,MAAO,GACzDF,EAAmBzJ,SAAS6J,KAwB9B5K,EAAMe,SAASuJ,EAAaE,8EApBX,IAAZlC,EACoB,IAAlBhD,GACDd,EAAarM,IAAI,GAGE,IAAlBmN,GACDd,EAAarM,IAAI,GAGrBqS,EAAmBpT,SAAS7J,SAASod,EAAE9Z,KACrC8Z,EAAErL,SAAS3S,EAAIuX,EAAavX,EAAIuX,EAAa5B,MAAM,EAAImI,EAAgB5Z,GAAGlE,EAAIuX,EAAa5B,MAC3FqI,EAAErL,SAASjG,EAAI6K,EAAa7K,EAAI6K,EAAa3B,OAAO,EAAIkI,EAAgB5Z,GAAGwI,EAAI6K,EAAa3B,OAC5FoI,EAAEpF,WACAkF,EAAgB5Z,GAAG0U,YAAYkF,EAAgB5Z,GAAGmH,OAAO,EAAEyS,EAAgB5Z,GAAGmH,OAAOsN,GACnFhH,GAAU,EAAE8G,GAAQ5G,IAAI,EAAEhC,IAAI,KAClCmO,EAAEhD,QAAU8C,EAAgB5Z,GAAG8W,UAEjC2C,EAAa/E,WAAcpB,EAAS,IAAO,GAAGmB,EAAgB,IAAM,GAAGA,iPCkOvBlM,GAAW,EAAI,iCAC1C3E,KAAU9H,EAAE,YAAQ8H,KAAU4E,EAAE,sHAAhC5E,KAAU9H,EAAE,YAAQ8H,KAAU4E,EAAE,iWAlSnDwR,SATO7K,EAAQ,aACR8K,EAAM,QAGjBxR,GAAenB,KACPxL,EAAmBuX,EAAavX,EAAuB,IAAnBuX,EAAa5B,MACjDjJ,EAAmB6K,EAAa7K,EAAwB,GAApB6K,EAAa3B,eAInDwI,MAAkBlL,KAAKO,OAAO+E,WAAW,SAAS,GACxD4F,EAAYpD,SAAW,IAAM,EAAG,UAE1BqD,EAAkBhJ,GAAsB,EAAG,GAAGoD,EAAQ0F,EAAIG,SAAS9I,YACnE+I,EAAmBlJ,GAAsB,EAAG,GAAGoD,EAAQ0F,EAAIG,SAAS9I,YAEpEgJ,MAAwBtL,KAAKuL,UAAUC,kBAAkB,KAC7DrH,OAAO,EACP1E,UAAU,EACVyJ,UAAU,EACVuC,KAAK,EACLjI,MAAM,IAEFkI,MAAc1L,KAAKuL,UAAUI,QAAQL,GAAoBH,IAC7DS,YAAY,EACZC,MAAK,EACL7H,OACE7L,MAAO,GACP2T,IAAK,IAEP3H,OACEhM,MAAO,EACP2T,IAAK,GACLC,uBAAwB,GAE1BlB,OACE1S,MAAO,UACP2T,IAAK,WAEPE,OACE7T,MAAO,EACP2T,IAAK,EACLG,uBAAwB,GAE1BC,cACEpf,EAAG,EACH0M,EAAG,GAEL2S,SAAU,EACVC,eACEzP,IAAK,EACLgC,IAAK,GAEP0N,YAAY,EACZC,eACE3P,IAAK,EACLgC,IAAK,GAEP4N,UACE5P,IAAK,EACLgC,IAAK,GAEP6N,UAAW,SACXC,UAAW,KACXC,iBAAkB,EAClBC,aAAc,IACdhN,KAAM7S,EAAE,EAAE0M,EAAE,GACZoT,WAAW,EACXC,UAAW,UAIPC,MAAmB9M,KAAKuL,UAAUI,QAAQL,GAAoBD,IAClEO,YAAY,EACZC,MAAK,EACL7H,OACE7L,MAAO,GACP2T,IAAK,KAEP3H,OACEhM,MAAO,EACP2T,IAAK,GACLC,uBAAwB,GAE1BlB,OACE1S,MAAO,UACP2T,IAAK,WAEPE,OACE7T,MAAO,EACP2T,IAAK,EACLG,uBAAwB,GAE1BC,cACEpf,EAAG,EACH0M,EAAG,GAEL2S,SAAU,EACVC,eACEzP,IAAK,EACLgC,IAAK,GAEP0N,YAAY,EACZC,eACE3P,IAAK,EACLgC,IAAK,GAEP4N,UACE5P,IAAK,EACLgC,IAAK,GAEP6N,UAAW,SACXC,UAAW,KACXC,iBAAkB,EAClBC,aAAc,KACdhN,KAAM7S,EAAE,EAAE0M,EAAE,GACZoT,WAAW,EACXC,UAAW,UAGPE,MAAkB/M,KAAKuL,UAAUI,QAAQL,GAAoBD,IACjEO,YAAY,EACZC,MAAK,EACL7H,OACE7L,MAAO,GACP2T,IAAK,KAEP3H,OACEhM,MAAO,EACP2T,IAAK,GACLC,uBAAwB,GAE1BlB,OACE1S,MAAO,UACP2T,IAAK,WAEPE,OACE7T,MAAO,EACP2T,IAAK,EACLG,uBAAwB,GAE1BC,cACEpf,EAAG,EACH0M,EAAG,GAEL2S,SAAU,EACVC,eACEzP,IAAK,EACLgC,IAAK,GAEP0N,YAAY,EACZC,eACE3P,IAAK,EACLgC,IAAK,GAEP4N,UACE5P,IAAK,EACLgC,IAAK,GAEP6N,UAAW,SACXC,UAAW,KACXC,iBAAkB,EAClBC,aAAc,KACdhN,KAAM7S,EAAE,EAAE0M,EAAE,GACZoT,WAAW,EACXC,UAAW,cAGTG,EAAgBrR,IAElB7O,EAAGwX,EAAS,IAAOD,EAAavX,EAAuB,IAAnBuX,EAAa5B,MAAyB,GAAbwB,EAC7DzK,EAAG8K,EAAS,IAAOD,EAAa7K,EAAwB,GAApB6K,EAAa3B,OAA0B,GAAdwB,IAG7DrI,UAAW,GACXC,QAAS,6BAGPmR,EAAiBtR,IAEnB7O,EAAEuX,EAAavX,EAAuB,IAAnBuX,EAAa5B,MAChCjJ,EAAE6K,EAAa7K,EAAwB,GAApB6K,EAAa3B,SAGhC7G,UAAW,GACXC,QAAS,gCA4GXqE,EAAMe,SAASgK,EAAYI,6GAtGlB4B,GAAetH,GAAeuH,EAAe,QAC1CC,GACFvO,KAAKqO,EAAY,GACjBpgB,EAAE,EACF0M,EAAE,GAEA6T,GACFxO,KAAKqO,EAAY,IACjBpgB,EAAE,EACF0M,EAAE,OAEJkS,EAAQG,MAAO,KAEZwB,EAAWxO,KAAKiB,MAAQiG,GAAeQ,oBACrCjC,EAAO,KAEN2I,EAAe3U,IAAI+U,EAAWxO,KAAKY,UAEvC4N,EAAWvgB,EAAKwX,EAAS,IACrBgJ,EAAgBxgB,EAAE8Y,EAAY2H,WAAatJ,EAC3CoJ,EAAWxO,KAAKY,SAAS3S,EAAE8Y,EAAY2H,WAAatJ,EACxDoJ,EAAW7T,EAAK8K,EAAS,IACrBgJ,EAAgB9T,EAAEoM,EAAY4H,YAActJ,EAC5CmJ,EAAWxO,KAAKY,SAASjG,EAAEoM,EAAY4H,YAAcC,EAAmBjU,EAC5E6T,EAAWK,OAASjP,IAAW4O,EAAWvgB,EAAEuX,EAAavX,GAAGuX,EAAa5B,OAAO9F,IAAI,EAAEgC,IAAI,IAC1F0O,EAAWM,OAASlP,GAAU4O,EAAW7T,GAAG6K,EAAavX,EAAEuX,EAAa3B,SAAS/F,IAAI,EAAEgC,IAAI,IAC3FmO,EAAac,eAAeP,EAAWvgB,EAAGugB,EAAW7T,IAGpD4T,EAAUvO,KAAKiB,MAAQiG,GAAeQ,oBACpCjC,EAAO,KAER0I,EAAc1U,IAAI8U,EAAUvO,KAAKY,UAEnC2N,EAAUtgB,EAAKwX,EAAS,IACpBuJ,EAAe/gB,EAAE8Y,EAAY2H,WAAatJ,EAC1CmJ,EAAUvO,KAAKY,SAAS3S,EAAE8Y,EAAY2H,WAAatJ,EACvDmJ,EAAU5T,EAAK8K,EAAS,IACpBuJ,EAAerU,EAAEoM,EAAY4H,YAActJ,EAC3CkJ,EAAUvO,KAAKY,SAASjG,EAAEoM,EAAY4H,YAAcC,EAAmBjU,EAC3E4T,EAAUM,OAASjP,IAAW2O,EAAUtgB,EAAEuX,EAAavX,GAAGuX,EAAa5B,OAAO9F,IAAI,EAAEgC,IAAI,IACxFyO,EAAUO,OAASlP,GAAU2O,EAAU5T,GAAG6K,EAAavX,EAAEuX,EAAa3B,SAAS/F,IAAI,EAAEgC,IAAI,IACzFoO,EAAYa,eAAeR,EAAUtgB,EAAGsgB,EAAU5T,IAGjD4T,EAAUvO,KAAKiB,MAAMiG,GAAeQ,mBAAqB8G,EAAWxO,KAAKiB,MAAMiG,GAAeQ,uBAE/FuG,EAAajB,MAAO,SACpBkB,EAAYlB,MAAO,KACnBlS,GAAcrB,KACZxL,EAAEugB,EAAWK,OACblU,EAAE4T,EAAUO,UAEPP,EAAUvO,KAAKiB,MAAQuN,EAAWxO,KAAKiB,WAE9CgN,EAAajB,MAAO,KACjBuB,EAAUvO,KAAKiB,MAAQiG,GAAeQ,wBACvCwG,EAAYlB,MAAO,KACnBlS,GAAcrB,KACZxL,EAAEsgB,EAAUM,OACZlU,EAAE4T,EAAUO,WAGTP,EAAUvO,KAAKiB,MAAQuN,EAAWxO,KAAKiB,OAE3CuN,EAAWxO,KAAKiB,MAAQiG,GAAeQ,wBACxCuG,EAAajB,MAAO,KACpBlS,GAAcrB,KACZxL,EAAEugB,EAAWK,OACblU,EAAE6T,EAAWM,cAGjBZ,EAAYlB,MAAO,WAGnBiB,EAAajB,MAAO,SACpBkB,EAAYlB,MAAO,eAIrBH,EAAQG,MAAO,SACfiB,EAAajB,MAAO,SACpBkB,EAAYlB,MAAO,SAEnBX,EAAYxF,WAAa,EAAEjH,GAAU,EAAE8G,GAAQ5G,IAAI,EAAEhC,IAAI,QACtDmN,EAAgBtQ,EAAIiU,EAAmBjU,GAAK8K,EAAS,KAAO+E,IAG7DqC,EAAQkC,eAAe9D,EAAgBhd,EAAGgd,EAAgBtQ,GAC1D0R,EAAYzL,SAASnH,IAAIwR,EAAgBhd,EAAEgd,EAAgBtQ,GAC3DG,GAAcrB,KACZxL,EAAE2R,IAAWqL,EAAgBhd,EAAEuX,EAAavX,GAAGuX,EAAa5B,OAAO9F,IAAI,EAAEgC,IAAI,IAC7EnF,EAAEiF,GAAUqL,EAAgBtQ,GAAG6K,EAAavX,EAAEuX,EAAa3B,SAAS/F,IAAI,EAAEgC,IAAI,wGAepEqM,+YC1SX7K,EAAQ,QAEf2N,EAAQ,QACNnJ,EAAe7G,GAAQ,GACzBK,SAAU,IACVC,OAAQlD,6BAOR6S,MAAe/N,KAAKgO,SACxBD,EAAS/L,YAAcnB,GACvBkN,EAAS/J,MAAQ,OAEbiK,MAAiBjO,KAAKgO,SAC1BC,EAAWjM,YAAchC,KAAKO,OAAOC,aACrCyN,EAAWjK,MAAQ,OAEfkK,MAAgBlO,KAAKgO,SACzBE,EAAUlM,YAAcnB,GACxBqN,EAAUlK,MAAQ,OAEdmK,MAAmBnO,KAAKgO,SAC5BG,EAAanM,YAAcnB,GAC3BsN,EAAanK,MAAQ,OAEjBoK,MAAkBpO,KAAKgO,SAC3BI,EAAYpM,YAAcnB,GAC1BuN,EAAYC,UAAU,GAEtBH,EAAUI,KAAOF,EACjBD,EAAaG,KAAOF,MAGhBG,MAAgBvO,KAAKgO,SACzBO,EAAUvM,YAAchC,KAAKO,OAAOC,aAEpCL,EAAMe,SAAS6M,EAASE,EAAWC,EAAUC,EAAaC,EAAYG,OAiBlEC,GACAtF,SAAS,EACTpc,EAAE,EACF0M,EAAE,SAqEAiV,GAAcC,EAAOC,EAAOZ,KAC9BA,EAASa,OAAOF,EAAOjP,SAAS3S,EAAEghB,EAAMY,EAAOjP,SAASjG,EAAEsU,GAC1DC,EAASc,OAAOF,EAAOlP,SAAS3S,EAAEghB,EAAMa,EAAOlP,SAASjG,EAAEsU,QAE1DgB,GACAC,OAEIjiB,EAAE,KACF0M,EAAE,MACFvE,EAAE,MACF4V,MAAM,SACNmB,MAAM,EACNgD,KAAK,GACLC,OAAM,IAGNniB,EAAE,KACF0M,EAAE,MACFvE,EAAE,MACF4V,MAAM,SACNmB,MAAM,EACNgD,KAAK,GACLC,OAAM,IAGNniB,EAAE,IACF0M,EAAE,KACF0V,EAAE,OACFrE,MAAM,SACNmB,MAAM,EACNgD,KAAK,GACLC,OAAM,KAMVE,EAAa,QAGXC,UACFjW,GAAK/E,OAAOib,GAAKA,EAAI,KACrBF,GAAc,EAEP5U,IAAY4U,EANH,GAMkC,SACpCG,EApIQC,CAAAA,QAClBC,aACKxe,EAAI,EAAGA,EAAIue,EAAWte,OAAQD,WACjCye,EAAYF,EAAWve,GACvBlE,EAAKwX,EAAO,IACO,MAAnBD,EAAa5B,OAAa8M,EAAWte,OAAO,GAAGD,EACtB,IAAzByc,EAAmBhL,OAAW8M,EAAWte,OAAO,GAAGD,EACnDwI,EAAK8K,EAAO,IACZmL,EAAYpL,EAAa3B,OAAO,IAChC+M,EAAYhC,EAAmB/K,OAAO,GAC5C8M,EAAO9gB,MAAQ5B,EAAAA,EAAI0M,EAAAA,WAEXgW,GAwHiBE,CAAkBC,EAAUC,YAC7C7B,EAASxZ,QACTwZ,EAASM,UAAU,EAAE,UACrBN,EAAS8B,WAAcpH,GAAWnE,EAAS,IAAOnJ,KAAKgC,IAAIhC,KAAK2U,IAAU,EAANC,IAAYtK,EAChF6J,EAAS5hB,SAASod,EAAE9Z,KACT,IAAJA,GACC+c,EAASa,OAAO9D,EAAEhe,EAAEge,EAAEtR,GAE1BuU,EAASc,OAAO/D,EAAEhe,EAAEge,EAAEtR,SAxHlBqF,KA4HTqO,GAAetH,GACdlM,GAAcpB,IAAI6U,EAAe,KACjCe,EAAU3Z,QACV4Z,EAAa5Z,QACbuZ,EAAwB,IAAhBkC,EAAUvN,MAAUmD,EAAY2H,WAhIhC1O,EAiIGqO,EA/HnBgB,EAAUG,UAAU,EAAE,UAmBtBI,EAAW5P,EAAK,GAAGA,EAAK,GAAGqP,GAC3BO,EAAW5P,EAAK,IAAIA,EAAK,IAAIqP,GAC7BO,EAAW5P,EAAK,GAAGA,EAAK,IAAIqP,GAC5BO,EAAW5P,EAAK,GAAGA,EAAK,IAAIqP,GAE5BO,EAAW5P,EAAK,GAAGA,EAAK,GAAGqP,GAC3BO,EAAW5P,EAAK,GAAGA,EAAK,GAAGqP,GAC3BO,EAAW5P,EAAK,GAAGA,EAAK,GAAGqP,GAC3BO,EAAW5P,EAAK,GAAGA,EAAK,IAAIqP,GAG5BO,EAAW5P,EAAK,IAAIA,EAAK,IAAIqP,GAC7BO,EAAW5P,EAAK,IAAIA,EAAK,IAAIqP,GAC7BO,EAAW5P,EAAK,IAAIA,EAAK,IAAIqP,GAC7BO,EAAW5P,EAAK,IAAIA,EAAK,IAAIqP,GAG7BrP,EAAKnR,SAASod,EAAE9Z,QACTA,EAAE,OACG6Z,EAA4B,SAC5BoF,EAAe,IAAJjf,GAAa,KAAJA,EAAU,GAAK,GACnCpB,EAAY,IAAJoB,GAAa,KAAJA,EAAU,GAAK,EACpCkd,EAAUgC,UAAUrF,EAAMoF,GAC1B/B,EAAUG,UAAU,GACjBvD,EAAEhL,MAAQ,IACToO,EAAUiC,WAAWrF,EAAErL,SAAS3S,EAAEghB,EAAMhD,EAAErL,SAASjG,EAAEsU,EAAMle,MAMvEue,EAAa+B,UAAU,SAAS,IAChC/B,EAAaiC,YACT,EACA,EACAjV,KAAKgC,IAAI0B,EAAK,GAAGY,SAAS3S,EAAE+R,EAAK,GAAGY,SAAS3S,GAAGghB,EAAM,IACtD3S,KAAKgC,IAAI0B,EAAK,GAAGY,SAAS3S,EAAE+R,EAAK,GAAGY,SAAS3S,GAAGghB,EAAM,KAE1DU,EAAQ1hB,EAAI+R,EAAK,GAAGY,SAAS3S,EAAEghB,EAC/BU,EAAQhV,GAAKqF,EAAK,GAAGY,SAASjG,EAAEqF,EAAK,GAAGY,SAASjG,GAAG,EAAEsU,EACtDU,EAAQtF,UAAYrK,EAAK,GAAGY,SAASjG,EAAEqF,EAAK,GAAGY,SAASjG,IAAIqF,EAAK,GAAGY,SAAS3S,EAAE+R,EAAK,GAAGY,SAAS3S,GAChGqhB,EAAajF,SAAWsF,EAAQtF,SAChCiF,EAAarhB,EAAIkjB,EAAUljB,EAAI0hB,EAAQ1hB,EACvCqhB,EAAa3U,EAAIwW,EAAUxW,EAAIgV,EAAQhV,EAkE/B0U,EAAUphB,EAAIkjB,EAAUljB,EACxBohB,EAAU1U,EAAIwW,EAAUxW,IAExB0U,EAAU3Z,QACV4Z,EAAa5Z,SAGd8b,IACC9B,EAAUha,SACN8b,EAAYnW,gBACJlJ,EAAE,EAAGA,EAAEqf,EAAYC,MAAM,EAAEtf,IAC/Bud,EAAUF,UAAU,EAAE,UACtBE,EAAUK,OACNvK,EAAavX,EAAIuX,EAAa5B,MAAMzR,EAAEqf,EAAYC,MAClD,GACJ/B,EAAUM,OACNxK,EAAavX,EAAIuX,EAAa5B,MAAMzR,EAAEqf,EAAYC,MAClDjM,EAAa7K,EAAE6K,EAAa3B,QAEpC6L,EAAUF,UAAU,GACpBE,EAAU2B,UAAU,SAAS,GAC7B3B,EAAUgC,SACNlM,EAAavX,EAAIuX,EAAa5B,MAAM4N,EAAYvY,MAAMuY,EAAYC,MAClE,EACAjM,EAAa5B,MAAM4N,EAAYC,MAC/BjM,EAAa7K,EAAE6K,EAAa3B,QAKrC8N,IACCvC,EAAW1Z,QACXua,EAASC,KAAKrhB,SAASod,EAAE9Z,SAIjByf,GAFW3F,EAAEmE,MAASxQ,GAAWtD,KAAK2U,IAAIC,EAAMjF,EAAEkB,QAASrP,IAAI,EAAEgC,IAAI,IACnExD,KAAKgC,IAAIhC,KAAK2U,IAAIC,EAAMjF,EAAEkB,SACFlB,EAAEkE,KAAQ,GAAK,EAE7Cf,EAAWiC,UAAUpF,EAAED,MAAM4F,GAE1B3F,EAAE7V,GACDgZ,EAAWmC,YACPI,EAAgB1jB,EAAE0jB,EAAgB/N,MAAMqI,EAAEhe,EAC1C0jB,EAAgBhX,EAAEgX,EAAgB9N,OAAOoI,EAAEtR,EAC3CgX,EAAgB/N,MAAMqI,EAAE7V,EACxBub,EAAgB/N,MAAMqI,EAAE7V,GAG7B6V,EAAEoE,GACDjB,EAAWyC,gBACPF,EAAgB1jB,EAAE0jB,EAAgB/N,MAAMqI,EAAEhe,EAC1C0jB,EAAgBhX,EAAEgX,EAAgB9N,OAAOoI,EAAEtR,EAC3CgX,EAAgB/N,MAAMqI,EAAEoE,EACxBsB,EAAgB/N,MAAMqI,EAAEoE,EACxBsB,EAAgB/N,MAAMqI,EAAEoE,EAAE,OAS9C9f,sBAAsBggB,WAG1BA,uFAIIrB,EAASjhB,EAAKwX,EAAS,IAAOD,EAAavX,EAAqB,KAAnBuX,EAAa5B,MAAagL,EAAmB3gB,EAA2B,KAAzB2gB,EAAmBhL,MAC/GsL,EAASvU,EAAK8K,EAAS,IAAOD,EAAa7K,EAAsB,KAApB6K,EAAa3B,OAAY,EAAI+K,EAAmBjU,EAA4B,IAA1BiU,EAAmB/K,OAAW,EAE7HwL,EAAUphB,EAAIkjB,EAAUljB,EACxBohB,EAAU1U,EAAIwW,EAAUxW,EAExB4U,EAAY7Z,QACZ6Z,EAAY8B,UAAU,SAAS,GAE/B3B,EAAUzhB,EAAI,EACdyhB,EAAU/U,EAAI,EACd+U,EAAUvK,MAAQ,GAAGyB,EAElBG,OACK+K,GACA7jB,EAAkB,IAAhBkjB,EAAUvN,MACZjJ,EAAkB,KAAhBwW,EAAUvN,OAEhB2L,EAAYsC,gBACRV,EAAUljB,EAAE6jB,EAAO7jB,EACnBkjB,EAAUxW,EAAEmX,EAAOnX,EACnBwW,EAAUvN,MAAe,EAATkO,EAAO7jB,EACvBkjB,EAAUtN,OAAgB,EAATiO,EAAOnX,EACR,IAAhBwW,EAAUvN,OAIfgG,GAA2B,IAAhBhD,GACVd,EAAarM,IAAI,GAEjBmQ,GAA2B,IAAhBhD,GACXd,EAAarM,IAAI,uXCrSd4K,EAAW,eACX/C,EAAQ,cAEbwE,EAAe7G,GAAQ,GACzBK,SAAU,IACVC,OAAQlD,SAGR0V,EAASC,EAAUC,6BACvBzf,SAAS0f,MAAMxP,KAAK,+BAA+BpL,cAC9Cya,MAAc5Q,KAAKgR,KAAK5H,GACrB6H,WAAY,uBACZC,SAAU,GACV9a,KAAM,SACN+a,MAAO,cAEXP,EAAQ5M,MAAQ,SAChB4M,EAAQ5O,YAAcnB,UAEtBgQ,MAAe7Q,KAAKgR,KAAK,QACrBC,WAAY,uBACZC,SAAU,GACV9a,KAAM,SACN+a,MAAO,eAEXN,EAAS7M,MAAQ,SACjB6M,EAAS7O,YAAcnB,UAEvBiQ,MAAe9Q,KAAKgR,KAAK,KACrBC,WAAY,uBACZC,SAAU,GACV9a,KAAM,SACN+a,MAAO,eAEXL,EAAS9M,MAAQ,WACjB8M,EAAS9O,YAAcnB,MAEvBV,EAAMe,SAAS0P,EAAQC,EAASC,kHAK7BF,QACCA,EAAQnf,KAAO2X,SACfwH,EAAQje,MAAMue,SAAY5M,EAAS,IAA0B,KAAnBD,EAAa5B,MAAuC,IAAzBgL,EAAmBhL,aACxFmO,EAAQje,MAAMye,QAAW9M,EAAS,IAA0B,KAAnBD,EAAa5B,MAAuC,IAAzBgL,EAAmBhL,aACvFmO,EAAQ9jB,EAAKwX,EAAS,IAAOD,EAAavX,EAAqB,KAAnBuX,EAAa5B,MAAagL,EAAmB3gB,EAA6B,IAAzB2gB,EAAmBhL,aAChHmO,EAAQpX,EAAK8K,EAAS,IAAOD,EAAa7K,EAAwB,KAApB6K,EAAa3B,OAAc+K,EAAmBjU,EAA8B,IAA1BiU,EAAmB/K,cACnHkO,EAAQ5M,MAAQ,IAAI,IAAKyB,MAE1BoL,QACCA,EAASpf,KAAO0J,KAAK8O,MAAMoG,EAAYjW,MAAQ,aAC/CyW,EAASle,MAAMue,SAAY5M,EAAS,IAA0B,KAAnBD,EAAa5B,MAAuC,IAAzBgL,EAAmBhL,aACzFoO,EAASle,MAAMye,QAAW9M,EAAS,IAA0B,KAAnBD,EAAa5B,MAAuC,IAAzBgL,EAAmBhL,aACxFoO,EAAS/jB,EAAKwX,EAAS,IAAOD,EAAavX,EAAuB,KAAnBuX,EAAa5B,MAAaoO,EAASpO,MAAQgL,EAAmB3gB,EAA6B,IAAzB2gB,EAAmBhL,MAAYoO,EAASpO,aACzJoO,EAASrX,EAAK8K,EAAS,IAAOD,EAAa7K,EAAwB,KAApB6K,EAAa3B,OAAc+K,EAAmBjU,EAA8B,IAA1BiU,EAAmB/K,cACpHmO,EAAS7M,MAASqM,EAAYnW,MAAS,IAAI,IAAIuL,EAAgB,IAAI,IAAIA,MAExEqL,QACCA,EAASrf,KAAO4e,EAAYhW,YAC5ByW,EAASne,MAAMue,SAAY5M,EAAS,IAA0B,KAAnBD,EAAa5B,MAAuC,IAAzBgL,EAAmBhL,aACzFqO,EAASne,MAAMye,QAAW9M,EAAS,IAA0B,KAAnBD,EAAa5B,MAAuC,IAAzBgL,EAAmBhL,aACxFqO,EAAShkB,EAAKwX,EAAS,IAAOD,EAAavX,EAAuB,KAAnBuX,EAAa5B,MAAaqO,EAASrO,MAAQgL,EAAmB3gB,EAA6B,IAAzB2gB,EAAmBhL,MAAYqO,EAASrO,aACzJqO,EAAStX,EAAK8K,EAAS,IAAOD,EAAa7K,EAAwB,KAApB6K,EAAa3B,OAAc+K,EAAmBjU,EAA8B,IAA1BiU,EAAmB/K,cACpHoO,EAAS9M,MAASqM,EAAYnW,MAAS,IAAI,IAAIuL,EAAgB,IAAI,IAAIA,MAExEgD,GAA2B,IAAhBhD,GACVd,EAAarM,IAAI,GAEjBmQ,GAA2B,IAAhBhD,GACXd,EAAarM,IAAI,4tGCzEV,IAAP1D,KAAc,OAAS,kQAAhB,IAAPA,KAAc,OAAS,0FAJpByc,GAAO,21CCKVzc,KAAS,SAAW,SAAKA,KAAO,OAAS,qNAAzCA,KAAS,SAAW,SAAKA,KAAO,OAAS,6FALtCiE,GAAS,WACTwY,GAAO,8OCYIzc,OAAWA,iCAOXA,UAAeA,8KATnBA,MAAWA,KAAW,OAAS,2GADhCA,KAAU,OAAS,0IAOnBA,iCACDA,qCAPEA,MAAWA,KAAW,OAAS,iEAE3BA,OAAWA,2CAOXA,mBAAeA,mCAVpBA,KAAU,OAAS,gQAJhCgE,GAAON,KAAI,2MC+HI4H,YAAiBtL,gCACPsL,6BACPA,YAAiBtL,gCACdsL,YAAiBtL,gCACXsL,YAAiBtL,gCAC3BsL,6BACCA,YAAiBtL,gCAETsL,2BACJH,SAAYG,iaATnBA,uCACUA,uCACPA,uCACGA,uCACMA,uCACVA,uCACCA,uCAEQA,qCACJH,kBAAYG,stBpBuzBtC,SAAwBpQ,EAASwhB,GAC7B,MAAM/U,EAAQ+U,EAAK/U,MAAQ,GAC3B,SAASnI,EAAOyD,EAAMC,EAAOrF,EAAK7D,GAC9B,GAAI0iB,EAAK/U,QAAUA,EACf,OACJ+U,EAAKC,SAAW3iB,EAChB,IAAI4iB,EAAYF,EAAK1c,SACT6c,IAARhf,IACA+e,EAAYA,EAAUE,QACtBF,EAAU/e,GAAO7D,GAErB,MAAMwG,EAAQyC,IAASyZ,EAAKK,QAAU9Z,GAAM2Z,GAC5C,IAAII,GAAc,EACdN,EAAKlc,QACDkc,EAAKO,OACLP,EAAKO,OAAOnkB,QAAQ,CAAC0H,EAAOpE,KACpBA,IAAM8G,GAAS1C,IACfJ,IACAM,EAAeF,EAAO,EAAG,EAAG,KACxBkc,EAAKO,OAAO7gB,GAAK,OAErBkE,OAKRoc,EAAKlc,MAAMlE,EAAE,GAEjBkE,EAAM3F,IACN0F,EAAcC,EAAO,GACrBA,EAAMS,EAAEyb,EAAKQ,QAASR,EAAK9gB,QAC3BohB,GAAc,GAElBN,EAAKlc,MAAQA,EACTkc,EAAKO,SACLP,EAAKO,OAAO/Z,GAAS1C,GACrBwc,GACAzd,IAGR,IAt+BgBvF,EAs+BDkB,IAr+BkB,iBAAVlB,GAA4C,mBAAfA,EAAMuH,KAq+BjC,CACrB,MAAM9C,EAAoBE,IAW1B,GAVAzD,EAAQqG,KAAKvH,IACT0E,EAAsBD,GACtBe,EAAOkd,EAAKnb,KAAM,EAAGmb,EAAK1iB,MAAOA,GACjC0E,EAAsB,OACvBye,IACCze,EAAsBD,GACtBe,EAAOkd,EAAKU,MAAO,EAAGV,EAAKS,MAAOA,GAClCze,EAAsB,QAGtBge,EAAKK,UAAYL,EAAKW,QAEtB,OADA7d,EAAOkd,EAAKW,QAAS,IACd,MAGV,CACD,GAAIX,EAAKK,UAAYL,EAAKnb,KAEtB,OADA/B,EAAOkd,EAAKnb,KAAM,EAAGmb,EAAK1iB,MAAOkB,IAC1B,EAEXwhB,EAAKC,SAAWzhB,EA5/BxB,IAAoBlB,KoBsHRyS,mHAJEzM,wBAA0BA,0JAXlBA,kPAWRA,mCAA0BA,mOAtGpCsd,EACJC,EAAiBC,uFACbC,MAAkBrS,KAAKsS,QAAQC,YAAY,IAAI,UAC/CC,MAAiBxS,KAAKsS,QAAQG,WAClCD,EAAWE,KAAO,EAClBF,EAAWG,QAAU,EACrBH,EAAWI,SAAU,EACrB1S,GAAM2S,WAAa9S,GAAI+S,OACvB5S,GAAMoS,SAAWE,SAGXO,EAAWjV,GAAQ,GACrBK,SAAU,IACVC,OAAQnD,6BAiCR+X,EAAclI,QACVhe,EAAE0M,KAEO,cAAVsR,EAAEjT,MAAkC,aAAViT,EAAEjT,MAAiC,YAAViT,EAAEjT,MAAgC,eAAViT,EAAEjT,UACxEob,EAAQnI,EAAEoI,QAAQ,IAAMpI,EAAEqI,eAAe,GAC7CrmB,EAAImmB,EAAMG,MACV5Z,EAAIyZ,EAAMI,UAEO,aAAVvI,EAAEjT,MAAiC,WAAViT,EAAEjT,MAA+B,aAAViT,EAAEjT,MAAiC,aAAViT,EAAEjT,MAA8B,YAARiT,EAAEjT,MAA4B,cAARiT,EAAEjT,MAA8B,cAARiT,EAAEjT,OACxJ/K,EAAIge,EAAEwI,QACN9Z,EAAIsR,EAAEyI,SAGVha,GAASjB,KACHxL,EAAAA,EACA0M,EAAAA,IAENC,GAAenB,KACXxL,EAAEA,EAAEyY,EACJ/L,EAAEA,EAAE+L,IAER7L,GAAcpB,IAAI,GAClBgB,GAAgBhB,KAAI,IpB6exB,IAAiBlL,EAAAA,YoB9db+kB,EAAgB7hB,YAAYyP,GAAIyT,OpB+dhCjgB,IAAwB/E,GAAGoH,SAASlH,KAAKtB,4CoBhiBzC4L,GAAMV,IAAI4Z,GACVjZ,GAAOX,IAAI8Z,GACXlZ,GAAMZ,IACFmG,GAXO,KAYMyT,GACRvV,IAAI,KAAKgC,IAAI,KAItBvF,GAAYd,IAAI4Z,EAAe3M,GAC/BlM,GAAaf,IAAI8Z,EAAgB7M,GAEjCxF,GAAIyT,KAAK/Q,MAAQwB,EACjBlE,GAAIyT,KAAK9Q,OAASwB,EAClBnE,GAAIqL,SAASqI,OAAOxP,EAAaC,GACjCnE,GAAI2T,4BAGFC,GAAiC,IAAdC,GACjBb,EAASza,IAAI,GAEbqb,GAAiC,IAAdC,GACnBb,EAASza,IAAI,GAEjBka,EAAWE,KAAO,EAAc,EAAVkB,EACtBpB,EAAWI,QAAWgB,EAAY,eAgCZ9I,QACtBoH,EAAiBpjB,OAAO+kB,gBACxBzB,EAAkBtjB,OAAOglB,aACzB9a,GAAMV,IAAI4Z,GACVjZ,GAAOX,IAAI8Z,uBAtEXjO,EA8DmB2G,IACnBiJ,MAAMjJ,EAAEwI,iEAuBIxI,IAAKkI,EAAYlI,SACfxR,GAAgBhB,KAAI,IACzBwS,IAAKxR,GAAgBhB,KAAI,IACvBwS,IAAKkI,EAAYlI,IACjBA,IAAKkI,EAAYlI,+CACrBqH,wGCrFiCvd,6JAAAA,uRAF3BA,s3BANZA,KAAY,UAAY,eACxBA,KAAM,OAAO,cACbA,0JAJKA,gBAQOA,+GANZA,KAAY,UAAY,eACxBA,KAAM,OAAO,cACbA,0NA5BMof,cACAC,aAIPC,EACAC,QAJO9C,GAAO,aACP+C,EAAS,+KAMhBD,EAAoBE,EAAY,q4BAC9B,o5BAIFJ,EAAQ3b,KAAK+b,iDASNH,wICXyBtf,2DtBqMzBnD,EAAK,wDsBrMoBmD,+QADvBA,gEADMA,KAAO,OAAO,SAAKA,KAAS,WAAW,mCAAYA,kEAAkBA,gBAC3EA,kHADMA,KAAO,OAAO,SAAKA,KAAS,WAAW,+DAAYA,6KAV3Dof,cACAC,kBACA5C,GAAO,aACP+C,EAAS,gBACTnhB,GAAW,+LAElBghB,EAAQ3b,KAAK+b,m+HCMPC,WACG1b,WAEJhE,MAAoBA,aAEjB,6CAEF2f,WACGzb,WAEJlE,MAAoBA,+BAMjBA,KAAkB4f,GAChBC,cAGF7f,aAGKoF,SACHpF,wRArBLA,MAAoBA,4CAOpBA,MAAoBA,yCAMjBA,KAAkB4f,GAChBC,uBAGF7f,oBAIEA,ojBCXR8f,MAAmBC,KAAKC,OAAOzL,GAC/B0L,MAAuBF,KAAKG,YAC9BhH,MAAQ,GACRiH,WAAa,GACbC,QAAU,IACVC,OAAS,KACTC,KAAO,KAELC,MAAqBR,KAAKS,SAAS,WAAY,KACrD7a,GAASjC,IAAI6c,SAEPE,MAAYV,KAAKW,KAAK,IACtBC,MAAcZ,KAAKa,gBACvB/I,UAAW,IACXgJ,OAAQ,EACRC,MAAO,EACPC,OAAQ,GACRC,MAAO,EACPC,gBAAiB,EACjBC,eAAgB,SAChBC,YAAa,EACbC,aAAc,QAKZC,MAActB,KAAKuB,SACrBC,SAAU,KACV1J,UAAW,EACX2J,MAAO,IACPve,KAAM,gBAER0d,EAAQc,MAAMJ,EAAQZ,EAAMV,KAAK2B,QACjC3B,KAAK2B,OAAOD,MAAMxB,EAAiBH,EAAaS,uCAzC5Cza,GAAWpC,MAdQkC,EAAM/H,EAAIkI,SACzBwJ,EAAQoS,OAAOpS,MAAM3J,EAAM/H,GAC3B+jB,aACIxlB,EAAE,EAAGA,EAAE2J,EAAS3J,IACpBmT,EAAMsS,QAAQ/oB,QAAQod,QACd4L,EAAgB5L,EAAE6L,aAClBvM,EAAOsM,EAAchF,MAAM,GAAI,GAC/BkF,EAAMC,SAASH,EAAcI,MAAM,SAAS,IAAI9lB,EACpDwlB,EAAS9nB,KAAK0b,EAAKwM,YAGpBJ,GAIHO,CACIC,EACAC,EAAWC,cAAcC,QAAQ,MAAO,IACxCC,qBA2BT1C,EAAa2C,OAAOzoB,MAAQua,uBAC5BoM,EAAQ1d,KAA4B,mBAApBuR,EAAwCA,EAAgB8N,cAAcC,QAAQ,MAAO,IAAM,6BAYvG1O,OACK6O,EAAU3C,KAAK4C,UAAUC,EAAYA,EAAYvmB,OAAO,IACxDwmB,EAAU9C,KAAK4C,UAAUC,EAAY,IAEpB,YAAlBjC,EAAQmC,OACPnC,EAAQpd,QAEc,YAAvBwc,KAAK9d,QAAQ6gB,OACZ/C,KAAK9d,QAAQ8gB,aAGbC,EACwB,mBAApBxO,EAAuC,EACjB,SAApBA,EAA6B,GACT,YAApBA,EAAgC,GACZ,YAApBA,GACoB,aAApBA,EADgC,GAEZ,WAApBA,EAA+B,IACX,cAApBA,EAAkC,GACd,cAApBA,EAAkC,IACd,eAApBA,EAAmC,GACf,aAApBA,EAAiC,GACb,gBAApBA,EAAoC,GAChB,gBAApBA,GACoB,iBAApBA,EADoC,GAEhB,aAApBA,EAAiC,IACb,gBAApBA,EAAoC,GAChB,gBAApBA,EAAoC,GAChB,iBAApBA,EAAqC,IACT,GAGtCiM,EAAMwC,KAAKjpB,MAAQkpB,EAAete,EAAIoe,EACtC3B,EAAQxJ,UAAU7d,MAA2B,GAAnBkpB,EAAete,MAErCue,EAAQ5c,KAAKwB,OAAOmb,EAAehrB,GAAK,EAAE0qB,EAAYvmB,SAAUumB,EAAYvmB,OAAO,GACnF+mB,EAAaF,EAAehrB,GAAKwqB,EAAUG,GAAWA,EACtDQ,EAAYxQ,EAAUuQ,EAAYrD,KAAK4C,UAAUC,EAAYO,QAEjExC,EAAQ9I,UAAU7d,MAAS2mB,EAAQ9I,UAAU7d,QAAUqpB,EAAYA,EAAW1C,EAAQ9I,UAAU7d,SAEhGuL,GAAW7B,KACP4B,MAAMuN,EACN6I,MAAMkH,EAAYvmB,OAClB6G,MAAMigB,EACN1d,KAAKmd,EAAYO,GACjB3d,KAAK4d,QAIY,YAAlBzC,EAAQmC,OACPnC,EAAQnd,OAEc,YAAvBuc,KAAK9d,QAAQ6gB,OACZ/C,KAAK9d,QAAQqhB,2LC1CqCtjB,KAAcA,KAAY2Y,WAAa,kBAAW3Y,KAAcA,KAAY4Y,YAAc,+EAA1F5Y,KAAcA,KAAY2Y,WAAa,+BAAW3Y,KAAcA,KAAY4Y,YAAc,oFAvEpJ2K,EACAC,oEACEC,aACE3Z,GACJyG,OACEmT,WAAY,OACZ7V,OAAS9F,IAAK,IAAK4b,MAAO,IAAK5Z,IAAK,MACpC+D,QAAU/F,IAAK,IAAK4b,MAAO,MAE7BC,OAAO,GAILC,UAAUC,cAAgBD,UAAUC,aAAaC,eAC9CR,IAA4B,IAAlBA,EAAOvf,OAepBggB,IAdAH,UAAUC,aACPC,aAAaja,GACbvI,KAAK0iB,IACJV,EAASU,EACTC,EAAaD,KAEd7G,MAAM+G,IACLhF,MAAM,gDACNiF,gBACElgB,GAAOR,KAAI,GACXS,GAAWT,IAAI,OACd,aAQT2gB,QACEH,EAAgBD,QACpBT,EAASc,UAAYL,KAIrBM,QAAQC,IAAI,aACZH,EAAcI,iBACRjB,EAASkB,YAAc,IAEzBvgB,GAAWT,IAAI8f,GACfe,QAAQC,IAAIhB,GAEZmB,cAAcN,KAEf,MAGCL,OACAT,IACFA,EAAOqB,YAAY9rB,QAAQ+rB,GAASA,EAAMrhB,QAC1C+gB,QAAQC,IAAI,eAEdrgB,GAAWT,IAAI,MACfihB,cAAcN,4CAITxQ,GAAWiR,EACVrB,IAEAO,oEAMUR,oGCrEduB,iBAKWC,OACRhU,SACO/G,QAAa8a,EAAIE,sBAAsBjU,EAAaG,OACvDlH,EAAK5N,OAAO,KACR4N,EAAK,GAAGiB,MAAMiG,GAAeO,oBrBArC,SAAqBxY,EAAGC,GAC3B,MAAM+rB,EAAQhsB,EAAEhB,EAAIiB,EAAEjB,EAChBitB,EAAQjsB,EAAE0L,EAAIzL,EAAEyL,EACf2B,KAAK6e,KAAKF,GAAO,EAAIC,GAAO,IqBDbE,CAAYpb,EAAK,GAAGE,UAAU,GAAGU,SAASZ,EAAK,GAAGE,UAAU,IAAIU,cAC1EG,EAAaR,GAAOP,EAAK,IAC7BjE,GAAWtC,IAAIsH,EAAWb,gBAEtBnE,GAAWtC,IAAI,MAIvBlJ,sBAAsBwqB,QAEtBhf,GAAWtC,IAAI,iCApBvB4hB,QAAQ3Y,OAAOpL,KAAK2U,QAChB6O,EAAM7O,oCAwBHlF,GAAe+T,GACdC,4NCfKhlB,MAAUuiB,QAAQ,KAAM,0DADdviB,qCAAsBA,QAAcA,sFAAdA,QAAcA,qEAe9CA,KAAQuiB,QAAQ,KAAM,0DADZviB,oCAAoBA,OAAYA,uFAAZA,OAAYA,mFAf5CkR,wBAAL7U,qCAcK4U,wBAAL5U,2QAjBc2D,6JAcAA,0HAjBJA,KAAkB,GAAK,2GAGnBA,wFAcAA,0IAXTkR,WAAL7U,+HAAAA,mBAHc2D,wBAiBTiR,WAAL5U,+HAAAA,gBAHc2D,oBAjBJA,KAAkB,GAAK,mHALnCulB,EACAC,0FAOgBD,sBACL1f,GAAUnC,IAAI6hB,cAaTC,sBACL9f,GAAehC,IAAI8hB,42BCnB7BhI,EAAgBF,oFCKT,oEAAQ,CACnB9hB,OAAQiB,SAASgpB"}